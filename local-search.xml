<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(äº”)</title>
    <link href="/2023/06/21/vue-12/"/>
    <url>/2023/06/21/vue-12/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>ä¸Šä¸€ç¯‡åšå®¢ä¸­æˆ‘ä»¬å®ç°äº†Tabæ å’Œé¢åŒ…å±‘ï¼Œä½†å‘ç°ç›®å‰åŠŸèƒ½è¿˜ååˆ†ç®€é™‹ï¼Œå¾ˆå¤šåŠŸèƒ½å¹¶æ²¡æœ‰å®Œå–„ï¼Œäºæ˜¯æˆ‘ä»¬è¿™ç¯‡åšå®¢æ¥å®Œå–„ä¸€äº›é¡¹ç›®</p><p><strong>å®Œå–„ç›®æ ‡</strong></p><p>1, æ‰“å¼€å¤–éƒ¨é“¾æ¥ï¼Œä»¥åŠåœ¨ç³»ç»Ÿå†…éƒ¨æ‰“å¼€å¤–éƒ¨é“¾æ¥ã€‚<br>2, åˆ‡æ¢é¡µé¢ä½¿ç”¨ä½¿ç”¨åŠ¨ç”»ï¼Œä»¥åŠä¿ç•™é¡µé¢æ»šåŠ¨é«˜åº¦ã€‚<br>3, ä¾§è¾¹èœå•æ ¹æ®è·¯ç”±é«˜äº®ã€‚<br>4, å®Œå–„é¦–é¡µã€‚</p>          </div><h2 id="æ‰“å¼€å¤–éƒ¨é“¾æ¥ï¼Œä»¥åŠåœ¨ç³»ç»Ÿå†…éƒ¨æ‰“å¼€å¤–éƒ¨é“¾æ¥ã€‚"><a href="#æ‰“å¼€å¤–éƒ¨é“¾æ¥ï¼Œä»¥åŠåœ¨ç³»ç»Ÿå†…éƒ¨æ‰“å¼€å¤–éƒ¨é“¾æ¥ã€‚" class="headerlink" title="æ‰“å¼€å¤–éƒ¨é“¾æ¥ï¼Œä»¥åŠåœ¨ç³»ç»Ÿå†…éƒ¨æ‰“å¼€å¤–éƒ¨é“¾æ¥ã€‚"></a>æ‰“å¼€å¤–éƒ¨é“¾æ¥ï¼Œä»¥åŠåœ¨ç³»ç»Ÿå†…éƒ¨æ‰“å¼€å¤–éƒ¨é“¾æ¥ã€‚</h2><h3 id="æ€è·¯åˆ†æ"><a href="#æ€è·¯åˆ†æ" class="headerlink" title="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ</h3><p>ç®€å•æ¥è¯´å°±æ˜¯å†…åµŒä¸€ä¸ª<code>iframe</code>æ ‡ç­¾ï¼Œä½†æ˜¯è¦å’Œç³»ç»Ÿåšåˆ°å…¼å®¹ï¼Œè¿˜æ˜¯éœ€è¦å¥½å¥½è€ƒè™‘çš„ï¼Œ</p><p>è€ƒè™‘çš„ç‚¹</p><ul><li>è·¯ç”±çš„å‚æ•°ä¼ é€’ã€‚</li><li>æ­£å¸¸é¡µé¢çš„åˆ‡æ¢ï¼Œä»¥åŠåŒä¸ºå¤–é“¾é¡µé¢çš„åˆ‡æ¢ã€‚</li><li>ä¸‰æ–¹ç½‘é¡µçš„åŠ è½½åŠ¨ç”»ã€‚</li></ul><h3 id="ç¼–å†™ä»£ç "><a href="#ç¼–å†™ä»£ç " class="headerlink" title="ç¼–å†™ä»£ç "></a>ç¼–å†™ä»£ç </h3><h4 id="ç¼–è¾‘my-router-tsæ–‡ä»¶ï¼Œå¢åŠ èœå•"><a href="#ç¼–è¾‘my-router-tsæ–‡ä»¶ï¼Œå¢åŠ èœå•" class="headerlink" title="ç¼–è¾‘my-router.tsæ–‡ä»¶ï¼Œå¢åŠ èœå•"></a>ç¼–è¾‘<code>my-router.ts</code>æ–‡ä»¶ï¼Œå¢åŠ èœå•</h4><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token string">'1-3'</span><span class="token punctuation">,</span>  pid<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>  name<span class="token operator">:</span> <span class="token string">'ç™¾åº¦'</span><span class="token punctuation">,</span>  path<span class="token operator">:</span> <span class="token string">'https://www.baidu.com/'</span><span class="token punctuation">,</span>  icon<span class="token operator">:</span> <span class="token string">'person'</span><span class="token punctuation">,</span>  sort<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å¢åŠ è¿‡åï¼Œåˆ·æ–°é‡æ–°ç™»é™†ï¼Œèœå•ä¾¿åŠ è½½å‡ºæ¥ï¼Œç‚¹å‡»å‘ç°ï¼Œè·³è½¬åˆ°404é¡µé¢äº†ã€‚æŸ¥çœ‹æµè§ˆå™¨è·¯å¾„<code>http://localhost:8080/#/https://www.baidu.com/</code>æˆ‘ä»¬ä¹Ÿå°±çŸ¥é“ä¸ºä»€ä¹ˆè·³è½¬åˆ°404é¡µé¢äº†ï¼Œå› ä¸ºå¹¶æ²¡æœ‰ç»‘å®š<code>https://www.baidu.com/</code>è¿™ä¸ªè·¯ç”±ï¼Œå¯¹äºä¸‰æ–¹é“¾æ¥ï¼Œæ˜¯æ²¡æœ‰åŠæ³•ç»‘å®šå›ºå®šè·¯ç”±çš„ï¼Œä¹Ÿä¸éœ€è¦ç»‘å®šå›ºå®šè·¯ç”±ï¼Œåªéœ€è¦æŠŠè¿™ä¸ªä¸‰æ–¹é“¾æ¥å½“ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ä¸€ä¸ªå›ºå®šå±•ç¤ºä¸‰æ–¹é“¾æ¥å†…å®¹çš„ç»„ä»¶å³å¯ã€‚è¯´å¹²å°±å¹²ã€‚</p><h4 id="åœ¨pagesç›®å½•ä¸‹æ–°å»ºOutsidePage-vueç»„ä»¶ï¼Œç”¨æ¥å±•ç¤ºä¸‰æ–¹é“¾æ¥é¡µé¢ï¼Œç¼–å†™ä¸‹é¢ä»£ç "><a href="#åœ¨pagesç›®å½•ä¸‹æ–°å»ºOutsidePage-vueç»„ä»¶ï¼Œç”¨æ¥å±•ç¤ºä¸‰æ–¹é“¾æ¥é¡µé¢ï¼Œç¼–å†™ä¸‹é¢ä»£ç " class="headerlink" title="åœ¨pagesç›®å½•ä¸‹æ–°å»ºOutsidePage.vueç»„ä»¶ï¼Œç”¨æ¥å±•ç¤ºä¸‰æ–¹é“¾æ¥é¡µé¢ï¼Œç¼–å†™ä¸‹é¢ä»£ç "></a>åœ¨pagesç›®å½•ä¸‹æ–°å»º<code>OutsidePage.vue</code>ç»„ä»¶ï¼Œç”¨æ¥å±•ç¤ºä¸‰æ–¹é“¾æ¥é¡µé¢ï¼Œç¼–å†™ä¸‹é¢ä»£ç </h4><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;q-page class&#x3D;&quot;full-height&quot;&gt;    &lt;!-- ä»£ç å¾ˆå¤æ‚ï¼Œä¸ç”¨æ…Œï¼Œä¸€æ­¥ä¸€æ­¥å¾€ä¸‹çœ‹ï¼Œè¿™ä¸ªæ ‡ç­¾å°±æ˜¯ç®€å•çš„iframeæ ‡ç­¾     frameborder  iframeé¡µé¢è¾¹æ¡†å®½åº¦ï¼Œè¿™è¾¹è®¾ç½®ä¸ºé›¶ã€‚    @load  ä¸‰æ–¹é“¾æ¥åŠ è½½å®Œæˆï¼Œä¼šè°ƒç”¨æ­¤æ–¹æ³•ã€‚    :src  è¿™ä¸ªä¸è§£é‡Š    --&gt;    &lt;iframe      frameborder&#x3D;&quot;0&quot;      @load&#x3D;&quot;loading &#x3D; false&quot;      :src&#x3D;&quot;url&quot;      class&#x3D;&quot;fit absolute&quot;    &gt;&lt;&#x2F;iframe&gt;&lt;!-- å¦‚æœä¸‰æ–¹é“¾æ¥æ²¡åŠ è½½å®Œï¼Œå±•ç¤ºè¿™ä¸ªåŠ è½½ä¸­çš„æ ‡ç­¾ï¼Œé»˜è®¤è¦†ç›–ä¸Šä¸€çº§å…¨å±ï¼Œç®€å•ç†è§£è¿™ä¸ªå°±æ˜¯åŠ è½½åŠ¨ç”» --&gt;    &lt;q-inner-loading      :showing&#x3D;&quot;loading&quot;      label&#x3D;&quot;æ­£åœ¨åŠ è½½...&quot;      label-class&#x3D;&quot;text-primary&quot;      label-style&#x3D;&quot;font-size: 1.1em&quot;    &#x2F;&gt;  &lt;&#x2F;q-page&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; ref, onActivated, onDeactivated &#125; from &#39;vue&#39;;import &#123; onBeforeRouteLeave, onBeforeRouteUpdate &#125; from &#39;vue-router&#39;;interface Props &#123;  &#x2F;&#x2F; å¤–é“¾åœ°å€  url: string;&#125;&#x2F;* è¿™ä¸ªpropsæ˜¯é€šè¿‡è·¯ç”±ä¼ é€’çš„ï¼Œå…·ä½“ä»£ç ï¼Œè¦çœ‹ç¼–å†™è·¯ç”±çš„éƒ¨åˆ†ä»£ç ï¼Œå…ˆä¿æŒç–‘æƒ‘ã€‚ *&#x2F;withDefaults(defineProps&lt;Props&gt;(), &#123;&#125;);&#x2F;* åŠ è½½åŠ¨ç”»å±•ç¤ºçŠ¶æ€ *&#x2F;const loading &#x3D; ref(true);&#x2F;* ä¸€ä¸ªå®šæ—¶å™¨ *&#x2F;let setTime: NodeJS.Timeout;&#x2F;* è·¯ç”±æ›´æ–°é’©å­ *&#x2F;onBeforeRouteUpdate(() &#x3D;&gt; &#123;  loading.value &#x3D; true;  setTime &#x3D; setTimeout(() &#x3D;&gt; &#123;    loading.value &#x3D; false;  &#125;, 5000);&#125;);&#x2F;* ç¦»å¼€è·¯ç”±é’©å­ *&#x2F;onBeforeRouteLeave(() &#x3D;&gt; &#123;  loading.value &#x3D; false;  clearTimeout(setTime);&#125;);&#x2F;* æ¿€æ´»é’©å­ *&#x2F;onActivated(() &#x3D;&gt; &#123;  loading.value &#x3D; true;  setTime &#x3D; setTimeout(() &#x3D;&gt; &#123;    loading.value &#x3D; false;  &#125;, 5000);&#125;);&#x2F;* æš‚å­˜é’©å­ *&#x2F;onDeactivated(() &#x3D;&gt; &#123;  loading.value &#x3D; false;  clearTimeout(setTime);&#125;);&lt;&#x2F;script&gt;&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ä»£ç ä¸­çš„é’©å­å‡½æ•°ï¼Œæ˜¯ä¸ºäº†åœ¨å„ç§åœºæ™¯ä¸‹èƒ½æœ‰ä¸€è‡´çš„è¡¨ç°ã€‚æ¯”å¦‚ä¸‰æ–¹é¡µé¢ä¹‹é—´åˆ‡æ¢åœºæ™¯ï¼Œå®šæ—¶å™¨æ˜¯ä¸ºäº†é˜²æ­¢ä¸€äº›ä¸‰æ–¹é¡µé¢åŠ è½½æ—¶é—´è¿‡é•¿ï¼Œè€Œä½¿é¡µé¢ä¸€ç›´å¤„äºåŠ è½½ä¸­çŠ¶æ€ã€‚</p><h4 id="ä¿®æ”¹MenuItem-vueç»„ä»¶"><a href="#ä¿®æ”¹MenuItem-vueç»„ä»¶" class="headerlink" title="ä¿®æ”¹MenuItem.vueç»„ä»¶"></a>ä¿®æ”¹MenuItem.vueç»„ä»¶</h4><ul><li>ä¿®æ”¹handleClickå‡½æ•°ä½¿å…¶å…¼å®¹å¤–é“¾ç‚¹å‡»<ul><li>ä¿®æ”¹base.d.tsä¸­MenuItemç±»å‹å®šä¹‰ï¼Œå¢åŠ isBlank?: boolean;å­—æ®µ;</li><li>ä¿®æ”¹my-router.tsæ–‡ä»¶å¢åŠ ä¸€ä¸ª<code>ç™¾åº¦-å¤–</code>è·¯ç”±ä¿¡æ¯ã€‚</li><li>ä¿®æ”¹MenuItem.vueä¸­çš„handleClickå‡½æ•°ä½¿å…¶é€‚åº”ä¸‰æ–¹é¡µé¢çš„é“¾æ¥</li><li>æœ€åä¿®æ”¹routes.tsæ–‡ä»¶å¢åŠ å¤–é“¾çš„è·¯ç”±ä¿¡æ¯<strong>é‡è¦</strong></li></ul></li></ul><p><strong>ç¼–è¾‘å®Œæˆåçš„base.d.tsæ–‡ä»¶</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">declare</span> <span class="token keyword">namespace</span> <span class="token constant">WJ</span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* èœå•é¡¹ */</span>  <span class="token keyword">interface</span> <span class="token class-name">MenuItem</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// èœå•ID</span>    id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    <span class="token comment">// èœå•çˆ¶çº§Idæ ¹èŠ‚ç‚¹ä½¿ç”¨"0"</span>    pid<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    <span class="token comment">// èœå•åç§°</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    <span class="token comment">// èœå•è·¯å¾„</span>    path<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    <span class="token comment">// èœå•å›¾æ ‡</span>    icon<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    <span class="token comment">// èœå•æƒé™ç¼–ç </span>    auth<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    <span class="token comment">// æ’åº</span>    sort<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    <span class="token comment">// æ˜¯å¦æ–°é¡µé¢æ‰“å¼€é“¾æ¥ï¼Œ</span>    isBlank<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>    <span class="token comment">// å­çº§åˆ«èœå•</span>    children<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><strong>åœ¨my-router.tsæ–‡ä»¶ä¸­å¢åŠ ä¸€æ¡è·¯ç”±ä¿¡æ¯</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token string">'1-4'</span><span class="token punctuation">,</span>  pid<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>  name<span class="token operator">:</span> <span class="token string">'ç™¾åº¦-å¤–'</span><span class="token punctuation">,</span>  path<span class="token operator">:</span> <span class="token string">'https://www.baidu.com/'</span><span class="token punctuation">,</span>  icon<span class="token operator">:</span> <span class="token string">'person'</span><span class="token punctuation">,</span>  isBlank<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  sort<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><strong>ç¼–è¾‘è¿‡åçš„MenuItem.vueæ–‡ä»¶ï¼Œé‡ç‚¹æŸ¥çœ‹handleClickå‡½æ•°</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;template v-for&#x3D;&quot;item in menuTree&quot; :key&#x3D;&quot;item.id&quot;&gt;    &lt;q-item      v-if&#x3D;&quot;!item.children&quot;      @click&#x3D;&quot;handleClick(item)&quot;      clickable    &gt;      &lt;q-item-section avatar&gt;        &lt;q-icon :name&#x3D;&quot;item.icon&quot; &#x2F;&gt;      &lt;&#x2F;q-item-section&gt;      &lt;q-item-section&gt;        &lt;q-item-label&gt;&#123;&#123; item.name &#125;&#125;&lt;&#x2F;q-item-label&gt;      &lt;&#x2F;q-item-section&gt;    &lt;&#x2F;q-item&gt;    &lt;q-expansion-item      :icon&#x3D;&quot;item.icon&quot;      :label&#x3D;&quot;item.name&quot;      :content-inset-level&#x3D;&quot;0.2&quot;      v-else    &gt;      &lt;MenuItem :menu-tree&#x3D;&quot;item.children&quot;&gt;&lt;&#x2F;MenuItem&gt;    &lt;&#x2F;q-expansion-item&gt;  &lt;&#x2F;template&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; useRouter &#125; from &#39;vue-router&#39;;import &#123; openURL &#125; from &#39;quasar&#39;;import &#123; useLayoutStore &#125; from &#39;src&#x2F;stores&#x2F;layout-store&#39;;interface Props &#123;  &#x2F;&#x2F; èœå•æ ‘  menuTree: Array&lt;WJ.MenuItem&gt;;&#125;withDefaults(defineProps&lt;Props&gt;(), &#123;&#125;);const layout &#x3D; useLayoutStore();const router &#x3D; useRouter();const handleClick &#x3D; (item: WJ.MenuItem) &#x3D;&gt; &#123;  if (item.isBlank) &#123;    if (layout.isHttp(item.path)) &#123;      openURL(item.path);    &#125; else &#123;      openURL(router.resolve(&#123; path: item.path &#125;).href);    &#125;  &#125; else &#123;    router.push(layout.toBind(item));  &#125;&#125;;&lt;&#x2F;script&gt;&lt;style scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><strong>æœ€åä¿®æ”¹routes.tsæ–‡ä»¶å¢åŠ å¤–é“¾çš„è·¯ç”±ä¿¡æ¯</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> RouteRecordRaw <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span><span class="token keyword">const</span> routes<span class="token operator">:</span> RouteRecordRaw<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    path<span class="token operator">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/LoginPage.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'layouts/MainLayout.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    children<span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/IndexPage.vue'</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">'/sys-menu'</span><span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/IndexPage.vue'</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">'/sys-user'</span><span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/IndexPage.vue'</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token comment">/* è¿™é‡Œæ˜¯æ–°åŠ çš„ï¼Œæ³¨æ„åé¢çš„å†™æ³•ï¼Œè¿™æ˜¯æ ¸å¿ƒ */</span>      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">'/outside-link'</span><span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/OutsidePage.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function-variable function">props</span><span class="token operator">:</span> route <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span> url<span class="token operator">:</span> route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>url <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// Always leave this as last one,</span>  <span class="token comment">// but you can also remove it</span>  <span class="token punctuation">&#123;</span>    path<span class="token operator">:</span> <span class="token string">'/:catchAll(.*)*'</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/ErrorNotFound.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> routes<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>åˆ°è¿™é‡Œå¤–é“¾æ‰“å¼€ç›¸å…³çš„ä»£ç å°±å·²ç»ç¼–å†™å®Œæˆã€‚é‡å¯é¡¹ç›®æŸ¥çœ‹æ•ˆæœã€‚è¿™æ—¶å€™æˆ‘ä»¬çœ‹è§è²Œä¼¼æœ‰äº›é—®é¢˜åŸæ¥æ˜¯ç™¾åº¦ä¸»é¡µä¸ç»™å†…åµŒç½‘é¡µå±•ç¤ºï¼Œå˜šï¼Œæ¢æˆVueå®˜æ–¹æ–‡æ¡£å¾—äº†ã€‚</p><p>ä¿®æ”¹my-router.tsæ–‡ä»¶ï¼Œä¿®æ”¹è¿‡åä»£ç </p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    id<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>    pid<span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'ç³»ç»Ÿç®¡ç†'</span><span class="token punctuation">,</span>    path<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>    icon<span class="token operator">:</span> <span class="token string">'settings_applications'</span><span class="token punctuation">,</span>    sort<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    id<span class="token operator">:</span> <span class="token string">'1-1'</span><span class="token punctuation">,</span>    pid<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'èœå•ç®¡ç†'</span><span class="token punctuation">,</span>    path<span class="token operator">:</span> <span class="token string">'/sys-menu'</span><span class="token punctuation">,</span>    icon<span class="token operator">:</span> <span class="token string">'menu'</span><span class="token punctuation">,</span>    sort<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    id<span class="token operator">:</span> <span class="token string">'1-2'</span><span class="token punctuation">,</span>    pid<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'ç”¨æˆ·ç®¡ç†'</span><span class="token punctuation">,</span>    path<span class="token operator">:</span> <span class="token string">'/sys-user'</span><span class="token punctuation">,</span>    icon<span class="token operator">:</span> <span class="token string">'person'</span><span class="token punctuation">,</span>    sort<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    id<span class="token operator">:</span> <span class="token string">'1-3'</span><span class="token punctuation">,</span>    pid<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'Vueå®˜ç½‘'</span><span class="token punctuation">,</span>    path<span class="token operator">:</span> <span class="token string">'https://cn.vuejs.org/'</span><span class="token punctuation">,</span>    icon<span class="token operator">:</span> <span class="token string">'person'</span><span class="token punctuation">,</span>    sort<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    id<span class="token operator">:</span> <span class="token string">'1-4'</span><span class="token punctuation">,</span>    pid<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'Vueå®˜ç½‘-å¤–'</span><span class="token punctuation">,</span>    path<span class="token operator">:</span> <span class="token string">'https://cn.vuejs.org/'</span><span class="token punctuation">,</span>    icon<span class="token operator">:</span> <span class="token string">'person'</span><span class="token punctuation">,</span>    isBlank<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    sort<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>åˆ·æ–°é¡µé¢ï¼Œå†æ¬¡æŸ¥çœ‹ï¼Œå·²ç»å®Œæˆã€‚</p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hfe9zs6gr3j30z5124tlj.jpg" alt="ä¾‹å­"></p><h2 id="å®ç°ä¾§è¾¹èœå•æ ¹æ®è·¯ç”±é«˜äº®"><a href="#å®ç°ä¾§è¾¹èœå•æ ¹æ®è·¯ç”±é«˜äº®" class="headerlink" title="å®ç°ä¾§è¾¹èœå•æ ¹æ®è·¯ç”±é«˜äº®"></a>å®ç°ä¾§è¾¹èœå•æ ¹æ®è·¯ç”±é«˜äº®</h2><h3 id="æ€è·¯åˆ†æ-1"><a href="#æ€è·¯åˆ†æ-1" class="headerlink" title="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ</h3><p>çŒ›åœ°ä¸€æƒ³å¹¶ä¸å¤æ‚å—·ï¼Œä½¿ç”¨routerè·å–å½“å‰è·¯ç”±ç„¶åæ ¹æ®èœå•çš„pathå±æ€§è¿›è¡Œæ¯”å¯¹å³å¯ã€‚è¿™é‡Œä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜å°±æ˜¯æ— æ³•é«˜äº®çˆ¶çº§èœå•ï¼Œä¸å®Œç¾ã€‚</p><p>å®Œç¾åº”è¯¥æ€ä¹ˆè§£å†³å‘¢ï¼Œè¿™é‡Œå¯ä»¥ç”¨é¢åŒ…å±‘çš„ä¿¡æ¯åˆ¤æ–­å½“å‰èœå•æ˜¯å¦é«˜äº®ï¼Œå› ä¸ºé¢åŒ…å±‘æ˜¯åŒ…å«æ‰€æœ‰å±‚çº§èœå•ï¼Œæ€è·¯æœ‰äº†ï¼Œä»£ç ç¼–å†™å°±å¾ˆç®€å•äº†ã€‚</p><h3 id="ç¼–å†™ä»£ç -1"><a href="#ç¼–å†™ä»£ç -1" class="headerlink" title="ç¼–å†™ä»£ç "></a>ç¼–å†™ä»£ç </h3><p><strong>ä¿®æ”¹MenuItem.vueæ–‡ä»¶ï¼Œä¿®æ”¹è¿‡åå®Œæ•´ä»£ç å¦‚ä¸‹</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;template v-for&#x3D;&quot;item in menuTree&quot; :key&#x3D;&quot;item.id&quot;&gt;    &lt;q-item      v-if&#x3D;&quot;!item.children&quot;      :active&#x3D;&quot;activeStatus(item)&quot;      @click&#x3D;&quot;handleClick(item)&quot;      clickable    &gt;      &lt;q-item-section avatar&gt;        &lt;q-icon :name&#x3D;&quot;item.icon&quot; &#x2F;&gt;      &lt;&#x2F;q-item-section&gt;      &lt;q-item-section&gt;        &lt;q-item-label&gt;&#123;&#123; item.name &#125;&#125;&lt;&#x2F;q-item-label&gt;      &lt;&#x2F;q-item-section&gt;    &lt;&#x2F;q-item&gt;    &lt;q-expansion-item      :header-class&#x3D;&quot;&#123;        &#39;text-primary&#39;: activeStatus(item),      &#125;&quot;      :icon&#x3D;&quot;item.icon&quot;      :label&#x3D;&quot;item.name&quot;      :content-inset-level&#x3D;&quot;0.2&quot;      v-else    &gt;      &lt;MenuItem :menu-tree&#x3D;&quot;item.children&quot;&gt;&lt;&#x2F;MenuItem&gt;    &lt;&#x2F;q-expansion-item&gt;  &lt;&#x2F;template&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; useRouter &#125; from &#39;vue-router&#39;;import &#123; openURL &#125; from &#39;quasar&#39;;import &#123; useLayoutStore &#125; from &#39;src&#x2F;stores&#x2F;layout-store&#39;;interface Props &#123;  &#x2F;&#x2F; èœå•æ ‘  menuTree: Array&lt;WJ.MenuItem&gt;;&#125;withDefaults(defineProps&lt;Props&gt;(), &#123;&#125;);const layout &#x3D; useLayoutStore();const router &#x3D; useRouter();&#x2F;* æ³¨æ„è¿™é‡Œæ˜¯æ›´æ–°çš„ä»£ç  *&#x2F;const activeStatus &#x3D; (item: WJ.MenuItem) &#x3D;&gt; &#123;  return layout.crumbsList.filter((i) &#x3D;&gt; i.id &#x3D;&#x3D;&#x3D; item.id).length &gt; 0;&#125;;const handleClick &#x3D; (item: WJ.MenuItem) &#x3D;&gt; &#123;  if (item.isBlank) &#123;    if (layout.isHttp(item.path)) &#123;      openURL(item.path);    &#125; else &#123;      openURL(router.resolve(&#123; path: item.path &#125;).href);    &#125;  &#125; else &#123;    router.push(layout.toBind(item));  &#125;&#125;;&lt;&#x2F;script&gt;&lt;style scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>èœå•é«˜äº®å·²ç»å®Œæˆï¼Œé‚£ä¹ˆåªå‰©ä¸‹æœ€åçš„ä¿ç•™é¡µé¢æ»šåŠ¨é«˜åº¦äº†</p><h2 id="åˆ‡æ¢é¡µé¢æ·»åŠ åŠ¨ç”»ï¼Œä»¥åŠä¿ç•™é¡µé¢æ»šåŠ¨é«˜åº¦"><a href="#åˆ‡æ¢é¡µé¢æ·»åŠ åŠ¨ç”»ï¼Œä»¥åŠä¿ç•™é¡µé¢æ»šåŠ¨é«˜åº¦" class="headerlink" title="åˆ‡æ¢é¡µé¢æ·»åŠ åŠ¨ç”»ï¼Œä»¥åŠä¿ç•™é¡µé¢æ»šåŠ¨é«˜åº¦"></a>åˆ‡æ¢é¡µé¢æ·»åŠ åŠ¨ç”»ï¼Œä»¥åŠä¿ç•™é¡µé¢æ»šåŠ¨é«˜åº¦</h2><h3 id="æ€è·¯åˆ†æ-2"><a href="#æ€è·¯åˆ†æ-2" class="headerlink" title="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ</h3><p>åˆ‡é¡µåŠ¨ç”»ï¼Œè¿™ä¸ªéœ€è¦ä½¿ç”¨Vueçš„<code>transition</code>ç»„ä»¶ï¼Œå…¶å®è¿™ä¸ªç»„ä»¶æˆ‘ä»¬å·²ç»ç”¨è¿‡ä¸æ­¢ä¸€æ¬¡äº†ï¼Œå¯ä»¥æŸ¥çœ‹Tabå’Œé¢åŒ…å±‘ç»„ä»¶ä»£ç ï¼Œå…¶ä¸­ä½¿ç”¨äº†æ­¤ç»„ä»¶ã€‚</p><p>å¦‚æœæˆ‘ä»¬æŠŠé¡µé¢æ»šåŠ¨é«˜åº¦ä¹Ÿè§†ä½œä¸ºä¸€ç§çŠ¶æ€ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å°±å¯ä»¥å¾ˆå¥½çš„ç†è§£ï¼Œé¡µé¢çš„æ»šåŠ¨é«˜åº¦å°±æ˜¯ä¸€ç§çŠ¶æ€ï¼Œæˆ‘åªéœ€è¦æŠŠé¡µé¢çš„çŠ¶æ€ç¼“å­˜èµ·æ¥ï¼Œé‚£ä¹ˆå¯¹åº”ä¹Ÿå°±ä¿å­˜äº†é¡µé¢å¯¹åº”çš„æ»šåŠ¨é«˜åº¦ã€‚è¿™é‡Œç”¨åˆ°äº†Vueè‡ªå¸¦çš„<code>keep-alive</code>ç»„ä»¶ã€‚å¦‚ä½•è®©Vueç¼“å­˜è·¯ç”±å¯¹åº”çš„é¡µé¢ä¿¡æ¯å‘¢ï¼Œä¸”çœ‹ä»£ç ã€‚</p><h3 id="ç¼–å†™ä»£ç -2"><a href="#ç¼–å†™ä»£ç -2" class="headerlink" title="ç¼–å†™ä»£ç "></a>ç¼–å†™ä»£ç </h3><h4 id="å¢åŠ åˆ‡é¡µåŠ¨ç”»"><a href="#å¢åŠ åˆ‡é¡µåŠ¨ç”»" class="headerlink" title="å¢åŠ åˆ‡é¡µåŠ¨ç”»"></a>å¢åŠ åˆ‡é¡µåŠ¨ç”»</h4><p>ä¿®æ”¹<code>MailLayout.vue</code>ä»£ç ï¼Œä¿®æ”¹è¿‡åå®Œæ•´ä»£ç ï¼Œæ³¨æ„çœ‹ä¸‹ä»£ç ä¸­çš„æ³¨é‡Š</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;q-layout view&#x3D;&quot;hHh LpR lff&quot; class&#x3D;&quot;fit&quot;&gt;    &lt;q-header bordered height-hint&#x3D;&quot;48&quot;&gt;      &lt;q-toolbar&gt;        &lt;q-btn          dense          flat          round          :icon&#x3D;&quot;leftDrawerOpen ? &#39;menu_open&#39; : &#39;menu&#39;&quot;          @click&#x3D;&quot;toggleLeftDrawer&quot;        &#x2F;&gt;        &lt;q-btn flat no-caps no-wrap class&#x3D;&quot;q-ml-xs&quot; v-if&#x3D;&quot;$q.screen.gt.xs&quot;&gt;          &lt;q-icon name&#x3D;&quot;catching_pokemon&quot; size&#x3D;&quot;2rem&quot; &#x2F;&gt;          &lt;q-toolbar-title shrink class&#x3D;&quot;text-weight-bold&quot;&gt;            W_LF          &lt;&#x2F;q-toolbar-title&gt;        &lt;&#x2F;q-btn&gt;        &lt;head-crumbs v-if&#x3D;&quot;$q.screen.gt.xs&quot;&gt;&lt;&#x2F;head-crumbs&gt;        &lt;q-space &#x2F;&gt;        &lt;div class&#x3D;&quot;q-gutter-sm row items-center no-wrap&quot;&gt;          &lt;q-btn dense flat round icon&#x3D;&quot;refresh&quot; @click&#x3D;&quot;refreshPage&quot;&gt;            &lt;q-tooltip&gt; é‡è½½é¡µé¢ &lt;&#x2F;q-tooltip&gt;          &lt;&#x2F;q-btn&gt;          &lt;q-btn            round            dense            flat            color&#x3D;&quot;white&quot;            :icon&#x3D;&quot;$q.fullscreen.isActive ? &#39;fullscreen_exit&#39; : &#39;fullscreen&#39;&quot;            @click&#x3D;&quot;$q.fullscreen.toggle()&quot;            v-if&#x3D;&quot;$q.screen.gt.sm&quot;          &gt;          &lt;&#x2F;q-btn&gt;          &lt;q-btn            v-if&#x3D;&quot;$q.screen.gt.sm&quot;            round            dense            flat            color&#x3D;&quot;white&quot;            icon&#x3D;&quot;fab fa-github&quot;            type&#x3D;&quot;a&quot;            href&#x3D;&quot;https:&#x2F;&#x2F;gitee.com&#x2F;wlf213&#x2F;wlf-admin&quot;            target&#x3D;&quot;_blank&quot;          &gt;          &lt;&#x2F;q-btn&gt;          &lt;q-btn            v-if&#x3D;&quot;$q.screen.gt.sm&quot;            round            dense            flat            class&#x3D;&quot;text-red&quot;            type&#x3D;&quot;a&quot;            href&#x3D;&quot;https:&#x2F;&#x2F;gitee.com&#x2F;wlf213&quot;            target&#x3D;&quot;_blank&quot;          &gt;            &lt;i class&#x3D;&quot;fa fa-heart fa-2x fa-beat&quot;&gt;&lt;&#x2F;i&gt;          &lt;&#x2F;q-btn&gt;          &lt;q-btn round dense flat color&#x3D;&quot;white&quot; icon&#x3D;&quot;notifications&quot;&gt;            &lt;q-badge color&#x3D;&quot;red&quot; text-color&#x3D;&quot;white&quot; floating&gt; 5 &lt;&#x2F;q-badge&gt;            &lt;q-menu&gt;              &lt;q-list style&#x3D;&quot;min-width: 100px&quot;&gt;                &lt;q-card class&#x3D;&quot;text-center no-shadow no-border&quot;&gt;                  &lt;q-btn                    label&#x3D;&quot;å…¨éƒ¨æŸ¥çœ‹&quot;                    style&#x3D;&quot;max-width: 120px !important&quot;                    flat                    dense                    class&#x3D;&quot;text-indigo-8&quot;                  &gt;&lt;&#x2F;q-btn&gt;                &lt;&#x2F;q-card&gt;              &lt;&#x2F;q-list&gt;            &lt;&#x2F;q-menu&gt;          &lt;&#x2F;q-btn&gt;          &lt;q-btn round flat&gt;            &lt;q-avatar size&#x3D;&quot;26px&quot;&gt;              &lt;img                src&#x3D;&quot;https:&#x2F;&#x2F;gimg2.baidu.com&#x2F;image_search&#x2F;src&#x3D;http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fblog%2F202107%2F19%2F20210719150601_4401e.thumb.1000_0.jpg&amp;refer&#x3D;http%3A%2F%2Fc-ssl.duitang.com&amp;app&#x3D;2002&amp;size&#x3D;f9999,10000&amp;q&#x3D;a80&amp;n&#x3D;0&amp;g&#x3D;0n&amp;fmt&#x3D;auto?sec&#x3D;1685108172&amp;t&#x3D;232426938cbc64554c6c143fdb13fb4c&quot;              &#x2F;&gt;            &lt;&#x2F;q-avatar&gt;            &lt;q-menu transition-show&#x3D;&quot;scale&quot; transition-hide&#x3D;&quot;scale&quot;&gt;              &lt;q-list dense&gt;                &lt;q-item v-ripple&gt;                  &lt;q-item-section avatar&gt;                    &lt;q-avatar&gt;                      &lt;img                        src&#x3D;&quot;https:&#x2F;&#x2F;gimg2.baidu.com&#x2F;image_search&#x2F;src&#x3D;http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fblog%2F202107%2F19%2F20210719150601_4401e.thumb.1000_0.jpg&amp;refer&#x3D;http%3A%2F%2Fc-ssl.duitang.com&amp;app&#x3D;2002&amp;size&#x3D;f9999,10000&amp;q&#x3D;a80&amp;n&#x3D;0&amp;g&#x3D;0n&amp;fmt&#x3D;auto?sec&#x3D;1685108172&amp;t&#x3D;232426938cbc64554c6c143fdb13fb4c&quot;                      &#x2F;&gt;                    &lt;&#x2F;q-avatar&gt;                  &lt;&#x2F;q-item-section&gt;                  &lt;q-item-section&gt;ä½ å¥½, W&lt;&#x2F;q-item-section&gt;                &lt;&#x2F;q-item&gt;                &lt;q-item clickable v-close-popup @click&#x3D;&quot;onenProfile&quot;&gt;                  &lt;q-item-section class&#x3D;&quot;text-center&quot;&gt;ä¸ªäººä¸»é¡µ&lt;&#x2F;q-item-section&gt;                &lt;&#x2F;q-item&gt;                &lt;q-item clickable v-close-popup @click&#x3D;&quot;logout&quot;&gt;                  &lt;q-item-section class&#x3D;&quot;text-center&quot;&gt;é€€å‡ºç™»å½•&lt;&#x2F;q-item-section&gt;                &lt;&#x2F;q-item&gt;              &lt;&#x2F;q-list&gt;            &lt;&#x2F;q-menu&gt;          &lt;&#x2F;q-btn&gt;        &lt;&#x2F;div&gt;        &lt;q-btn dense flat round icon&#x3D;&quot;menu&quot; @click&#x3D;&quot;toggleRightDrawer&quot; &#x2F;&gt;      &lt;&#x2F;q-toolbar&gt;      &lt;head-tab&gt;&lt;&#x2F;head-tab&gt;    &lt;&#x2F;q-header&gt;    &lt;q-drawer      show-if-above      v-model&#x3D;&quot;leftDrawerOpen&quot;      side&#x3D;&quot;left&quot;      bordered      :width&#x3D;&quot;layout.leftDrawerWeight&quot;    &gt;      &lt;left-drawer&gt;&lt;&#x2F;left-drawer&gt;    &lt;&#x2F;q-drawer&gt;    &lt;q-drawer v-model&#x3D;&quot;rightDrawerOpen&quot; side&#x3D;&quot;right&quot; overlay elevated&gt;      &lt;!-- drawer content --&gt;    &lt;&#x2F;q-drawer&gt;    &lt;q-page-container class&#x3D;&quot;fit&quot;&gt;        &lt;!-- æ³¨æ„è¿™é‡Œï¼Œå°±æ˜¯æ ¸å¿ƒ --&gt;      &lt;router-view v-slot&#x3D;&quot;&#123; Component &#125;&quot; v-if&#x3D;&quot;isRouterAlive&quot;&gt;        &lt;transition          mode&#x3D;&quot;out-in&quot;          enter-active-class&#x3D;&quot;animated fadeIn&quot;          leave-active-class&#x3D;&quot;animated fadeOut&quot;        &gt;          &lt;!-- æœ€å¤šç¼“å­˜20ä¸ªé¡µé¢--&gt;          &lt;keep-alive :max&#x3D;&quot;20&quot;&gt;            &lt;component :is&#x3D;&quot;Component&quot; &#x2F;&gt;          &lt;&#x2F;keep-alive&gt;        &lt;&#x2F;transition&gt;      &lt;&#x2F;router-view&gt;      &lt;q-inner-loading        :showing&#x3D;&quot;!isRouterAlive&quot;        label-class&#x3D;&quot;text-primary&quot;        label&#x3D;&quot;è½½å…¥ä¸­...&quot;        label-style&#x3D;&quot;font-size: 1.1em&quot;      &#x2F;&gt;    &lt;&#x2F;q-page-container&gt;  &lt;&#x2F;q-layout&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; ref, nextTick, defineAsyncComponent &#125; from &#39;vue&#39;;import &#123; useRouter &#125; from &#39;vue-router&#39;;import &#123; useQuasar &#125; from &#39;quasar&#39;;import &#123; useAuthStore, useLayoutStore &#125; from &#39;src&#x2F;stores&#x2F;layout-store&#39;;&#x2F;* è¿™é‡Œé€šé€šä½¿ç”¨å¼‚æ­¥çš„æ–¹å¼åŠ è½½ç»„ä»¶ï¼Œç¼©å°æ‰“åŒ…å¤§å°ï¼Œæå‡é¦–å±åŠ è½½é¡µé¢ *&#x2F;const HeadTab &#x3D; defineAsyncComponent(() &#x3D;&gt; import(&#39;.&#x2F;componet&#x2F;HeadTab.vue&#39;));const HeadCrumbs &#x3D; defineAsyncComponent(  () &#x3D;&gt; import(&#39;.&#x2F;componet&#x2F;HeadCrumbs.vue&#39;));const LeftDrawer &#x3D; defineAsyncComponent(  () &#x3D;&gt; import(&#39;.&#x2F;componet&#x2F;LeftDrawer.vue&#39;));const leftDrawerOpen &#x3D; ref(false);const rightDrawerOpen &#x3D; ref(false);const router &#x3D; useRouter();const auth &#x3D; useAuthStore();const layout &#x3D; useLayoutStore();const $q &#x3D; useQuasar();const isRouterAlive &#x3D; ref(true);const toggleLeftDrawer &#x3D; () &#x3D;&gt; &#123;  leftDrawerOpen.value &#x3D; !leftDrawerOpen.value;&#125;;const toggleRightDrawer &#x3D; () &#x3D;&gt; &#123;  rightDrawerOpen.value &#x3D; !rightDrawerOpen.value;&#125;;const refreshPage &#x3D; () &#x3D;&gt; &#123;  isRouterAlive.value &#x3D; false;  setTimeout(() &#x3D;&gt; &#123;    nextTick(() &#x3D;&gt; &#123;      isRouterAlive.value &#x3D; true;    &#125;);  &#125;, 500);&#125;;const logout &#x3D; () &#x3D;&gt; &#123;  auth.token &#x3D; &#39;&#39;;  router.push(&#39;&#x2F;login&#39;);&#125;;const onenProfile &#x3D; () &#x3D;&gt; &#123;    &#x2F;&#x2F;&#125;;&lt;&#x2F;script&gt;&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ä»”ç»†çœ‹ä»£ç çš„åº”è¯¥å‘ç°å¥½åƒä¸æ­¢å¢åŠ äº†åˆ‡é¡µåŠ¨ç”»åŠŸèƒ½ï¼Œå¥½åƒå¤¹å¸¦äº†ç§è´§ï¼ŒğŸ˜ŠğŸ˜ŠğŸ˜Šï¼Œæ ¸å¿ƒè¿˜æ˜¯åˆ‡é¡µåŠ¨ç”»ï¼Œç§è´§å•¥çš„ï¼Œåªæ˜¯ä¸€äº›å°å°çš„ä¼˜åŒ–ï¼Œæˆ–è€…è¯´æ˜¯ä¸€äº›ç»†èŠ‚ï¼Œæ¯”å¦‚é¡µé¢åˆ·æ–°åŠŸèƒ½ã€‚</p><p>åˆ°è¿™é‡Œé¡µé¢åˆ‡æ¢åŠ¨ç”»æ˜¯å°±æ˜¯ä»¥åŠå®ç°äº†ï¼Œä½†æ˜¯å®é™…æ“ä½œå‘ç°å¥½åƒåŠ¨ç”»å¹¶æœªç”Ÿæ•ˆï¼Œä¸»è¦æ˜¯å› ä¸ºæ¯ä¸ªé¡µé¢éƒ½ä¸€æ ·ï¼Œå¯¼è‡´ä¸å®¹æ˜“å‘ç°ä¸”ä¹ŸåŠ¨ç”»å¯¼è‡´çš„ã€‚ä¿®æ”¹ä¸åŒè·¯ç”±å¯¹åº”çš„é¡µé¢å³å¯ã€‚</p><h4 id="ä¿ç•™é¡µé¢æ»šåŠ¨æ¡é«˜åº¦"><a href="#ä¿ç•™é¡µé¢æ»šåŠ¨æ¡é«˜åº¦" class="headerlink" title="ä¿ç•™é¡µé¢æ»šåŠ¨æ¡é«˜åº¦"></a>ä¿ç•™é¡µé¢æ»šåŠ¨æ¡é«˜åº¦</h4><ul><li>åœ¨pagesä¸‹æ–°å¢ç»„ä»¶<code>MenuPage.vue</code>ï¼Œ<code>UserPage.vue</code>ç»„ä»¶, ä¸ºäº†æ¼”ç¤ºæ»šåŠ¨æ¡æ»šåŠ¨ã€‚</li><li>ä¿®æ”¹routes.tsæ–‡ä»¶å†…å®¹</li></ul><p><strong>MenuPage.vueä¸­ä»£ç </strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;q-page :style-fn&#x3D;&quot;styFn&quot;&gt;    &lt;q-scroll-area :style&#x3D;&quot;&#123; height: pageHeight + &#39;px&#39; &#125;&quot;&gt;      èœå•ç®¡ç†      &lt;div v-for&#x3D;&quot;i in 50&quot; :key&#x3D;&quot;i&quot;&gt;èœå•ç®¡ç†--&#123;&#123; i &#125;&#125;&lt;&#x2F;div&gt;    &lt;&#x2F;q-scroll-area&gt;  &lt;&#x2F;q-page&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; ref &#125; from &#39;vue&#39;;const pageHeight &#x3D; ref(400);const styFn &#x3D; (offset: number, height: number) &#x3D;&gt; &#123;  pageHeight.value &#x3D; height - offset;&#125;;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><strong>UserPage.vueä¸­ä»£ç </strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;q-page :style-fn&#x3D;&quot;styFn&quot;&gt;    &lt;q-scroll-area :style&#x3D;&quot;&#123; height: pageHeight + &#39;px&#39; &#125;&quot;&gt;      ç”¨æˆ·ç®¡ç†      &lt;div v-for&#x3D;&quot;i in 50&quot; :key&#x3D;&quot;i&quot;&gt;èœå•ç®¡ç†--&#123;&#123; i &#125;&#125;&lt;&#x2F;div&gt;    &lt;&#x2F;q-scroll-area&gt;  &lt;&#x2F;q-page&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; ref &#125; from &#39;vue&#39;;const pageHeight &#x3D; ref(400);const styFn &#x3D; (offset: number, height: number) &#x3D;&gt; &#123;  pageHeight.value &#x3D; height - offset;&#125;;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><strong>routes.tsä¿®æ”¹è¿‡åå®Œæ•´ä»£ç </strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> RouteRecordRaw <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span><span class="token keyword">const</span> routes<span class="token operator">:</span> RouteRecordRaw<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    path<span class="token operator">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/LoginPage.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'layouts/MainLayout.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    children<span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/IndexPage.vue'</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">'/sys-menu'</span><span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/MenuPage.vue'</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">'/sys-user'</span><span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/UserPage.vue'</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">'/outside-link'</span><span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/OutsidePage.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function-variable function">props</span><span class="token operator">:</span> route <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span> url<span class="token operator">:</span> route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>url <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// Always leave this as last one,</span>  <span class="token comment">// but you can also remove it</span>  <span class="token punctuation">&#123;</span>    path<span class="token operator">:</span> <span class="token string">'/:catchAll(.*)*'</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/ErrorNotFound.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> routes<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ç¼–å†™å®Œæˆï¼Œé‡å¯é¡¹ç›®ï¼Œåˆ‡æ¢ç”¨æˆ·ç®¡ç†å’Œèœå•ç®¡ç†é¡µé¢ï¼Œå‘ç°æ»šåŠ¨æ¡é«˜åº¦æ˜¯èƒ½å¤Ÿè¢«ä¿å­˜çš„ï¼Œè‡³æ­¤ä¿å­˜æ»šåŠ¨æ¡é«˜åº¦åŠŸèƒ½å·²ç»å®ç°ã€‚</p><p>å†…å®¹åªæ˜¯ä½œä¸ºæ¼”ç¤ºï¼Œå®é™…ä½¿ç”¨ä¸­ï¼Œå†…å®¹æ ‡ç­¾åº”è¯¥å†™åœ¨q-scroll-areaæ ‡ç­¾ä¹‹ä¸­ï¼Œä»¥å®ç°å¯¹æ»šåŠ¨é«˜åº¦çš„ä¿å­˜ã€‚</p><p>åˆ°è¿™æ¡†æ¶çš„æ ¸å¿ƒå†…å®¹å°±å·²ç»ä»‹ç»å®Œäº†ï¼Œå¦‚éœ€ç»§ç»­ç®¡ç†ï¼Œå¯å…³æ³¨<a href="https://gitee.com/wlf213/wlf-admin">wlf-admin</a>é¡¹ç›®ï¼Œæ­¤é¡¹ç›®ä¸ºæ­¤æ•™ç¨‹çš„å®Œæ•´ç‰ˆï¼Œæ­¤æ•™ç¨‹ï¼Œåªç®€å•ä»‹ç»äº†åå°ç®¡ç†æ¡†æ¶è¾ƒä¸ºæ ¸å¿ƒçš„å†…å®¹ï¼Œç»„ä»¶å±•ç¤ºï¼Œä»¥åŠå¸ƒå±€æ ·ä¾‹ï¼Œéƒ½åœ¨å®Œæ•´ç‰ˆé¡¹ç›®ä¸­ã€‚ä¸‹é¢çš„ä»£ç ï¼Œå–è‡ªå®Œæ•´é¡¹ç›®ä¸­</p><h4 id="ç®€å•ç¼–è¾‘é¦–é¡µ"><a href="#ç®€å•ç¼–è¾‘é¦–é¡µ" class="headerlink" title="ç®€å•ç¼–è¾‘é¦–é¡µ"></a>ç®€å•ç¼–è¾‘é¦–é¡µ</h4><p>é¦–å…ˆç¼–è¾‘<code>package.json</code>æ–‡ä»¶ï¼Œç¼–è¾‘è¿‡åä»£ç å¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"wlf-admin-study"</span><span class="token punctuation">,</span>  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"0.0.1"</span><span class="token punctuation">,</span>  <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"A Quasar Project"</span><span class="token punctuation">,</span>  <span class="token property">"productName"</span><span class="token operator">:</span> <span class="token string">"Wlf-admin"</span><span class="token punctuation">,</span>  <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">"wlf"</span><span class="token punctuation">,</span>  <span class="token property">"private"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"quasar dev"</span><span class="token punctuation">,</span>    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"quasar build"</span><span class="token punctuation">,</span>    <span class="token property">"lint"</span><span class="token operator">:</span> <span class="token string">"eslint --ext .js,.ts,.vue ./"</span><span class="token punctuation">,</span>    <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"prettier --write \"**/*.&#123;js,ts,vue,scss,html,md,json&#125;\" --ignore-path .gitignore"</span><span class="token punctuation">,</span>    <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"echo \"No test specified\" &amp;&amp; exit 0"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"axios"</span><span class="token operator">:</span> <span class="token string">"^1.2.1"</span><span class="token punctuation">,</span>    <span class="token property">"vue-i18n"</span><span class="token operator">:</span> <span class="token string">"^9.2.2"</span><span class="token punctuation">,</span>    <span class="token property">"pinia"</span><span class="token operator">:</span> <span class="token string">"^2.0.11"</span><span class="token punctuation">,</span>    <span class="token property">"@quasar/extras"</span><span class="token operator">:</span> <span class="token string">"^1.0.0"</span><span class="token punctuation">,</span>    <span class="token property">"core-js"</span><span class="token operator">:</span> <span class="token string">"^3.6.5"</span><span class="token punctuation">,</span>    <span class="token property">"quasar"</span><span class="token operator">:</span> <span class="token string">"^2.6.0"</span><span class="token punctuation">,</span>    <span class="token property">"vue"</span><span class="token operator">:</span> <span class="token string">"^3.0.0"</span><span class="token punctuation">,</span>    <span class="token property">"vue-router"</span><span class="token operator">:</span> <span class="token string">"^4.0.0"</span><span class="token punctuation">,</span>      <span class="token comment">// æ·»åŠ è¿™ä¸¤ä¸ªä¾èµ–</span>    <span class="token property">"echarts"</span><span class="token operator">:</span> <span class="token string">"^5.4.2"</span><span class="token punctuation">,</span>    <span class="token property">"vue-echarts"</span><span class="token operator">:</span> <span class="token string">"^6.5.5"</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"@typescript-eslint/eslint-plugin"</span><span class="token operator">:</span> <span class="token string">"^5.10.0"</span><span class="token punctuation">,</span>    <span class="token property">"@typescript-eslint/parser"</span><span class="token operator">:</span> <span class="token string">"^5.10.0"</span><span class="token punctuation">,</span>    <span class="token property">"eslint"</span><span class="token operator">:</span> <span class="token string">"^8.10.0"</span><span class="token punctuation">,</span>    <span class="token property">"eslint-plugin-vue"</span><span class="token operator">:</span> <span class="token string">"^9.0.0"</span><span class="token punctuation">,</span>    <span class="token property">"eslint-config-prettier"</span><span class="token operator">:</span> <span class="token string">"^8.1.0"</span><span class="token punctuation">,</span>    <span class="token property">"prettier"</span><span class="token operator">:</span> <span class="token string">"^2.5.1"</span><span class="token punctuation">,</span>    <span class="token property">"@types/node"</span><span class="token operator">:</span> <span class="token string">"^12.20.21"</span><span class="token punctuation">,</span>    <span class="token property">"@quasar/app-webpack"</span><span class="token operator">:</span> <span class="token string">"^3.0.0"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"browserslist"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token string">"last 10 Chrome versions"</span><span class="token punctuation">,</span>    <span class="token string">"last 10 Firefox versions"</span><span class="token punctuation">,</span>    <span class="token string">"last 4 Edge versions"</span><span class="token punctuation">,</span>    <span class="token string">"last 7 Safari versions"</span><span class="token punctuation">,</span>    <span class="token string">"last 8 Android versions"</span><span class="token punctuation">,</span>    <span class="token string">"last 8 ChromeAndroid versions"</span><span class="token punctuation">,</span>    <span class="token string">"last 8 FirefoxAndroid versions"</span><span class="token punctuation">,</span>    <span class="token string">"last 10 iOS versions"</span><span class="token punctuation">,</span>    <span class="token string">"last 5 Opera versions"</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"engines"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"node"</span><span class="token operator">:</span> <span class="token string">">= 12.22.1"</span><span class="token punctuation">,</span>    <span class="token property">"npm"</span><span class="token operator">:</span> <span class="token string">">= 6.13.4"</span><span class="token punctuation">,</span>    <span class="token property">"yarn"</span><span class="token operator">:</span> <span class="token string">">= 1.21.1"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><strong>å¢åŠ ç»„ä»¶</strong></p><p>æŒ‰è·¯å¾„å¢åŠ ç»„ä»¶</p><ul><li><code>src\components\cards\CardCharts2.vue</code></li><li><code>src\components\cards\CardSocial.vue</code></li><li><code>src\components\tabs\TabSocial.vue</code></li></ul><p><code>CardCharts2.vue</code>ä»£ç å†…å®¹</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;q-card class&#x3D;&quot;q-mt-sm no-shadow&quot; bordered&gt;    &lt;q-card-section class&#x3D;&quot;text-h6 q-pb-none&quot;&gt;      &lt;q-item&gt;        &lt;q-item-section avatar class&#x3D;&quot;&quot;&gt;          &lt;q-icon color&#x3D;&quot;blue&quot; name&#x3D;&quot;fas fa-chart-line&quot; size&#x3D;&quot;44px&quot; &#x2F;&gt;        &lt;&#x2F;q-item-section&gt;        &lt;q-item-section&gt;          &lt;div class&#x3D;&quot;text-h6&quot;&gt;é”€å”®è®°å½•&lt;&#x2F;div&gt;        &lt;&#x2F;q-item-section&gt;      &lt;&#x2F;q-item&gt;    &lt;&#x2F;q-card-section&gt;    &lt;q-card-section class&#x3D;&quot;row&quot;&gt;      &lt;div class&#x3D;&quot;col-lg-7 col-sm-12 col-xs-12 col-md-7&quot;&gt;        &lt;div class&#x3D;&quot;row&quot;&gt;          &lt;div class&#x3D;&quot;col-lg-3 col-md-3 col-xs-6 col-sm-6&quot;&gt;            &lt;q-item&gt;              &lt;q-item-section top avatar&gt;                &lt;q-avatar color&#x3D;&quot;blue&quot; text-color&#x3D;&quot;white&quot; icon&#x3D;&quot;bluetooth&quot; &#x2F;&gt;              &lt;&#x2F;q-item-section&gt;              &lt;q-item-section&gt;                &lt;q-item-label class&#x3D;&quot;text-h6 text-blue text-bold&quot;                  &gt;4321&lt;&#x2F;q-item-label                &gt;                &lt;q-item-label caption&gt;æ—¶å°š&lt;&#x2F;q-item-label&gt;              &lt;&#x2F;q-item-section&gt;            &lt;&#x2F;q-item&gt;          &lt;&#x2F;div&gt;          &lt;div class&#x3D;&quot;col-lg-3 col-md-3 col-xs-6 col-sm-6&quot;&gt;            &lt;q-item&gt;              &lt;q-item-section top avatar&gt;                &lt;q-avatar color&#x3D;&quot;grey-8&quot; text-color&#x3D;&quot;white&quot; icon&#x3D;&quot;bluetooth&quot; &#x2F;&gt;              &lt;&#x2F;q-item-section&gt;              &lt;q-item-section&gt;                &lt;q-item-label class&#x3D;&quot;text-h6 text-grey-8 text-bold&quot;                  &gt;9876&lt;&#x2F;q-item-label                &gt;                &lt;q-item-label caption&gt;ç”µå­&lt;&#x2F;q-item-label&gt;              &lt;&#x2F;q-item-section&gt;            &lt;&#x2F;q-item&gt;          &lt;&#x2F;div&gt;          &lt;div class&#x3D;&quot;col-lg-3 col-md-3 col-xs-6 col-sm-6&quot;&gt;            &lt;q-item&gt;              &lt;q-item-section top avatar&gt;                &lt;q-avatar color&#x3D;&quot;green-6&quot; text-color&#x3D;&quot;white&quot; icon&#x3D;&quot;bluetooth&quot; &#x2F;&gt;              &lt;&#x2F;q-item-section&gt;              &lt;q-item-section&gt;                &lt;q-item-label class&#x3D;&quot;text-h6 text-green-6 text-bold&quot;                  &gt;345&lt;&#x2F;q-item-label                &gt;                &lt;q-item-label caption&gt;ç”·è£…&lt;&#x2F;q-item-label&gt;              &lt;&#x2F;q-item-section&gt;            &lt;&#x2F;q-item&gt;          &lt;&#x2F;div&gt;          &lt;div class&#x3D;&quot;col-lg-3 col-md-3 col-xs-6 col-sm-6&quot;&gt;            &lt;q-item&gt;              &lt;q-item-section top avatar&gt;                &lt;q-avatar                  color&#x3D;&quot;orange-8&quot;                  text-color&#x3D;&quot;white&quot;                  icon&#x3D;&quot;bluetooth&quot;                &#x2F;&gt;              &lt;&#x2F;q-item-section&gt;              &lt;q-item-section&gt;                &lt;q-item-label class&#x3D;&quot;text-h6 text-orange-8 text-bold&quot;                  &gt;1021&lt;&#x2F;q-item-label                &gt;                &lt;q-item-label caption&gt;è¯ä¹¦&lt;&#x2F;q-item-label&gt;              &lt;&#x2F;q-item-section&gt;            &lt;&#x2F;q-item&gt;          &lt;&#x2F;div&gt;        &lt;&#x2F;div&gt;        &lt;div&gt;          &lt;VChart            :option&#x3D;&quot;sales_options&quot;            class&#x3D;&quot;q-mt-md&quot;            :resizable&#x3D;&quot;true&quot;            autoresize            style&#x3D;&quot;height: 250px&quot;          &#x2F;&gt;        &lt;&#x2F;div&gt;      &lt;&#x2F;div&gt;      &lt;div class&#x3D;&quot;col-lg-5 col-sm-12 col-xs-12 col-md-5&quot;&gt;        &lt;q-item&gt;          &lt;q-item-section avatar class&#x3D;&quot;&quot;&gt;            &lt;q-icon              color&#x3D;&quot;blue&quot;              name&#x3D;&quot;fas fa-gift&quot;              class&#x3D;&quot;q-pl-md&quot;              size&#x3D;&quot;24px&quot;            &#x2F;&gt;          &lt;&#x2F;q-item-section&gt;          &lt;q-item-section&gt;            &lt;div class&#x3D;&quot;text-h6&quot;&gt;ä»Šæ—¥&lt;&#x2F;div&gt;          &lt;&#x2F;q-item-section&gt;        &lt;&#x2F;q-item&gt;        &lt;div&gt;          &lt;VChart            :option&#x3D;&quot;pie_options&quot;            class&#x3D;&quot;q-mt-md&quot;            :resizable&#x3D;&quot;true&quot;            autoresize            style&#x3D;&quot;height: 250px&quot;          &#x2F;&gt;        &lt;&#x2F;div&gt;      &lt;&#x2F;div&gt;    &lt;&#x2F;q-card-section&gt;  &lt;&#x2F;q-card&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#39;echarts&#39;;import VChart from &#39;vue-echarts&#39;;const sales_options &#x3D; &#123;  tooltip: &#123;    trigger: &#39;axis&#39;,    axisPointer: &#123;      &#x2F;&#x2F; Coordinate axis indicator, coordinate axis trigger is valid      type: &#39;shadow&#39;, &#x2F;&#x2F; The default is a straight line, optional:&#39;line&#39; |&#39;shadow&#39;    &#125;,  &#125;,  grid: &#123;    left: &#39;2%&#39;,    right: &#39;2%&#39;,    top: &#39;4%&#39;,    bottom: &#39;3%&#39;,    containLabel: true,  &#125;,  xAxis: [    &#123;      type: &#39;category&#39;,      data: [        &#39;ä¸€æœˆ&#39;,        &#39;äºŒæœˆ&#39;,        &#39;ä¸‰æœˆ&#39;,        &#39;å››æœˆ&#39;,        &#39;äº”æœˆ&#39;,        &#39;å…­æœˆ&#39;,        &#39;ä¸ƒæœˆ&#39;,        &#39;å…«æœˆ&#39;,        &#39;ä¹æœˆ&#39;,        &#39;åæœˆ&#39;,        &#39;åä¸€æœˆ&#39;,        &#39;åäºŒæœˆ&#39;,      ],    &#125;,  ],  yAxis: [    &#123;      type: &#39;value&#39;,      splitLine: &#123;        show: false,      &#125;,    &#125;,  ],  series: [    &#123;      name: &#39;æ—¶å°š&#39;,      type: &#39;bar&#39;,      data: [40, 45, 27, 50, 32, 50, 70, 30, 30, 40, 67, 29],      color: &#39;#546bfa&#39;,    &#125;,    &#123;      name: &#39;ç”µå­&#39;,      type: &#39;bar&#39;,      data: [124, 100, 20, 120, 117, 70, 110, 90, 50, 90, 20, 50],      color: &#39;#3a9688&#39;,    &#125;,    &#123;      name: &#39;ç”·è£…&#39;,      type: &#39;bar&#39;,      data: [17, 2, 0, 29, 20, 10, 23, 0, 8, 20, 11, 30],      color: &#39;#02a9f4&#39;,    &#125;,    &#123;      name: &#39;è¯ä¹¦&#39;,      type: &#39;bar&#39;,      data: [20, 100, 80, 14, 90, 86, 100, 70, 120, 50, 30, 60],      color: &#39;#f88c2b&#39;,    &#125;,  ],&#125;;const pie_options &#x3D; &#123;  tooltip: &#123;    trigger: &#39;item&#39;,    formatter: &#39;&#123;a&#125; &lt;br&#x2F;&gt;&#123;b&#125;: &#123;c&#125; (&#123;d&#125;%)&#39;,  &#125;,  legend: &#123;    bottom: 10,    left: &#39;center&#39;,    data: [&#39;æ—¶å°š&#39;, &#39;ç”µå­&#39;, &#39;ç”·è£…&#39;, &#39;è¯ä¹¦&#39;],  &#125;,  series: [    &#123;      name: &#39;é”€å”®é¢&#39;,      type: &#39;pie&#39;,      radius: [&#39;50%&#39;, &#39;70%&#39;],      avoidLabelOverlap: false,      label: &#123;        show: false,        position: &#39;center&#39;,      &#125;,      emphasis: &#123;        label: &#123;          show: false,          fontSize: &#39;30&#39;,          fontWeight: &#39;bold&#39;,        &#125;,      &#125;,      labelLine: &#123;        show: false,      &#125;,      data: [        &#123;          value: 335,          name: &#39;æ—¶å°š&#39;,          itemStyle: &#123;            color: &#39;#546bfa&#39;,          &#125;,        &#125;,        &#123;          value: 310,          name: &#39;ç”µå­&#39;,          itemStyle: &#123;            color: &#39;#3a9688&#39;,          &#125;,        &#125;,        &#123;          value: 234,          name: &#39;ç”·è£…&#39;,          itemStyle: &#123;            color: &#39;#02a9f4&#39;,          &#125;,        &#125;,        &#123;          value: 135,          name: &#39;è¯ä¹¦&#39;,          itemStyle: &#123;            color: &#39;#f88c2b&#39;,          &#125;,        &#125;,      ],    &#125;,  ],&#125;;&lt;&#x2F;script&gt;&lt;style scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><code>CardSocial.vue</code>ä»£ç å†…å®¹</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;q-card class&#x3D;&quot;bg-transparent no-shadow no-border&quot; bordered&gt;    &lt;q-card-section class&#x3D;&quot;q-pa-none&quot;&gt;      &lt;div class&#x3D;&quot;row q-col-gutter-sm&quot;&gt;        &lt;div          v-for&#x3D;&quot;(item, index) in items&quot;          :key&#x3D;&quot;index&quot;          class&#x3D;&quot;col-md-3 col-sm-12 col-xs-12&quot;        &gt;          &lt;q-item :style&#x3D;&quot;&#96;background-color: $&#123;item.color1&#125;&#96;&quot; class&#x3D;&quot;q-pa-none&quot;&gt;            &lt;q-item-section              v-if&#x3D;&quot;icon_position &#x3D;&#x3D;&#x3D; &#39;left&#39;&quot;              side              :style&#x3D;&quot;&#96;background-color: $&#123;item.color2&#125;&#96;&quot;              class&#x3D;&quot;q-pa-lg q-mr-none text-white&quot;            &gt;              &lt;q-icon :name&#x3D;&quot;item.icon&quot; color&#x3D;&quot;white&quot; size&#x3D;&quot;24px&quot;&gt;&lt;&#x2F;q-icon&gt;            &lt;&#x2F;q-item-section&gt;            &lt;q-item-section class&#x3D;&quot;q-pa-md q-ml-none text-white&quot;&gt;              &lt;q-item-label class&#x3D;&quot;text-white text-h6 text-weight-bolder&quot;&gt;&#123;&#123;                item.value              &#125;&#125;&lt;&#x2F;q-item-label&gt;              &lt;q-item-label&gt;&#123;&#123; item.title &#125;&#125;&lt;&#x2F;q-item-label&gt;            &lt;&#x2F;q-item-section&gt;            &lt;q-item-section              v-if&#x3D;&quot;icon_position &#x3D;&#x3D;&#x3D; &#39;right&#39;&quot;              side              class&#x3D;&quot;q-mr-md text-white&quot;            &gt;              &lt;q-icon :name&#x3D;&quot;item.icon&quot; color&#x3D;&quot;white&quot; size&#x3D;&quot;44px&quot;&gt;&lt;&#x2F;q-icon&gt;            &lt;&#x2F;q-item-section&gt;          &lt;&#x2F;q-item&gt;        &lt;&#x2F;div&gt;      &lt;&#x2F;div&gt;    &lt;&#x2F;q-card-section&gt;  &lt;&#x2F;q-card&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; computed &#125; from &#39;vue&#39;;interface Props &#123;  &#x2F;&#x2F; èœå•å®šä½  icon_position: string;&#125;const props &#x3D; withDefaults(defineProps&lt;Props&gt;(), &#123;  icon_position: &#39;left&#39;,&#125;);const items &#x3D; computed(() &#x3D;&gt; &#123;  return props.icon_position &#x3D;&#x3D;&#x3D; &#39;left&#39;    ? [        &#123;          title: &#39;æˆ‘çš„è´¦æˆ·&#39;,          icon: &#39;person&#39;,          value: &#39;200&#39;,          color1: &#39;#5064b5&#39;,          color2: &#39;#3e51b5&#39;,        &#125;,        &#123;          title: &#39;æˆ‘çš„å…³æ³¨&#39;,          icon: &#39;fab fa-twitter&#39;,          value: &#39;500&#39;,          color1: &#39;#f37169&#39;,          color2: &#39;#f34636&#39;,        &#125;,        &#123;          title: &#39;ç²‰ä¸æ•°&#39;,          icon: &#39;fab fa-google&#39;,          value: &#39;50&#39;,          color1: &#39;#ea6a7f&#39;,          color2: &#39;#ea4b64&#39;,        &#125;,        &#123;          title: &#39;ç½‘ç«™è®¿é—®ç»Ÿè®¡&#39;,          icon: &#39;bar_chart&#39;,          value: &#39;1020&#39;,          color1: &#39;#a270b1&#39;,          color2: &#39;#9f52b1&#39;,        &#125;,      ]    : [        &#123;          title: &#39;æ¯æœˆæ”¶å…¥&#39;,          icon: &#39;fas fa-dollar-sign&#39;,          value: &#39;$ 20k&#39;,          color1: &#39;#546bfa&#39;,          color2: &#39;#3e51b5&#39;,        &#125;,        &#123;          title: &#39;æ¯å‘¨é”€å”®&#39;,          icon: &#39;fas fa-chart-bar&#39;,          value: &#39;20&#39;,          color1: &#39;#3a9688&#39;,          color2: &#39;#3e51b5&#39;,        &#125;,        &#123;          title: &#39;æ–°å®¢æˆ·&#39;,          icon: &#39;fas fa-chart-line&#39;,          value: &#39;321&#39;,          color1: &#39;#7cb342&#39;,          color2: &#39;#3e51b5&#39;,        &#125;,        &#123;          title: &#39;æ´»è·ƒç”¨æˆ·&#39;,          icon: &#39;person&#39;,          value: &#39;82&#39;,          color1: &#39;#f88c2b&#39;,          color2: &#39;#3e51b5&#39;,        &#125;,      ];&#125;);&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><code>TabSocial.vue</code>ä»£ç å†…å®¹</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;div class&#x3D;&quot;col-lg-6 col-md-6 col-sm-12 col-xs-12&quot;&gt;    &lt;q-card class&#x3D;&quot;fit no-shadow&quot; bordered&gt;      &lt;q-tabs        v-model&#x3D;&quot;tab&quot;        dense        class&#x3D;&quot;text-grey&quot;        active-color&#x3D;&quot;primary&quot;        indicator-color&#x3D;&quot;primary&quot;        align&#x3D;&quot;justify&quot;      &gt;        &lt;q-tab          name&#x3D;&quot;contact&quot;          :class&#x3D;&quot;tab &#x3D;&#x3D; &#39;contact&#39; ? &#39;text-blue&#39; : &#39;&#39;&quot;          icon&#x3D;&quot;contacts&quot;          label&#x3D;&quot;è”ç³»äºº&quot;        &#x2F;&gt;        &lt;q-tab          name&#x3D;&quot;message&quot;          :class&#x3D;&quot;tab &#x3D;&#x3D; &#39;message&#39; ? &#39;text-blue&#39; : &#39;&#39;&quot;          icon&#x3D;&quot;comment&quot;          label&#x3D;&quot;æ¶ˆæ¯&quot;        &gt;          &lt;q-badge color&#x3D;&quot;red&quot; floating&gt;&#123;&#123; messages.length &#125;&#125;&lt;&#x2F;q-badge&gt;        &lt;&#x2F;q-tab&gt;        &lt;q-tab          name&#x3D;&quot;notification&quot;          :class&#x3D;&quot;tab &#x3D;&#x3D; &#39;notification&#39; ? &#39;text-blue&#39; : &#39;&#39;&quot;          icon&#x3D;&quot;notifications&quot;          label&#x3D;&quot;é€šçŸ¥&quot;        &gt;          &lt;q-badge color&#x3D;&quot;red&quot; floating&gt;4&lt;&#x2F;q-badge&gt;        &lt;&#x2F;q-tab&gt;      &lt;&#x2F;q-tabs&gt;      &lt;q-separator &#x2F;&gt;      &lt;q-tab-panels v-model&#x3D;&quot;tab&quot; animated&gt;        &lt;q-tab-panel name&#x3D;&quot;contact&quot; class&#x3D;&quot;q-pa-sm&quot;&gt;          &lt;q-list class&#x3D;&quot;rounded-borders&quot; separator&gt;            &lt;q-item              v-for&#x3D;&quot;(contact, index) in contacts&quot;              :key&#x3D;&quot;index&quot;              clickable              v-ripple            &gt;              &lt;q-item-section avatar&gt;                &lt;q-avatar&gt;                  &lt;img :src&#x3D;&quot;contact.avatar&quot; &#x2F;&gt;                &lt;&#x2F;q-avatar&gt;              &lt;&#x2F;q-item-section&gt;              &lt;q-item-section&gt;                &lt;q-item-label lines&#x3D;&quot;1&quot;&gt;&#123;&#123; contact.name &#125;&#125;&lt;&#x2F;q-item-label&gt;                &lt;q-item-label caption lines&#x3D;&quot;2&quot;&gt;                  &lt;span class&#x3D;&quot;text-weight-bold&quot;&gt;&#123;&#123; contact.position &#125;&#125;&lt;&#x2F;span&gt;                &lt;&#x2F;q-item-label&gt;              &lt;&#x2F;q-item-section&gt;              &lt;q-item-section side&gt;                &lt;div class&#x3D;&quot;text-grey-8 q-gutter-xs&quot;&gt;                  &lt;q-btn                    class&#x3D;&quot;gt-xs&quot;                    size&#x3D;&quot;md&quot;                    flat                    color&#x3D;&quot;blue&quot;                    dense                    round                    icon&#x3D;&quot;comment&quot;                  &#x2F;&gt;                  &lt;q-btn                    class&#x3D;&quot;gt-xs&quot;                    size&#x3D;&quot;md&quot;                    flat                    color&#x3D;&quot;red&quot;                    dense                    round                    icon&#x3D;&quot;email&quot;                  &#x2F;&gt;                  &lt;q-btn                    size&#x3D;&quot;md&quot;                    flat                    dense                    round                    color&#x3D;&quot;green&quot;                    icon&#x3D;&quot;phone&quot;                  &#x2F;&gt;                &lt;&#x2F;div&gt;              &lt;&#x2F;q-item-section&gt;            &lt;&#x2F;q-item&gt;          &lt;&#x2F;q-list&gt;        &lt;&#x2F;q-tab-panel&gt;        &lt;q-tab-panel name&#x3D;&quot;message&quot; class&#x3D;&quot;q-pa-sm&quot;&gt;          &lt;q-item v-for&#x3D;&quot;msg in messages&quot; :key&#x3D;&quot;msg.id&quot; clickable v-ripple&gt;            &lt;q-item-section avatar&gt;              &lt;q-avatar&gt;                &lt;img :src&#x3D;&quot;msg.avatar&quot; &#x2F;&gt;              &lt;&#x2F;q-avatar&gt;            &lt;&#x2F;q-item-section&gt;            &lt;q-item-section&gt;              &lt;q-item-label&gt;&#123;&#123; msg.name &#125;&#125;&lt;&#x2F;q-item-label&gt;              &lt;q-item-label caption lines&#x3D;&quot;1&quot;&gt;&#123;&#123; msg.msg &#125;&#125;&lt;&#x2F;q-item-label&gt;            &lt;&#x2F;q-item-section&gt;            &lt;q-item-section side&gt;              &#123;&#123; msg.time &#125;&#125;            &lt;&#x2F;q-item-section&gt;          &lt;&#x2F;q-item&gt;        &lt;&#x2F;q-tab-panel&gt;        &lt;q-tab-panel name&#x3D;&quot;notification&quot; class&#x3D;&quot;q-pa-sm&quot;&gt;          &lt;q-list&gt;            &lt;q-item clickable v-ripple&gt;              &lt;q-item-section avatar&gt;                &lt;q-avatar color&#x3D;&quot;teal&quot; text-color&#x3D;&quot;white&quot; icon&#x3D;&quot;info&quot; &#x2F;&gt;              &lt;&#x2F;q-item-section&gt;              &lt;q-item-section&gt;å›¾æ ‡&lt;&#x2F;q-item-section&gt;            &lt;&#x2F;q-item&gt;            &lt;q-item clickable v-ripple&gt;              &lt;q-item-section avatar&gt;                &lt;q-avatar color&#x3D;&quot;teal&quot; text-color&#x3D;&quot;white&quot; icon&#x3D;&quot;report&quot; &#x2F;&gt;              &lt;&#x2F;q-item-section&gt;              &lt;q-item-section&gt;å›¾æ ‡&lt;&#x2F;q-item-section&gt;            &lt;&#x2F;q-item&gt;            &lt;q-item clickable v-ripple&gt;              &lt;q-item-section avatar&gt;                &lt;q-avatar color&#x3D;&quot;teal&quot; text-color&#x3D;&quot;white&quot; icon&#x3D;&quot;remove&quot; &#x2F;&gt;              &lt;&#x2F;q-item-section&gt;              &lt;q-item-section&gt;å›¾æ ‡&lt;&#x2F;q-item-section&gt;            &lt;&#x2F;q-item&gt;            &lt;q-item clickable v-ripple&gt;              &lt;q-item-section avatar&gt;                &lt;q-avatar                  color&#x3D;&quot;teal&quot;                  text-color&#x3D;&quot;white&quot;                  icon&#x3D;&quot;remove_circle_outline&quot;                &#x2F;&gt;              &lt;&#x2F;q-item-section&gt;              &lt;q-item-section&gt;å›¾æ ‡&lt;&#x2F;q-item-section&gt;            &lt;&#x2F;q-item&gt;          &lt;&#x2F;q-list&gt;        &lt;&#x2F;q-tab-panel&gt;      &lt;&#x2F;q-tab-panels&gt;    &lt;&#x2F;q-card&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; ref &#125; from &#39;vue&#39;;const tab &#x3D; ref(&#39;contact&#39;);import &#123; contacts, messages &#125; from &#39;pages&#x2F;data&#x2F;list&#39;;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><strong>å¢åŠ æ–‡ä»¶</strong></p><p>æŒ‰æ­¤è·¯å¾„æ–°å»ºæ–‡ä»¶<code>src\pages\data\list.ts</code></p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">const</span> baseImg <span class="token operator">=</span>  <span class="token string">'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2F4d2a8885-131d-4530-835a-0ee12ae4201b%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&amp;refer=http%3A%2F%2Fsafe-img.xhscdn.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1686664782&amp;t=8789789109da9319243a2ea7ffe4d1fe'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> baseImg2 <span class="token operator">=</span>  <span class="token string">'https://img2.baidu.com/it/u=473659940,2616707866&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=500'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> baseImg3 <span class="token operator">=</span>  <span class="token string">'https://img0.baidu.com/it/u=2837801980,2735196303&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=500'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> messages <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'å°çº¢'</span><span class="token punctuation">,</span>    msg<span class="token operator">:</span> <span class="token string">' å¦‚æœå°ç‹—'</span><span class="token punctuation">,</span>    avatar<span class="token operator">:</span> baseImg2<span class="token punctuation">,</span>    time<span class="token operator">:</span> <span class="token string">'10:42 PM'</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    id<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'å°ç™½'</span><span class="token punctuation">,</span>    msg<span class="token operator">:</span> <span class="token string">' å¦‚æœå°ç‹—'</span><span class="token punctuation">,</span>    avatar<span class="token operator">:</span> baseImg2<span class="token punctuation">,</span>    time<span class="token operator">:</span> <span class="token string">'11:17 AM'</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'å­©å­'</span><span class="token punctuation">,</span>    msg<span class="token operator">:</span> <span class="token string">' å¦‚æœå°ç‹—'</span><span class="token punctuation">,</span>    avatar<span class="token operator">:</span> baseImg2<span class="token punctuation">,</span>    time<span class="token operator">:</span> <span class="token string">'5:17 AM'</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'å°æ°'</span><span class="token punctuation">,</span>    msg<span class="token operator">:</span> <span class="token string">' å¦‚æœå°ç‹—'</span><span class="token punctuation">,</span>    avatar<span class="token operator">:</span> baseImg2<span class="token punctuation">,</span>    time<span class="token operator">:</span> <span class="token string">'5:17 AM'</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'å°çº¢'</span><span class="token punctuation">,</span>    msg<span class="token operator">:</span> <span class="token string">' å¦‚æœå°ç‹—'</span><span class="token punctuation">,</span>    avatar<span class="token operator">:</span> baseImg2<span class="token punctuation">,</span>    time<span class="token operator">:</span> <span class="token string">'5:17 AM'</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> contacts <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> <span class="token string">'å°P'</span><span class="token punctuation">,</span>    position<span class="token operator">:</span> <span class="token string">'å¼€å‘'</span><span class="token punctuation">,</span>    avatar<span class="token operator">:</span> baseImg2<span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> <span class="token string">'Rå…ˆç”Ÿ'</span><span class="token punctuation">,</span>    position<span class="token operator">:</span> <span class="token string">'å¼€å‘'</span><span class="token punctuation">,</span>    avatar<span class="token operator">:</span> baseImg2<span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> <span class="token string">'å°æ°'</span><span class="token punctuation">,</span>    position<span class="token operator">:</span> <span class="token string">'å¼€å‘'</span><span class="token punctuation">,</span>    avatar<span class="token operator">:</span> baseImg2<span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> <span class="token string">'Bå‹'</span><span class="token punctuation">,</span>    position<span class="token operator">:</span> <span class="token string">'ç®¡ç†å‘˜'</span><span class="token punctuation">,</span>    avatar<span class="token operator">:</span> baseImg2<span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> <span class="token string">'è€å“¥'</span><span class="token punctuation">,</span>    position<span class="token operator">:</span> <span class="token string">'ç®¡ç†å‘˜'</span><span class="token punctuation">,</span>    avatar<span class="token operator">:</span> baseImg2<span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> sales_data <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> <span class="token string">'å°çº¢'</span><span class="token punctuation">,</span>    Progress<span class="token operator">:</span> <span class="token number">70</span><span class="token punctuation">,</span>    status<span class="token operator">:</span> <span class="token string">'å…³é—­'</span><span class="token punctuation">,</span>    stock<span class="token operator">:</span> <span class="token string">'14 / 30'</span><span class="token punctuation">,</span>    date<span class="token operator">:</span> <span class="token string">'2018å¹´10æœˆ23æ—¥'</span><span class="token punctuation">,</span>    avatar<span class="token operator">:</span> baseImg<span class="token punctuation">,</span>    product_name<span class="token operator">:</span> <span class="token string">'åŒ…åŒ…'</span><span class="token punctuation">,</span>    total<span class="token operator">:</span> <span class="token string">'300.00'</span><span class="token punctuation">,</span>    code<span class="token operator">:</span> <span class="token string">'QWE123'</span><span class="token punctuation">,</span>    prod_img<span class="token operator">:</span> baseImg<span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> <span class="token string">'å°é»‘'</span><span class="token punctuation">,</span>    Progress<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>    status<span class="token operator">:</span> <span class="token string">'å‘é€'</span><span class="token punctuation">,</span>    date<span class="token operator">:</span> <span class="token string">'2018å¹´11æœˆ11æ—¥'</span><span class="token punctuation">,</span>    stock<span class="token operator">:</span> <span class="token string">'25 / 70'</span><span class="token punctuation">,</span>    avatar<span class="token operator">:</span> baseImg<span class="token punctuation">,</span>    product_name<span class="token operator">:</span> <span class="token string">'ç”µè„‘'</span><span class="token punctuation">,</span>    total<span class="token operator">:</span> <span class="token string">'230,00'</span><span class="token punctuation">,</span>    code<span class="token operator">:</span> <span class="token string">'ABC890'</span><span class="token punctuation">,</span>    prod_img<span class="token operator">:</span> baseImg<span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> <span class="token string">'å°åˆ˜'</span><span class="token punctuation">,</span>    Progress<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>    status<span class="token operator">:</span> <span class="token string">'ç­‰å¾…'</span><span class="token punctuation">,</span>    stock<span class="token operator">:</span> <span class="token string">'35 / 50'</span><span class="token punctuation">,</span>    avatar<span class="token operator">:</span> baseImg<span class="token punctuation">,</span>    product_name<span class="token operator">:</span> <span class="token string">'PS5'</span><span class="token punctuation">,</span>    total<span class="token operator">:</span> <span class="token string">'34,00'</span><span class="token punctuation">,</span>    date<span class="token operator">:</span> <span class="token string">'19 Sept 2020'</span><span class="token punctuation">,</span>    code<span class="token operator">:</span> <span class="token string">'GHI556'</span><span class="token punctuation">,</span>    prod_img<span class="token operator">:</span> baseImg<span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> <span class="token string">'å°æ°'</span><span class="token punctuation">,</span>    Progress<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>    status<span class="token operator">:</span> <span class="token string">'å·²ä»˜è´¹'</span><span class="token punctuation">,</span>    stock<span class="token operator">:</span> <span class="token string">'18 / 33'</span><span class="token punctuation">,</span>    avatar<span class="token operator">:</span> baseImg<span class="token punctuation">,</span>    product_name<span class="token operator">:</span> <span class="token string">'SWæ¸¸æˆæœº'</span><span class="token punctuation">,</span>    total<span class="token operator">:</span> <span class="token string">'208,00'</span><span class="token punctuation">,</span>    date<span class="token operator">:</span> <span class="token string">'2020å¹´9æœˆ19æ—¥'</span><span class="token punctuation">,</span>    code<span class="token operator">:</span> <span class="token string">'JKL345'</span><span class="token punctuation">,</span>    prod_img<span class="token operator">:</span> baseImg<span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><strong>é¦–é¡µä»£ç </strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;q-page :style-fn&#x3D;&quot;styFn&quot;&gt;    &lt;q-scroll-area :style&#x3D;&quot;&#123; height: pageHeight + &#39;px&#39; &#125;&quot;&gt;      &lt;div class&#x3D;&quot;q-pa-sm&quot;&gt;        &lt;card-social icon_position&#x3D;&quot;left&quot; &#x2F;&gt;        &lt;q-separator spaced inset vertical dark &#x2F;&gt;        &lt;card-social icon_position&#x3D;&quot;right&quot; &#x2F;&gt;        &lt;card-charts2&gt;&lt;&#x2F;card-charts2&gt;        &lt;q-card class&#x3D;&quot;q-mt-sm no-shadow&quot; bordered&gt;          &lt;q-card-section class&#x3D;&quot;text-h6 q-pb-none&quot;&gt;            &lt;q-item&gt;              &lt;q-item-section avatar class&#x3D;&quot;&quot;&gt;                &lt;q-icon color&#x3D;&quot;blue&quot; name&#x3D;&quot;fa fa-shopping-cart&quot; size&#x3D;&quot;44px&quot; &#x2F;&gt;              &lt;&#x2F;q-item-section&gt;              &lt;q-item-section&gt;                &lt;q-item-label&gt;                  &lt;div class&#x3D;&quot;text-h6&quot;&gt;æœ€è¿‘&lt;&#x2F;div&gt;                &lt;&#x2F;q-item-label&gt;                &lt;q-item-label caption class&#x3D;&quot;text-black&quot;&gt; è¯¦æƒ… &lt;&#x2F;q-item-label&gt;              &lt;&#x2F;q-item-section&gt;            &lt;&#x2F;q-item&gt;          &lt;&#x2F;q-card-section&gt;          &lt;q-card-section class&#x3D;&quot;q-pa-none q-ma-none&quot;&gt;            &lt;q-scroll-area style&#x3D;&quot;height: 300px&quot;&gt;              &lt;q-table                class&#x3D;&quot;no-shadow no-border&quot;                :rows&#x3D;&quot;sales_data&quot;                :columns&#x3D;&quot;sales_column&quot;                hide-bottom              &gt;                &lt;template v-slot:body-cell-Products&#x3D;&quot;props&quot;&gt;                  &lt;q-td :props&#x3D;&quot;props&quot;&gt;                    &lt;q-item&gt;                      &lt;q-item-section&gt;                        &lt;q-avatar square&gt;                          &lt;img :src&#x3D;&quot;props.row.prod_img&quot; &#x2F;&gt;                        &lt;&#x2F;q-avatar&gt;                      &lt;&#x2F;q-item-section&gt;                      &lt;q-item-section&gt;                        &lt;q-item-label&gt;&#123;&#123; props.row.code &#125;&#125;&lt;&#x2F;q-item-label&gt;                        &lt;q-item-label&gt;&#123;&#123;                          props.row.product_name                        &#125;&#125;&lt;&#x2F;q-item-label&gt;                      &lt;&#x2F;q-item-section&gt;                    &lt;&#x2F;q-item&gt;                  &lt;&#x2F;q-td&gt;                &lt;&#x2F;template&gt;                &lt;template v-slot:body-cell-Name&#x3D;&quot;props&quot;&gt;                  &lt;q-td :props&#x3D;&quot;props&quot;&gt;                    &lt;q-item&gt;                      &lt;q-item-section avatar&gt;                        &lt;q-avatar&gt;                          &lt;img :src&#x3D;&quot;props.row.avatar&quot; &#x2F;&gt;                        &lt;&#x2F;q-avatar&gt;                      &lt;&#x2F;q-item-section&gt;                      &lt;q-item-section&gt;                        &lt;q-item-label&gt;&#123;&#123; props.row.name &#125;&#125;&lt;&#x2F;q-item-label&gt;                        &lt;q-item-label caption class&#x3D;&quot;&quot;                          &gt;è´­ä¹°æ—¥æœŸ: &lt;br &#x2F;&gt;&#123;&#123; props.row.date &#125;&#125;&lt;&#x2F;q-item-label                        &gt;                      &lt;&#x2F;q-item-section&gt;                    &lt;&#x2F;q-item&gt;                  &lt;&#x2F;q-td&gt;                &lt;&#x2F;template&gt;                &lt;template v-slot:body-cell-Status&#x3D;&quot;props&quot;&gt;                  &lt;q-td :props&#x3D;&quot;props&quot; class&#x3D;&quot;text-left&quot;&gt;                    &lt;q-chip                      class&#x3D;&quot;text-white text-capitalize&quot;                      :label&#x3D;&quot;props.row.status&quot;                      :color&#x3D;&quot;getChipColor(props.row.status)&quot;                    &gt;&lt;&#x2F;q-chip&gt;                  &lt;&#x2F;q-td&gt;                &lt;&#x2F;template&gt;                &lt;template v-slot:body-cell-Stock&#x3D;&quot;props&quot;&gt;                  &lt;q-td :props&#x3D;&quot;props&quot;&gt;                    &lt;q-item&gt;                      &lt;q-item-section&gt;                        &lt;q-item-label&gt;                          &lt;span class&#x3D;&quot;text-blue&quot;&gt;                            &lt;q-icon                              name&#x3D;&quot;bug_report&quot;                              color&#x3D;&quot;blue&quot;                              size&#x3D;&quot;20px&quot;                              v-if&#x3D;&quot;props.row.type &#x3D;&#x3D; &#39;error&#39;&quot;                            &gt;&lt;&#x2F;q-icon&gt;                            &lt;q-icon                              name&#x3D;&quot;settings&quot;                              color&#x3D;&quot;blue&quot;                              size&#x3D;&quot;20px&quot;                              v-if&#x3D;&quot;props.row.type &#x3D;&#x3D; &#39;info&#39;&quot;                            &gt;&lt;&#x2F;q-icon&gt;                            &lt;q-icon                              name&#x3D;&quot;flag&quot;                              color&#x3D;&quot;blue&quot;                              size&#x3D;&quot;20px&quot;                              v-if&#x3D;&quot;props.row.type &#x3D;&#x3D; &#39;success&#39;&quot;                            &gt;&lt;&#x2F;q-icon&gt;                            &lt;q-icon                              name&#x3D;&quot;fireplace&quot;                              color&#x3D;&quot;blue&quot;                              size&#x3D;&quot;20px&quot;                              v-if&#x3D;&quot;props.row.type &#x3D;&#x3D; &#39;warning&#39;&quot;                            &gt;&lt;&#x2F;q-icon&gt;                            &#123;&#123; props.row.stock &#125;&#125;                          &lt;&#x2F;span&gt;                          &lt;q-chip                            class&#x3D;&quot;float-right text-white text-capitalize&quot;                            :label&#x3D;&quot;props.row.type&quot;                            color&#x3D;&quot;positive&quot;                            v-if&#x3D;&quot;props.row.type &#x3D;&#x3D; &#39;success&#39;&quot;                          &gt;&lt;&#x2F;q-chip&gt;                          &lt;q-chip                            class&#x3D;&quot;float-right text-white text-capitalize&quot;                            :label&#x3D;&quot;props.row.type&quot;                            color&#x3D;&quot;info&quot;                            v-if&#x3D;&quot;props.row.type &#x3D;&#x3D; &#39;info&#39;&quot;                          &gt;&lt;&#x2F;q-chip&gt;                          &lt;q-chip                            class&#x3D;&quot;float-right text-white text-capitalize&quot;                            :label&#x3D;&quot;props.row.type&quot;                            color&#x3D;&quot;warning&quot;                            v-if&#x3D;&quot;props.row.type &#x3D;&#x3D; &#39;warning&#39;&quot;                          &gt;&lt;&#x2F;q-chip&gt;                          &lt;q-chip                            class&#x3D;&quot;float-right text-white text-capitalize&quot;                            :label&#x3D;&quot;props.row.type&quot;                            color&#x3D;&quot;negative&quot;                            v-if&#x3D;&quot;props.row.type &#x3D;&#x3D; &#39;error&#39;&quot;                          &gt;&lt;&#x2F;q-chip&gt;                        &lt;&#x2F;q-item-label&gt;                        &lt;q-item-label caption class&#x3D;&quot;&quot;&gt;                          &lt;q-linear-progress                            dark                            :color&#x3D;&quot;getColor(props.row.Progress)&quot;                            :value&#x3D;&quot;props.row.Progress &#x2F; 100&quot;                          &#x2F;&gt;                        &lt;&#x2F;q-item-label&gt;                      &lt;&#x2F;q-item-section&gt;                    &lt;&#x2F;q-item&gt;                  &lt;&#x2F;q-td&gt;                &lt;&#x2F;template&gt;              &lt;&#x2F;q-table&gt;            &lt;&#x2F;q-scroll-area&gt;          &lt;&#x2F;q-card-section&gt;        &lt;&#x2F;q-card&gt;        &lt;div class&#x3D;&quot;row q-col-gutter-sm q-py-sm&quot;&gt;          &lt;tab-social &#x2F;&gt;          &lt;div class&#x3D;&quot;col-lg-6 col-md-6 col-sm-12 col-xs-12&quot;&gt;            &lt;q-carousel              animated              v-model&#x3D;&quot;slide&quot;              infinite              height&#x3D;&quot;360px&quot;              arrows              transition-prev&#x3D;&quot;slide-right&quot;              transition-next&#x3D;&quot;slide-left&quot;            &gt;              &lt;q-carousel-slide :name&#x3D;&quot;1&quot; class&#x3D;&quot;q-pa-none&quot;&gt;                &lt;q-scroll-area class&#x3D;&quot;fit&quot;&gt;                  &lt;q-card class&#x3D;&quot;my-card&quot;&gt;                    &lt;img :src&#x3D;&quot;baseImg&quot; width&#x3D;&quot;100%&quot; &#x2F;&gt;                    &lt;q-card-section&gt;                      &lt;div class&#x3D;&quot;text-h6&quot;&gt;åšè‡ªå·±çƒ­çˆ±çš„äº‹&lt;&#x2F;div&gt;                      &lt;div class&#x3D;&quot;text-subtitle2&quot;&gt;å°ç‹&lt;&#x2F;div&gt;                    &lt;&#x2F;q-card-section&gt;                    &lt;q-card-actions align&#x3D;&quot;left&quot;&gt;                      &lt;q-btn                        label&#x3D;&quot;åˆ†äº«&quot;                        dense                        color&#x3D;&quot;primary&quot;                        text-color&#x3D;&quot;blue&quot;                        outline                      &#x2F;&gt;                      &lt;q-btn                        label&#x3D;&quot;åŠ è½½æ›´å¤š&quot;                        dense                        color&#x3D;&quot;primary&quot;                        text-color&#x3D;&quot;blue&quot;                        outline                      &#x2F;&gt;                    &lt;&#x2F;q-card-actions&gt;                  &lt;&#x2F;q-card&gt;                &lt;&#x2F;q-scroll-area&gt;              &lt;&#x2F;q-carousel-slide&gt;              &lt;q-carousel-slide :name&#x3D;&quot;2&quot; class&#x3D;&quot;q-pa-none&quot;&gt;                &lt;q-scroll-area class&#x3D;&quot;fit&quot;&gt;                  &lt;q-card class&#x3D;&quot;my-card&quot;&gt;                    &lt;img :src&#x3D;&quot;baseImg2&quot; width&#x3D;&quot;100%&quot; &#x2F;&gt;                    &lt;q-card-section&gt;                      &lt;div class&#x3D;&quot;text-h6&quot;&gt;æ­£ç¡®å®‰æ’ä½ çš„è¡Œç¨‹&lt;&#x2F;div&gt;                      &lt;div class&#x3D;&quot;text-subtitle2&quot;&gt;æ¯ç§ç”Ÿæ´»æ–¹å¼éƒ½å€¼å¾—å°Šé‡&lt;&#x2F;div&gt;                    &lt;&#x2F;q-card-section&gt;                    &lt;q-card-actions align&#x3D;&quot;left&quot;&gt;                      &lt;q-btn                        label&#x3D;&quot;åˆ†äº«&quot;                        dense                        color&#x3D;&quot;primary&quot;                        text-color&#x3D;&quot;blue&quot;                        outline                      &#x2F;&gt;                      &lt;q-btn                        label&#x3D;&quot;åŠ è½½æ›´å¤š&quot;                        dense                        color&#x3D;&quot;primary&quot;                        text-color&#x3D;&quot;blue&quot;                        outline                      &#x2F;&gt;                    &lt;&#x2F;q-card-actions&gt;                  &lt;&#x2F;q-card&gt;                &lt;&#x2F;q-scroll-area&gt;              &lt;&#x2F;q-carousel-slide&gt;              &lt;q-carousel-slide :name&#x3D;&quot;3&quot; class&#x3D;&quot;q-pa-none&quot;&gt;                &lt;q-scroll-area class&#x3D;&quot;fit&quot;&gt;                  &lt;q-card class&#x3D;&quot;my-card&quot;&gt;                    &lt;img :src&#x3D;&quot;baseImg3&quot; width&#x3D;&quot;100%&quot; &#x2F;&gt;                    &lt;q-card-section&gt;                      &lt;div class&#x3D;&quot;text-h6&quot;&gt;æœ‰æœºä¼šå°±å»æ—…è¡Œ&lt;&#x2F;div&gt;                      &lt;div class&#x3D;&quot;text-subtitle2&quot;&gt;ä½ æ‰€çƒ­çˆ±çš„, å°±æ˜¯ä½ çš„ç”Ÿæ´»&lt;&#x2F;div&gt;                    &lt;&#x2F;q-card-section&gt;                    &lt;q-card-actions align&#x3D;&quot;left&quot;&gt;                      &lt;q-btn                        label&#x3D;&quot;åˆ†äº«&quot;                        dense                        color&#x3D;&quot;primary&quot;                        text-color&#x3D;&quot;blue&quot;                        outline                      &#x2F;&gt;                      &lt;q-btn                        label&#x3D;&quot;åŠ è½½æ›´å¤š&quot;                        dense                        color&#x3D;&quot;primary&quot;                        text-color&#x3D;&quot;blue&quot;                        outline                      &#x2F;&gt;                    &lt;&#x2F;q-card-actions&gt;                  &lt;&#x2F;q-card&gt;                &lt;&#x2F;q-scroll-area&gt;              &lt;&#x2F;q-carousel-slide&gt;            &lt;&#x2F;q-carousel&gt;          &lt;&#x2F;div&gt;        &lt;&#x2F;div&gt;      &lt;&#x2F;div&gt;    &lt;&#x2F;q-scroll-area&gt;  &lt;&#x2F;q-page&gt;&lt;&#x2F;template&gt;&lt;script lang&#x3D;&quot;ts&quot;&gt;import &#123; defineComponent &#125; from &#39;vue&#39;;export default defineComponent(&#123;  preFetch(param) &#123;    console.log(&#39;param: &#39;, param);    console.log(&#39;running preFetch&#39;);  &#125;,&#125;);&lt;&#x2F;script&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; defineAsyncComponent, ref &#125; from &#39;vue&#39;;import &#123; QTableProps &#125; from &#39;quasar&#39;;import &#123; baseImg, baseImg2, baseImg3, sales_data &#125; from &#39;.&#x2F;data&#x2F;list&#39;;const pageHeight &#x3D; ref(400);const styFn &#x3D; (offset: number, height: number) &#x3D;&gt; &#123;  pageHeight.value &#x3D; height - offset;&#125;;const CardSocial &#x3D; defineAsyncComponent(  () &#x3D;&gt; import(&#39;components&#x2F;cards&#x2F;CardSocial.vue&#39;));const CardCharts2 &#x3D; defineAsyncComponent(  () &#x3D;&gt; import(&#39;components&#x2F;cards&#x2F;CardCharts2.vue&#39;));const TabSocial &#x3D; defineAsyncComponent(  () &#x3D;&gt; import(&#39;components&#x2F;tabs&#x2F;TabSocial.vue&#39;));const sales_column: QTableProps[&#39;columns&#39;] &#x3D; [  &#123;    name: &#39;Products&#39;,    label: &#39;äº§å“&#39;,    field: &#39;Products&#39;,    sortable: true,    align: &#39;left&#39;,  &#125;,  &#123;    name: &#39;Name&#39;,    label: &#39;è´­ä¹°äºº&#39;,    field: &#39;name&#39;,    sortable: true,    align: &#39;left&#39;,  &#125;,  &#123;    name: &#39;Total&#39;,    label: &#39;æ€»é¢&#39;,    field: &#39;total&#39;,    sortable: true,    align: &#39;right&#39;,    classes: &#39;text-bold&#39;,  &#125;,  &#123;    name: &#39;Status&#39;,    label: &#39;çŠ¶æ€&#39;,    field: &#39;status&#39;,    sortable: true,    align: &#39;left&#39;,    classes: &#39;text-bold&#39;,  &#125;,  &#123;    name: &#39;Stock&#39;,    label: &#39;ä½™é‡&#39;,    field: &#39;task&#39;,    sortable: true,    align: &#39;left&#39;,  &#125;,];const slide &#x3D; ref(1);const getColor &#x3D; (val: number) &#x3D;&gt; &#123;  if (val &gt; 70 &amp;&amp; val &lt;&#x3D; 100) &#123;    return &#39;green&#39;;  &#125; else if (val &gt; 50 &amp;&amp; val &lt;&#x3D; 70) &#123;    return &#39;blue&#39;;  &#125;  return &#39;red&#39;;&#125;;const getChipColor &#x3D; (status: string) &#x3D;&gt; &#123;  if (status &#x3D;&#x3D; &#39;å…³é—­&#39;) &#123;    return &#39;negative&#39;;  &#125; else if (status &#x3D;&#x3D; &#39;å‘é€&#39;) &#123;    return &#39;positive&#39;;  &#125; else if (status &#x3D;&#x3D; &#39;ç­‰å¾…&#39;) &#123;    return &#39;warning&#39;;  &#125; else if (status &#x3D;&#x3D; &#39;å·²ä»˜è´¹&#39;) &#123;    return &#39;info&#39;;  &#125; else &#123;    return &#39;dark&#39;;  &#125;&#125;;&lt;&#x2F;script&gt;&lt;style scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>é‡å¯é¡¹ç›®é¡¹ç›®ä¸»é¡µå¦‚å›¾æ‰€ç¤º</p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hfild5negzj30yg108wq4.jpg" alt="index"></p><p>æ­¤æ•™ç¨‹å®Œç»“æ’’èŠ±~~~</p><h2 id="æ–‡ç« åˆ—è¡¨ï¼š"><a href="#æ–‡ç« åˆ—è¡¨ï¼š" class="headerlink" title="æ–‡ç« åˆ—è¡¨ï¼š"></a>æ–‡ç« åˆ—è¡¨ï¼š</h2><ul><li><a href="https://wangijun.com/2023/06/01/vue-08/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(ä¸€)</a></li><li><a href="https://wangijun.com/2023/06/02/vue-09/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(äºŒ)</a></li><li><a href="https://wangijun.com/2023/06/04/vue-10/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(ä¸‰)</a></li><li><a href="https://wangijun.com/2023/06/06/vue-11/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(å››)</a></li><li><a href="https://wangijun.com/2023/06/06/vue-12/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(äº”)</a></li></ul><h2 id="æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”end"><a href="#æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”end" class="headerlink" title="æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”end"></a>æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”<a href="https://gitee.com/wlf213/wlf-admin-study/tree/end/"><code>end</code></a></h2><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hfikhq5z5rj32yo1o0e81.jpg" alt="å°é¢"></p>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ts</tag>
      
      <tag>quasar</tag>
      
      <tag>vue3</tag>
      
      <tag>setup</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2023-06-18è®°å½•ä¸€äº›å¸¸ç”¨çš„Mavené•œåƒåœ°å€</title>
    <link href="/2023/06/18/other-14/"/>
    <url>/2023/06/18/other-14/</url>
    
    <content type="html"><![CDATA[<p>é˜¿é‡Œäº‘çš„é•œåƒå·²ç»èƒ½æ»¡è¶³æ—¥å¸¸å¼€å‘ç™¾åˆ†ä¹‹99çš„æƒ…å†µï¼Œä½†æ€»æœ‰ç™¾åˆ†ä¹‹ä¸€çš„æƒ…å†µé˜¿é‡Œäº‘çš„é•œåƒä¸è¡Œï¼Œäºæ˜¯æˆ‘ä¾¿æ•´ç†ç­›é€‰å‡ºä¸¤ä¸ªé•œåƒã€‚</p><h2 id="æ—¥å¸¸ä½¿ç”¨é˜¿é‡Œäº‘"><a href="#æ—¥å¸¸ä½¿ç”¨é˜¿é‡Œäº‘" class="headerlink" title="æ—¥å¸¸ä½¿ç”¨é˜¿é‡Œäº‘"></a>æ—¥å¸¸ä½¿ç”¨é˜¿é‡Œäº‘</h2><p><code>https://maven.aliyun.com/repository/public/</code></p><h2 id="é˜¿é‡Œäº‘æ»¡è¶³ä¸äº†ï¼Œä½¿ç”¨è…¾è®¯äº‘"><a href="#é˜¿é‡Œäº‘æ»¡è¶³ä¸äº†ï¼Œä½¿ç”¨è…¾è®¯äº‘" class="headerlink" title="é˜¿é‡Œäº‘æ»¡è¶³ä¸äº†ï¼Œä½¿ç”¨è…¾è®¯äº‘"></a>é˜¿é‡Œäº‘æ»¡è¶³ä¸äº†ï¼Œä½¿ç”¨è…¾è®¯äº‘</h2><p><code>https://mirrors.cloud.tencent.com/nexus/repository/maven-public/</code></p><h2 id="å®‰å“å¼€å‘é•œåƒ"><a href="#å®‰å“å¼€å‘é•œåƒ" class="headerlink" title="å®‰å“å¼€å‘é•œåƒ"></a>å®‰å“å¼€å‘é•œåƒ</h2><div class="note note-info">            <p><code>https://maven.aliyun.com/repository/google/</code></p><p>è¿™ä¸ªä¸å¥½ç”¨å¯ä»¥ä½¿ç”¨è…¾è®¯äº‘æ¥ä»£æ›¿ï¼Œä¸¤ä¸ªé•œåƒäºŒé€‰ä¸€ã€‚</p><p><code>https://mirrors.cloud.tencent.com/nexus/repository/maven-public/</code></p><p><code>https://maven.aliyun.com/repository/public/</code></p><p><code>https://maven.aliyun.com/repository/gradle-plugin/</code></p>          </div><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hf2pegqgxdj32yo1o0dwr.jpg" alt="çŸ­å‘ç¾å¥³ aiç»˜ç”»"></p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>mavené•œåƒåœ°å€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Wsl2ä¸­Ubuntuä¸­Dockerè¿è¡ŒMysql8é•œåƒåŠRedisé•œåƒ</title>
    <link href="/2023/06/17/other-13/"/>
    <url>/2023/06/17/other-13/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h2><p>Dockeræ­£å¸¸è¿è¡Œï¼ŒDockerå›½å†…é•œåƒå·²ç»é…ç½®ï¼Œå¥½çš„ï¼Œå¼€å§‹ä¸‹ä¸€æ­¥ã€‚</p><h2 id="è¿è¡ŒMysql8é•œåƒ"><a href="#è¿è¡ŒMysql8é•œåƒ" class="headerlink" title="è¿è¡ŒMysql8é•œåƒ"></a>è¿è¡ŒMysql8é•œåƒ</h2><h3 id="æ‹‰å–é•œåƒ"><a href="#æ‹‰å–é•œåƒ" class="headerlink" title="æ‹‰å–é•œåƒ"></a>æ‹‰å–é•œåƒ</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> pull mysql<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h3 id="é•œåƒå¯åŠ¨å’Œæ–‡ä»¶æŒ‚è½½"><a href="#é•œåƒå¯åŠ¨å’Œæ–‡ä»¶æŒ‚è½½" class="headerlink" title="é•œåƒå¯åŠ¨å’Œæ–‡ä»¶æŒ‚è½½"></a>é•œåƒå¯åŠ¨å’Œæ–‡ä»¶æŒ‚è½½</h3><p>å¤åˆ¶ä¸‹é¢å‘½ä»¤æ‰§è¡Œï¼Œ3306æ˜¯å¯¹å¤–è®¿é—®æš´éœ²çš„ç«¯å£ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥è®¾ç½®ä¸º3306ï¼Œä¸»è¦è¿˜æ˜¯çœ‹ä¸ªäººï¼Œè®°å¾—åœ¨æœåŠ¡å™¨å®‰å…¨ç»„å¼€æ”¾ç«¯å£ã€‚-v &#x2F;usr&#x2F;local&#x2F;mysqlæ˜¯æŠŠå®¹å™¨å†…éƒ¨æŒ‚è½½åœ¨å®¿ä¸»æœºä¸Šï¼Œè‡ªå·±ä¹Ÿå¯ä»¥æ›´æ”¹ä¸€ä¸‹æŒ‚è½½çš„ç›®å½•</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">--name</span> mysql <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">--privileged</span><span class="token operator">=</span>true <span class="token punctuation">\</span><span class="token parameter variable">-v</span> /usr/local/mysql/log:/var/log/mysql <span class="token punctuation">\</span><span class="token parameter variable">-v</span> /usr/local/mysql/data:/var/lib/mysql <span class="token punctuation">\</span><span class="token parameter variable">-v</span> /usr/local/mysql/conf:/etc/mysql/conf.d <span class="token punctuation">\</span><span class="token parameter variable">-v</span> /etc/localtime:/etc/localtime:ro <span class="token punctuation">\</span><span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>root <span class="token parameter variable">-d</span> mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="åˆ›å»ºé…ç½®æ–‡ä»¶"><a href="#åˆ›å»ºé…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»ºé…ç½®æ–‡ä»¶"></a>åˆ›å»ºé…ç½®æ–‡ä»¶</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /usr/local/mysql/conf<span class="token comment"># å†™å…¥é…ç½®æ–‡ä»¶</span><span class="token function">vim</span> mysql.cnf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p>å¡«å…¥ä¸€ä¸‹å†…å®¹</p><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">[client]default-character-set&#x3D;utf8mb4[mysql]default-character-set&#x3D;utf8mb4[mysqld]# è®¾ç½®ä¸œå…«åŒºæ—¶åŒºdefault-time_zone &#x3D; &#39;+8:00&#39;# è®¾ç½®å¯†ç éªŒè¯è§„åˆ™ï¼Œdefault_authentication_pluginå‚æ•°å·²è¢«åºŸå¼ƒ# æ”¹ä¸ºauthentication_policy#default_authentication_plugin&#x3D;mysql_native_passwordauthentication_policy&#x3D;mysql_native_password#secure_file_priv&#x3D;&#x2F;var&#x2F;lib&#x2F;mysqlsecure_file_priv&#x3D;init_connect&#x3D;&#39;SET collation_connection &#x3D; utf8mb4_0900_ai_ci&#39;init_connect&#x3D;&#39;SET NAMES utf8mb4&#39;character-set-server&#x3D;utf8mb4collation-server&#x3D;utf8mb4_0900_ai_ciskip-character-set-client-handshakeskip-name-resolve<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="é‡å¯å®¹å™¨"><a href="#é‡å¯å®¹å™¨" class="headerlink" title="é‡å¯å®¹å™¨"></a>é‡å¯å®¹å™¨</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># é‡å¯mysqlå®¹å™¨</span><span class="token function">docker</span> restart mysql<span class="token comment"># è®¾ç½®dockerå¯åŠ¨æ—¶å¯åŠ¨mysql</span><span class="token function">docker</span> update mysql <span class="token parameter variable">--restart</span><span class="token operator">=</span>always<span class="token comment"># é‡å¯mysqlå®¹å™¨</span><span class="token function">docker</span> restart mysql<span class="token comment"># è¿›å…¥mysqlå®¹å™¨å†…éƒ¨</span><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> mysql /bin/bash<span class="token comment"># è¿æ¥Mysql</span>mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span><span class="token comment"># è®¾ç½®ç”¨æˆ·è¿œç¨‹ç™»é™†</span>ALTER <span class="token environment constant">USER</span> <span class="token string">'root'</span>@<span class="token string">'%'</span> IDENTIFIED WITH mysql_native_password BY <span class="token string">'root'</span><span class="token punctuation">;</span><span class="token comment"># åˆ·æ–°æ•°æ®åº“</span>flush privileges<span class="token punctuation">;</span><span class="token comment"># é€€å‡ºmysql</span><span class="token builtin class-name">exit</span><span class="token punctuation">;</span><span class="token comment"># é€€å‡ºmysqlå®¹å™¨</span><span class="token builtin class-name">exit</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="è¿è¡ŒRedisé•œåƒ"><a href="#è¿è¡ŒRedisé•œåƒ" class="headerlink" title="è¿è¡ŒRedisé•œåƒ"></a>è¿è¡ŒRedisé•œåƒ</h2><h3 id="åˆ›å»ºé…ç½®æ–‡ä»¶-1"><a href="#åˆ›å»ºé…ç½®æ–‡ä»¶-1" class="headerlink" title="åˆ›å»ºé…ç½®æ–‡ä»¶"></a>åˆ›å»ºé…ç½®æ–‡ä»¶</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> /data/redis<span class="token function">vim</span> redis.conf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å¡«å…¥ä»¥ä¸‹å†…å®¹</p><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none"># æ³¨é‡Šä»¥ä¾¿å¤–ç½‘è®¿é—®#bind 127.0.0.1protected-mode yesport 6379tcp-backlog 511timeout 0# é˜²æ­¢å‡ºç°è¿œç¨‹ä¸»æœºå¼ºè¿«å…³é—­äº†ä¸€ä¸ªç°æœ‰çš„è¿æ¥çš„é”™è¯¯ é»˜è®¤æ˜¯300tcp-keepalive 300# ä½¿ç”¨å®ˆæŠ¤çº¿ç¨‹å¯åŠ¨daemonize nosupervised nopidfile &#x2F;var&#x2F;run&#x2F;redis_6379.pidloglevel noticelogfile &quot;&quot;databases 16always-show-logo yessave 900 1save 300 10save 60 10000stop-writes-on-bgsave-error yesrdbcompression yesrdbchecksum yesdbfilename dump.rdbrdb-del-sync-files nodir .&#x2F;replica-serve-stale-data yesreplica-read-only yesrepl-diskless-sync norepl-diskless-sync-delay 5repl-diskless-load disabledrepl-disable-tcp-nodelay no# By default the priority is 100.replica-priority 100acllog-max-len 128# redisè®¿é—®å¯†ç requirepass redis213lazyfree-lazy-eviction nolazyfree-lazy-expire nolazyfree-lazy-server-del noreplica-lazy-flush nolazyfree-lazy-user-del no# RedisæŒä¹…åŒ–appendonly yesappendfilename &quot;appendonly.aof&quot;appendfsync everysecno-appendfsync-on-rewrite noauto-aof-rewrite-percentage 100auto-aof-rewrite-min-size 64mbaof-load-truncated yesaof-use-rdb-preamble yeslua-time-limit 5000slowlog-log-slower-than 10000slowlog-max-len 128latency-monitor-threshold 0notify-keyspace-events &quot;&quot;hash-max-ziplist-entries 512hash-max-ziplist-value 64list-max-ziplist-size -2list-compress-depth 0set-max-intset-entries 512zset-max-ziplist-entries 128zset-max-ziplist-value 64hll-sparse-max-bytes 3000stream-node-max-bytes 4096stream-node-max-entries 100activerehashing yesclient-output-buffer-limit normal 0 0 0client-output-buffer-limit replica 256mb 64mb 60client-output-buffer-limit pubsub 32mb 8mb 60hz 10dynamic-hz yesaof-rewrite-incremental-fsync yesrdb-save-incremental-fsync yesjemalloc-bg-thread yes<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ä¸»è¦æ³¨æ„å‡ ä¸ªé…ç½®é¡¹</p><div class="note note-info">            <p>bind 127.0.0.1 #æ³¨é‡Šæ‰è¿™éƒ¨åˆ†ï¼Œä½¿rediså¯ä»¥å¤–éƒ¨è®¿é—®<br>daemonize no#ç”¨å®ˆæŠ¤çº¿ç¨‹çš„æ–¹å¼å¯åŠ¨<br>requirepass ä½ çš„å¯†ç #ç»™redisè®¾ç½®å¯†ç <br>appendonly yes#redisæŒä¹…åŒ–ã€€ã€€é»˜è®¤æ˜¯no<br>tcp-keepalive 300 #é˜²æ­¢å‡ºç°è¿œç¨‹ä¸»æœºå¼ºè¿«å…³é—­äº†ä¸€ä¸ªç°æœ‰çš„è¿æ¥çš„é”™è¯¯ é»˜è®¤æ˜¯300</p>          </div><h3 id="è¿è¡Œå®¹å™¨"><a href="#è¿è¡Œå®¹å™¨" class="headerlink" title="è¿è¡Œå®¹å™¨"></a>è¿è¡Œå®¹å™¨</h3><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œ</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">6379</span>:6379 <span class="token parameter variable">--name</span> redis <span class="token parameter variable">--restart</span><span class="token operator">=</span>always  <span class="token parameter variable">--privileged</span><span class="token operator">=</span>true <span class="token punctuation">\</span> <span class="token parameter variable">-v</span> /home/wlf/mydata/redis/redis.conf:/etc/redis/redis.conf <span class="token punctuation">\</span> <span class="token parameter variable">-v</span> /home/wlf/mydata/redis/data:/data <span class="token punctuation">\</span> <span class="token parameter variable">-d</span> redis redis-server /etc/redis/redis.conf <span class="token parameter variable">--appendonly</span> <span class="token function">yes</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¿è¡Œå®Œæˆè¿‡å<code>docker ps</code>æŸ¥çœ‹å®¹å™¨æ˜¯å¦è¿è¡Œå³å¯ã€‚</p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hf1bts53fej30uc0hndn6.jpg" alt="image"></p><h3 id="æŸ¥çœ‹æ—¥å¿—"><a href="#æŸ¥çœ‹æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹æ—¥å¿—"></a>æŸ¥çœ‹æ—¥å¿—</h3><p><code>docker logs redis</code></p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hf1bsowm5yj30uc0hnaf1.jpg" alt="image"></p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hf1bx4a3o2j323w1kwqjg.jpg" alt="aiç»˜ç”»"></p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Ubuntu</tag>
      
      <tag>docker</tag>
      
      <tag>mysql8</tag>
      
      <tag>redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(å››)</title>
    <link href="/2023/06/06/vue-11/"/>
    <url>/2023/06/06/vue-11/</url>
    
    <content type="html"><![CDATA[<h2 id="æ–‡ç« åˆ—è¡¨ï¼š"><a href="#æ–‡ç« åˆ—è¡¨ï¼š" class="headerlink" title="æ–‡ç« åˆ—è¡¨ï¼š"></a>æ–‡ç« åˆ—è¡¨ï¼š</h2><ul><li><a href="https://wangijun.com/2023/06/01/vue-08/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(ä¸€)</a></li><li><a href="https://wangijun.com/2023/06/02/vue-09/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(äºŒ)</a></li><li><a href="https://wangijun.com/2023/06/04/vue-10/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(ä¸‰)</a></li><li><a href="https://wangijun.com/2023/06/06/vue-11/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(å››)</a></li><li><a href="https://wangijun.com/2023/06/06/vue-12/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(äº”)</a></li></ul><div class="note note-info">            <p>ä¸Šä¸€ç¯‡æˆ‘ä»¬å®ç°åŠ¨æ€èœå•ï¼Œè¿™é‡Œæˆ‘ä»¬æ¥ç€å®ç°Tbaæ å’Œé¢åŒ…å±‘ï¼Œä¸ºä»€ä¹ˆéœ€è¦ä¸€èµ·å®ç°ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªåŠŸèƒ½æ˜¯ç´§å¯†è¿æ¥åœ¨ä¸€èµ·çš„ï¼Œè¿™é‡Œä¾¿æ”¾åœ¨ä¸€èµ·å†™ã€‚ä»£ç é‡ç•¥å¤š, è¯·è€å¿ƒé˜…è¯»ã€‚</p>          </div><p>ä¸Šä¸€ç¯‡åšå®¢çš„è¿›åº¦é¡µé¢å±•ç¤º</p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1henpaw3g2xj31yi15hak7.jpg" alt="é¡µé¢"></p><h2 id="ä¿®æ”¹å¸ƒå±€"><a href="#ä¿®æ”¹å¸ƒå±€" class="headerlink" title="ä¿®æ”¹å¸ƒå±€"></a>ä¿®æ”¹å¸ƒå±€</h2><p>å¯ä»¥åœ¨æœ¬åœ°è¿è¡Œ<code>npm run dev</code>æŸ¥çœ‹ï¼Œè¿™ä¸ªé¡µé¢çš„å¸ƒå±€è¿™è¾¹ç•¥å¾®è°ƒæ•´ä¸‹ï¼Œä¿®æ”¹<code>MainLayout.vue</code></p><div class="note note-info">            <p>è¯´æ˜ï¼šä»£ç å—ä¸­â€™-â€˜å¼€å¤´è¡¨ç¤ºåˆ é™¤ï¼Œâ€™+â€™å¼€å¤´è¡¨ç¤ºå¢åŠ ï¼Œæ¥ä¸‹æ¥çš„å­¦ä¹ ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°å¾ˆå¤šè¿™æ ·çš„æƒ…å†µï¼Œå› ä¸ºç›´æ¥ç²˜è´´å…¨éƒ¨ä»£ç ï¼Œå®åœ¨æ˜¯å¤ªå ç¯‡å¹…äº†ã€‚</p>          </div><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">- <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>q-layout</span> <span class="token attr-name">view</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lHh Lpr lFf<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>+ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>q-layout</span> <span class="token attr-name">view</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hHh LpR lff<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><p>ä¿®æ”¹è¿‡åè¿è¡Œä»£ç ï¼Œå¯ä»¥çœ‹åˆ°å¸ƒå±€å·²ç»æ”¹äº†ï¼Œå…³äºå¸ƒå±€ï¼Œå¯ä»¥æŸ¥çœ‹<a href="https://quasar.dev/layout/layout"><code>layout</code></a>ï¼Œäº†è§£æ›´å¤šã€‚</p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5gy1heolkc6e50j31yi15h47m.jpg" alt="å¸ƒå±€å›¾"></p><h2 id="å¢åŠ Tabæ "><a href="#å¢åŠ Tabæ " class="headerlink" title="å¢åŠ Tabæ "></a>å¢åŠ Tabæ </h2><p>åœ¨<code>layouts/comp</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»º<code>HeadTab.vue</code>ç»„ä»¶ï¼Œç¼–å†™é™æ€ä»£ç ï¼Œ</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;q-tabs v-model&#x3D;&quot;tab&quot; align&#x3D;&quot;left&quot; dense inline-label&gt;    &lt;q-tab name&#x3D;&quot;main&quot; icon&#x3D;&quot;mail&quot; label&#x3D;&quot;ä¸»é¡µ&quot; &#x2F;&gt;    &lt;q-tab name&#x3D;&quot;alarms&quot; icon&#x3D;&quot;alarm&quot; label&#x3D;&quot;èœå•ç®¡ç†&quot; &#x2F;&gt;    &lt;q-tab name&#x3D;&quot;movies&quot; icon&#x3D;&quot;movie&quot; label&#x3D;&quot;ç”¨æˆ·ç®¡ç†&quot; &#x2F;&gt;  &lt;&#x2F;q-tabs&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; ref &#125; from &#39;vue&#39;;const tab &#x3D; ref(&#39;main&#39;);&lt;&#x2F;script&gt;&lt;style scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ç´§æ¥ç€ä¿®æ”¹<code>MainLayout.vue</code>æ–‡ä»¶å¼•å…¥<code>HeadTab.vue</code>ç»„ä»¶ï¼Œç¼–è¾‘è¿‡åå®Œæ•´<code>MainLayout.vue</code>ä»£ç å¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;q-layout view&#x3D;&quot;hHh LpR lff&quot;&gt;    &lt;q-header elevated&gt;      &lt;q-toolbar&gt;        &lt;q-btn          flat          dense          round          icon&#x3D;&quot;menu&quot;          aria-label&#x3D;&quot;Menu&quot;          @click&#x3D;&quot;toggleLeftDrawer&quot;        &#x2F;&gt;        &lt;q-toolbar-title&gt; Quasar App &lt;&#x2F;q-toolbar-title&gt;        &lt;div&gt;Quasar v&#123;&#123; $q.version &#125;&#125;&lt;&#x2F;div&gt;      &lt;&#x2F;q-toolbar&gt;      &lt;head-tab&gt;&lt;&#x2F;head-tab&gt;    &lt;&#x2F;q-header&gt;    &lt;q-drawer v-model&#x3D;&quot;leftDrawerOpen&quot; show-if-above bordered&gt;      &lt;LeftDrawer&gt;&lt;&#x2F;LeftDrawer&gt;    &lt;&#x2F;q-drawer&gt;    &lt;q-page-container&gt;      &lt;router-view &#x2F;&gt;    &lt;&#x2F;q-page-container&gt;  &lt;&#x2F;q-layout&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; ref &#125; from &#39;vue&#39;;import LeftDrawer from &#39;.&#x2F;comp&#x2F;LeftDrawer.vue&#39;;import HeadTab from &#39;.&#x2F;comp&#x2F;HeadTab.vue&#39;;const leftDrawerOpen &#x3D; ref(false);function toggleLeftDrawer() &#123;  leftDrawerOpen.value &#x3D; !leftDrawerOpen.value;&#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>é‡å¯é¡¹ç›®æˆ–è€…åˆ·æ–°é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°å¦‚å›¾æ‰€ç¤º</p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1heorxzfoc0j31or13o46u.jpg" alt="headTab"></p><p>Tabæ å·²ç»æ­£å¸¸çš„æ·»åŠ ï¼Œç°åœ¨è¿˜æ²¡æœ‰å’Œèœå•è”åŠ¨èµ·æ¥ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç¼–å†™ä»£ç è®©èœå•å’ŒTabæ è”åŠ¨èµ·æ¥ï¼Œ</p><p>ä¿®æ”¹<code>layout-store.ts</code>æ–‡ä»¶ï¼Œç¬”è€…è¿™é‡Œä¹ æƒ¯äº†Setupå†™æ³•ï¼Œè¿™é‡Œä¾¿æ”¹ä¸ºä½¿ç”¨<code>pinia</code>çš„setupå†™æ³•ï¼Œæ”¹åŠ¨ä¹Ÿä¸å¤§ï¼Œä¸»è¦ä½¿ç”¨äº†vueçš„è‡ªå¸¦çš„åŠŸèƒ½ï¼Œæ„Ÿè§‰æ˜¯æ›´å®¹æ˜“ç†è§£çš„ï¼Œ<code>ref</code>å°±æ˜¯<code>state</code>,<code>getters</code>å°±æ˜¯<code>computed</code>ï¼Œæ™®é€šçš„å‡½æ•°å°±æ˜¯<code>actions</code>,æœ€åéœ€è¦æš´éœ²å‡ºå»çš„<code>return</code>å³å¯ã€‚éå¸¸ç»å…¸çš„ç»„åˆå¼API</p><p>ä¸»è¦åŸå› å¯èƒ½æ˜¯é¡¹ç›®ä¸­éƒ½æ˜¯setupç»„ä»¶ï¼Œä½¿ç”¨<code>options</code>APIçš„å…¨å±€çŠ¶æ€ï¼Œæ€ç»´ä¸Šæœ‰ç‚¹å·®å¼‚ï¼Œä¹Ÿæ„Ÿè§‰å¤„å¤„å—é™åˆ¶ã€‚</p><p>æ”¹åŠ¨è¿‡åï¼Œæ–°å¢éƒ¨åˆ†å·¥å…·æ–¹æ³•ï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> LocalStorage <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'quasar'</span><span class="token comment">/* é¡¹ç›®å…¨å±€å˜é‡é…ç½® */</span><span class="token keyword">export</span> <span class="token keyword">const</span> useLayoutStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'layout'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token comment">// é¦–é¡µ</span>  <span class="token keyword">const</span> mainPage<span class="token operator">:</span> <span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    id<span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span>    pid<span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'é¦–é¡µ'</span><span class="token punctuation">,</span>    sort<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    icon<span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>    auth<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>    path<span class="token operator">:</span> <span class="token string">'/'</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">const</span> menuKey <span class="token operator">=</span> <span class="token string">'menu'</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> menu <span class="token operator">=</span> LocalStorage<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">getItem</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">>></span></span></span><span class="token punctuation">(</span>menuKey<span class="token punctuation">)</span>  <span class="token comment">// åŸå§‹çš„èœå•æ•°æ®(å¹³çº§)</span>  <span class="token keyword">const</span> menuList <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">>></span></span></span><span class="token punctuation">(</span>menu <span class="token operator">?</span> menu <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Tabæ çš„List</span>  <span class="token keyword">const</span> tabList <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">>></span></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// é¢åŒ…å±‘</span>  <span class="token keyword">const</span> crumbsList <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">>></span></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å·¦è¾¹ä¾§è¾¹æ å®½åº¦</span>  <span class="token keyword">const</span> leftDrawerWeight <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// èœå•æ’åº</span>  <span class="token keyword">const</span> <span class="token function-variable function">menuSort</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token punctuation">)</span> <span class="token operator">=></span> a<span class="token punctuation">.</span>sort <span class="token operator">-</span> b<span class="token punctuation">.</span>sort  <span class="token comment">// æ ‘å½¢èœå•æ•°æ®,æ“ä½œä¸­è¿‡æ»¤éšè—èœå•</span>  <span class="token keyword">const</span> menuTree <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">// å°†å­å…ƒç´ ä¾æ¬¡æ”¾å…¥çˆ¶å…ƒç´ ä¸­</span>    <span class="token keyword">const</span> res<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    menuList<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> parent <span class="token operator">=</span> menuIdMap<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> pc <span class="token operator">=</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>children <span class="token operator">||</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        pc<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> pc<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">''</span>        pc<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>menuSort<span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    res<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>menuSort<span class="token punctuation">)</span>    <span class="token keyword">return</span> res<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token comment">/**   * id:menuitem   */</span>  <span class="token keyword">const</span> menuIdMap <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    menuList<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> map  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token comment">/**    * path:menuitem    */</span>  <span class="token keyword">const</span> menuPathMap <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    menuList<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>path<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> map  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token comment">/** * trueè¡¨ç¤ºæ˜¯httpæˆ–httpså¼€å¤´çš„url * @param url å¾…æ£€æµ‹url */</span>  <span class="token keyword">function</span> <span class="token function">isHttp</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token comment">// å¤„ç†å¤–é“¾</span>  <span class="token keyword">function</span> <span class="token function">toBind</span><span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token function">isHttp</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>path<span class="token punctuation">)</span>      <span class="token operator">?</span> <span class="token punctuation">&#123;</span>        path<span class="token operator">:</span> <span class="token string">'/outside-link'</span><span class="token punctuation">,</span>        query<span class="token operator">:</span> <span class="token punctuation">&#123;</span>          url<span class="token operator">:</span> item<span class="token punctuation">.</span>path<span class="token punctuation">,</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">&#125;</span>      <span class="token operator">:</span> item<span class="token punctuation">.</span>path  <span class="token punctuation">&#125;</span>  <span class="token comment">// é€’å½’å‘ä¸Šè·å–æ‰€æœ‰çˆ¶èŠ‚ç‚¹</span>  <span class="token keyword">function</span> <span class="token function">findP</span><span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> result<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">const</span> <span class="token function-variable function">findFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>i<span class="token operator">:</span> <span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>pid <span class="token operator">!==</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> it <span class="token operator">=</span> menuIdMap<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token function">findFn</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">findFn</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>    menuList<span class="token punctuation">,</span> tabList<span class="token punctuation">,</span> crumbsList<span class="token punctuation">,</span>    menuTree<span class="token punctuation">,</span> findP<span class="token punctuation">,</span> menuPathMap<span class="token punctuation">,</span>    menuIdMap<span class="token punctuation">,</span> mainPage<span class="token punctuation">,</span> leftDrawerWeight<span class="token punctuation">,</span> menuKey<span class="token punctuation">,</span> toBind<span class="token punctuation">,</span> isHttp  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/* ç®€å•é¡¹ç›®æƒé™é…ç½®åé¢æ·»åŠ ç™»é™†çš„æ—¶å€™ä½¿ç”¨ */</span><span class="token keyword">export</span> <span class="token keyword">const</span> useAuthStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'auth'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token comment">// token</span>  <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>    token  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¿™ä¸ªå†™å¥½äº†ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬æ–¹ä¾¿åæœŸçš„ä¸€äº›æ‰©å±•ï¼Œæ¯”å¦‚ä¸‹é¢çš„é¢åŒ…å±‘çš„å±•ç¤ºï¼Œè¿˜æœ‰ç™»é™†ç”¨æˆ·çš„token</p><h3 id="ä¿®æ”¹quasar-config-jsæ–‡ä»¶"><a href="#ä¿®æ”¹quasar-config-jsæ–‡ä»¶" class="headerlink" title="ä¿®æ”¹quasar.config.jsæ–‡ä»¶"></a>ä¿®æ”¹<code>quasar.config.js</code>æ–‡ä»¶</h3><p>ç¼–è¾‘<code>framework.plugins</code>å†…å®¹ä¸ºï¼Œå®‰è£…quasarçš„ä¸€äº›æ’ä»¶<a href="https://quasar.dev/quasar-plugins/notify">å…³äºæ’ä»¶</a>ï¼Œå¯åœ¨æ–‡æ¡£ä¸­æŸ¥çœ‹ï¼Œç”¨åˆ°çš„æ—¶å€™æŸ¥çœ‹ä¸€ä¸‹APIå³å¯ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token string">'LoadingBar'</span><span class="token punctuation">,</span>        <span class="token string">'Notify'</span><span class="token punctuation">,</span>        <span class="token string">'LocalStorage'</span><span class="token punctuation">,</span>        <span class="token string">'SessionStorage'</span><span class="token punctuation">,</span>        <span class="token string">'Loading'</span><span class="token punctuation">,</span>        <span class="token string">'Dialog'</span><span class="token punctuation">,</span>        <span class="token string">'BottomSheet'</span><span class="token punctuation">,</span>        <span class="token string">'AppVisibility'</span><span class="token punctuation">,</span>        <span class="token string">'AppFullscreen'</span><span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å¢åŠ ç™»å½•é¡µ"><a href="#å¢åŠ ç™»å½•é¡µ" class="headerlink" title="å¢åŠ ç™»å½•é¡µ"></a>å¢åŠ ç™»å½•é¡µ</h3><p>åœ¨<code>pages</code>ç›®å½•ä¸­æ–°å»º<code>LoginPage.vue</code>æ–‡ä»¶ï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;q-layout&gt;    &lt;q-page-container&gt;      &lt;q-page class&#x3D;&quot;flex bg-image flex-center&quot;&gt;        &lt;q-card          v-bind:style&#x3D;&quot;$q.screen.lt.sm ? &#123; width: &#39;80%&#39; &#125; : &#123; width: &#39;30%&#39; &#125;&quot;        &gt;          &lt;q-card-section&gt;            &lt;q-avatar size&#x3D;&quot;103px&quot; class&#x3D;&quot;absolute-center shadow-10&quot;&gt;              &lt;img                src&#x3D;&quot;https:&#x2F;&#x2F;gimg2.baidu.com&#x2F;image_search&#x2F;src&#x3D;http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fblog%2F202107%2F19%2F20210719150601_4401e.thumb.1000_0.jpg&amp;refer&#x3D;http%3A%2F%2Fc-ssl.duitang.com&amp;app&#x3D;2002&amp;size&#x3D;f9999,10000&amp;q&#x3D;a80&amp;n&#x3D;0&amp;g&#x3D;0n&amp;fmt&#x3D;auto?sec&#x3D;1685108172&amp;t&#x3D;232426938cbc64554c6c143fdb13fb4c&quot;              &#x2F;&gt;            &lt;&#x2F;q-avatar&gt;          &lt;&#x2F;q-card-section&gt;          &lt;q-card-section&gt;            &lt;div class&#x3D;&quot;text-center q-pt-lg&quot;&gt;              &lt;div class&#x3D;&quot;col text-h6 ellipsis&quot;&gt;ç™»å½•&lt;&#x2F;div&gt;            &lt;&#x2F;div&gt;          &lt;&#x2F;q-card-section&gt;          &lt;q-card-section&gt;            &lt;q-form class&#x3D;&quot;q-gutter-md&quot;&gt;              &lt;q-input filled v-model&#x3D;&quot;username&quot; label&#x3D;&quot;ç”¨æˆ·å&quot; lazy-rules &#x2F;&gt;              &lt;q-input                type&#x3D;&quot;password&quot;                filled                v-model&#x3D;&quot;password&quot;                label&#x3D;&quot;å¯†ç &quot;                lazy-rules              &#x2F;&gt;              &lt;div&gt;                &lt;q-btn                  label&#x3D;&quot;ç™»å½•&quot;                  type&#x3D;&quot;button&quot;                  @click&#x3D;&quot;login&quot;                  color&#x3D;&quot;primary&quot;                &#x2F;&gt;              &lt;&#x2F;div&gt;            &lt;&#x2F;q-form&gt;          &lt;&#x2F;q-card-section&gt;        &lt;&#x2F;q-card&gt;      &lt;&#x2F;q-page&gt;    &lt;&#x2F;q-page-container&gt;  &lt;&#x2F;q-layout&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; useAuthStore, useLayoutStore &#125; from &#39;src&#x2F;stores&#x2F;layout-store&#39;;import &#123; ref &#125; from &#39;vue&#39;;import myRoutes from &#39;src&#x2F;router&#x2F;my-router&#39;;import &#123; useRouter &#125; from &#39;vue-router&#39;;import &#123; useQuasar &#125; from &#39;quasar&#39;;const username &#x3D; ref(&#39;å°ç‹&#39;);const password &#x3D; ref(&#39;12345&#39;);const auth &#x3D; useAuthStore();const layout &#x3D; useLayoutStore();const router &#x3D; useRouter();const $q &#x3D; useQuasar();const login &#x3D; () &#x3D;&gt; &#123;  &#x2F;&#x2F; ç‚¹å‡»ç™»å½•å†™å…¥token  auth.token &#x3D; &#39;2333333333&#39;;  layout.menuList &#x3D; myRoutes as Array&lt;WJ.MenuItem&gt;;  $q.localStorage.set(layout.menuKey, myRoutes);  router.push(&#123; path: layout.mainPage.path &#125;).then(() &#x3D;&gt; &#123;    $q.notify(&#123;      position: &#39;top&#39;,      color: &#39;positive&#39;,      message: &#39;æ¬¢è¿å›æ¥~ &#39; + username.value,    &#125;);  &#125;);&#125;;&lt;&#x2F;script&gt;&lt;style scoped&gt;.bg-image &#123;  background-image: linear-gradient(135deg, #7028e4 0%, #e5b2ca 100%);&#125;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ç¼–è¾‘src-router-routes-tsæ–‡ä»¶"><a href="#ç¼–è¾‘src-router-routes-tsæ–‡ä»¶" class="headerlink" title="ç¼–è¾‘src\router\routes.tsæ–‡ä»¶"></a>ç¼–è¾‘<code>src\router\routes.ts</code>æ–‡ä»¶</h3><p>å¢åŠ ç™»å½•é¡µçš„è·¯ç”±ï¼Œä¸åŠ¨æ€èœå•ä¸­å¯¹åº”çš„è·¯ç”±é…ç½®ï¼Œç¼–è¾‘è¿‡åå®Œæ•´ä»£ç å¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> RouteRecordRaw <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span><span class="token keyword">const</span> routes<span class="token operator">:</span> RouteRecordRaw<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    path<span class="token operator">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/LoginPage.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'layouts/MainLayout.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    children<span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/IndexPage.vue'</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">'/sys-menu'</span><span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/IndexPage.vue'</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">'/sys-user'</span><span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/IndexPage.vue'</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// Always leave this as last one,</span>  <span class="token comment">// but you can also remove it</span>  <span class="token punctuation">&#123;</span>    path<span class="token operator">:</span> <span class="token string">'/:catchAll(.*)*'</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'pages/ErrorNotFound.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> routes<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ç¼–å†™è·¯ç”±è·³è½¬å‰ç½®æ‹¦æˆª"><a href="#ç¼–å†™è·¯ç”±è·³è½¬å‰ç½®æ‹¦æˆª" class="headerlink" title="ç¼–å†™è·¯ç”±è·³è½¬å‰ç½®æ‹¦æˆª"></a>ç¼–å†™è·¯ç”±è·³è½¬å‰ç½®æ‹¦æˆª</h3><p>è¿™é‡Œçš„é€»è¾‘æœ‰ç‚¹å¤šï¼Œæˆ‘è¿™è¾¹ä¸€ä¸€åˆ—ä¸¾ä¸€ä¸‹</p><ul><li>å¤„ç†æ— éœ€é‰´æƒé‰´æƒçš„è·¯ç”±ï¼Œæ¯”å¦‚ç™»å½•é¡µé¢ï¼Œ</li><li>å¤„ç†Tabæ çš„è”åŠ¨ã€‚</li><li>å¤„ç†é¢åŒ…å±‘çš„è”åŠ¨</li><li>å¤„ç†ä¸‰æ–¹é“¾æ¥çš„è·³è½¬é€»è¾‘</li></ul><p>ç¼–è¾‘<code>src\router\index.ts</code>ï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹,</p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> route <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'quasar/wrappers'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>  createMemoryHistory<span class="token punctuation">,</span>  createRouter<span class="token punctuation">,</span>  createWebHashHistory<span class="token punctuation">,</span>  createWebHistory<span class="token punctuation">,</span><span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span><span class="token keyword">import</span> routes <span class="token keyword">from</span> <span class="token string">'./routes'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> LoadingBar <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'quasar'</span><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">&#123;</span> RouteLocationNormalized <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> useAuthStore<span class="token punctuation">,</span> useLayoutStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'src/stores/layout-store'</span><span class="token punctuation">;</span><span class="token comment">/* * If not building with SSR mode, you can * directly export the Router instantiation; * * The function below can be async too; either use * async/await or return a Promise which resolves * with the Router instance. */</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">route</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token comment">/* &#123; store, ssrContext &#125; */</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> createHistory <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SERVER</span>    <span class="token operator">?</span> createMemoryHistory    <span class="token operator">:</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_ROUTER_MODE</span> <span class="token operator">===</span> <span class="token string">'history'</span> <span class="token operator">?</span> createWebHistory <span class="token operator">:</span> createWebHashHistory<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> Router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token function-variable function">scrollBehavior</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span> left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    routes<span class="token punctuation">,</span>    <span class="token comment">// Leave this as is and make changes in quasar.conf.js instead!</span>    <span class="token comment">// quasar.conf.js -> build -> vueRouterMode</span>    <span class="token comment">// quasar.conf.js -> build -> publicPath</span>    history<span class="token operator">:</span> <span class="token function">createHistory</span><span class="token punctuation">(</span>      process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">MODE</span> <span class="token operator">===</span> <span class="token string">'ssr'</span> <span class="token operator">?</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_ROUTER_BASE</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">/* æ•°ç»„é‡Œé¢çš„URLé‡Œé¢æ— éœ€é‰´æƒ */</span>  <span class="token keyword">const</span> notCheckPath <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'/login'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// è·¯ç”±è·³è½¬å‰ç½®æ‹¦æˆªå™¨</span>  Router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>to<span class="token operator">:</span> RouteLocationNormalized<span class="token punctuation">,</span> form<span class="token operator">:</span> RouteLocationNormalized<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    LoadingBar<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'form: '</span><span class="token punctuation">,</span> form<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'to: '</span><span class="token punctuation">,</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> auth <span class="token operator">=</span> <span class="token function">useAuthStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> layout <span class="token operator">=</span> <span class="token function">useLayoutStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>notCheckPath<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>fullPath<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// ä¸å­˜åœ¨åˆ™è·³è½¬åˆ°ç™»å½•é¡µé¢</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>auth<span class="token punctuation">.</span>token<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>fullPath <span class="token operator">===</span> <span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token comment">// åˆ‡æ¢é¢åŒ…å±‘</span>          layout<span class="token punctuation">.</span>crumbsList <span class="token operator">=</span> <span class="token punctuation">[</span>layout<span class="token punctuation">.</span>mainPage<span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">const</span> item <span class="token operator">=</span> to<span class="token punctuation">.</span>query<span class="token punctuation">.</span>url <span class="token operator">?</span>            layout<span class="token punctuation">.</span>menuPathMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>query<span class="token punctuation">.</span>url <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">:</span>            layout<span class="token punctuation">.</span>menuPathMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>fullPath<span class="token punctuation">)</span>          <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'layout.menuPathMap: '</span><span class="token punctuation">,</span> layout<span class="token punctuation">.</span>menuPathMap<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'item: '</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// åˆ‡æ¢é¢åŒ…å±‘</span>            layout<span class="token punctuation">.</span>crumbsList <span class="token operator">=</span> layout<span class="token punctuation">.</span><span class="token function">findP</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>            <span class="token comment">// å¢åŠ Tabæ </span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>layout<span class="token punctuation">.</span>tabList<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>i <span class="token operator">=></span> i<span class="token punctuation">.</span>id <span class="token operator">===</span> item<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>              layout<span class="token punctuation">.</span>tabList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>          <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">'/login'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>   <span class="token comment">// è·¯ç”±è·³è½¬ä¹‹åçš„å›è°ƒ</span>  Router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'afterEach: '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    LoadingBar<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    LoadingBar<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token keyword">return</span> Router<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æœ€åä¿®æ”¹HeadTab-vueï¼Œå†åŠ ä¸€ç‚¹ç»†èŠ‚ï¼Œ"><a href="#æœ€åä¿®æ”¹HeadTab-vueï¼Œå†åŠ ä¸€ç‚¹ç»†èŠ‚ï¼Œ" class="headerlink" title="æœ€åä¿®æ”¹HeadTab.vueï¼Œå†åŠ ä¸€ç‚¹ç»†èŠ‚ï¼Œ"></a>æœ€åä¿®æ”¹HeadTab.vueï¼Œå†åŠ ä¸€ç‚¹ç»†èŠ‚ï¼Œ</h3><p>Tabçš„ä¸€äº›æ“ä½œï¼Œå¦‚ï¼Œå…³é—­ï¼Œå…³é—­å·¦ä¾§ï¼Œå³ä¾§ç­‰ç­‰ï¼Œå†™è¿™ç§ä»£ç éœ€è¦ä¸€å®šçš„ç¼–ç èƒ½åŠ›ï¼Œä¿®æ”¹è¿‡åå®Œæ•´ä»£ç ï¼Œ</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;!-- Tbaæ  --&gt;  &lt;q-tabs align&#x3D;&quot;left&quot; dense inline-label&gt;    &lt;transition-group name&#x3D;&quot;tab-list&quot;&gt;      &lt;q-route-tab to&#x3D;&quot;&#x2F;&quot; class&#x3D;&quot;q-px-xs&quot; :key&#x3D;&quot;layout.mainPage.id&quot;&gt;        &lt;q-icon :name&#x3D;&quot;layout.mainPage.icon&quot; size&#x3D;&quot;1.2rem&quot; &#x2F;&gt;        &lt;div class&#x3D;&quot;q-mx-sm&quot;&gt;&#123;&#123; layout.mainPage.name &#125;&#125;&lt;&#x2F;div&gt;      &lt;&#x2F;q-route-tab&gt;      &lt;q-route-tab        :to&#x3D;&quot;layout.toBind(item)&quot;        class&#x3D;&quot;q-px-xs&quot;        v-for&#x3D;&quot;item in layout.tabList&quot;        :key&#x3D;&quot;item.id&quot;      &gt;        &lt;q-icon v-if&#x3D;&quot;item.icon&quot; :name&#x3D;&quot;item.icon&quot; size&#x3D;&quot;1.2rem&quot; &#x2F;&gt;        &lt;div class&#x3D;&quot;q-mx-sm&quot;&gt;&#123;&#123; item.name &#125;&#125;&lt;&#x2F;div&gt;        &lt;div @click.prevent.stop&#x3D;&quot;closeThis(item)&quot;&gt;          &lt;q-icon name&#x3D;&quot;close&quot; size&#x3D;&quot;1.2rem&quot; class&#x3D;&quot;remove-icon&quot; &#x2F;&gt;          &lt;q-tooltip&gt; ç§»é™¤ä¸€ä¸ªæ ‡ç­¾ &lt;&#x2F;q-tooltip&gt;        &lt;&#x2F;div&gt;        &lt;q-menu touch-position context-menu&gt;          &lt;q-list dense&gt;            &lt;q-item clickable v-close-popup @click&#x3D;&quot;closeThis(item)&quot;&gt;              &lt;q-item-section&gt;ç§»é™¤å½“å‰&lt;&#x2F;q-item-section&gt;            &lt;&#x2F;q-item&gt;            &lt;q-item clickable v-close-popup @click&#x3D;&quot;closeLeft(item)&quot;&gt;              &lt;q-item-section&gt;å…³é—­å·¦ä¾§&lt;&#x2F;q-item-section&gt;            &lt;&#x2F;q-item&gt;            &lt;q-item clickable v-close-popup @click&#x3D;&quot;closeRight(item)&quot;&gt;              &lt;q-item-section&gt;å…³é—­å³ä¾§&lt;&#x2F;q-item-section&gt;            &lt;&#x2F;q-item&gt;            &lt;q-item clickable v-close-popup @click&#x3D;&quot;closeAll()&quot;&gt;              &lt;q-item-section&gt;ç§»é™¤å…¨éƒ¨&lt;&#x2F;q-item-section&gt;            &lt;&#x2F;q-item&gt;          &lt;&#x2F;q-list&gt;        &lt;&#x2F;q-menu&gt;      &lt;&#x2F;q-route-tab&gt;    &lt;&#x2F;transition-group&gt;  &lt;&#x2F;q-tabs&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; useLayoutStore &#125; from &#39;src&#x2F;stores&#x2F;layout-store&#39;;import &#123; useRoute, useRouter &#125; from &#39;vue-router&#39;;const layout &#x3D; useLayoutStore();const router &#x3D; useRouter();const route &#x3D; useRoute();&#x2F;&#x2F; å…³é—­å½“å‰const closeThis &#x3D; (item: WJ.MenuItem) &#x3D;&gt; &#123;  let tabl &#x3D; layout.tabList.slice(0);  const it &#x3D; tabl[tabl.indexOf(item) - 1];  tabl &#x3D; tabl.filter((i) &#x3D;&gt; i.id !&#x3D;&#x3D; item.id);  &#x2F;&#x2F; å¦‚æœç§»é™¤çš„æ˜¯å½“å‰è·¯ç”±  if (    route.query.url      ? route.query.url &#x3D;&#x3D;&#x3D; item.path      : route.fullPath &#x3D;&#x3D;&#x3D; item.path  ) &#123;    if (it) &#123;      router.push(layout.toBind(it)).then(() &#x3D;&gt; &#123;        layout.tabList &#x3D; tabl;      &#125;);    &#125; else &#123;      router.push(&#123; path: layout.mainPage.path &#125;).then(() &#x3D;&gt; &#123;        layout.tabList &#x3D; tabl;      &#125;);    &#125;  &#125; else &#123;    layout.tabList &#x3D; tabl;  &#125;&#125;;&#x2F;&#x2F; å…³é—­å·¦ä¾§const closeLeft &#x3D; (item: WJ.MenuItem) &#x3D;&gt; &#123;  let tabl &#x3D; layout.tabList.slice(0);  const index &#x3D; tabl.indexOf(item);  if (index !&#x3D;&#x3D; 0) &#123;    tabl &#x3D; tabl.slice(tabl.indexOf(item));    if (      route.query.url        ? route.query.url !&#x3D;&#x3D; item.path        : route.fullPath !&#x3D;&#x3D; item.path    ) &#123;      router.push(layout.toBind(item)).then(() &#x3D;&gt; &#123;        layout.tabList &#x3D; tabl;      &#125;);    &#125; else &#123;      layout.tabList &#x3D; tabl;    &#125;  &#125;&#125;;&#x2F;&#x2F; å…³é—­å³ä¾§const closeRight &#x3D; (item: WJ.MenuItem) &#x3D;&gt; &#123;  let tabl &#x3D; layout.tabList.slice(0);  const index &#x3D; tabl.indexOf(item) + 1;  if (index !&#x3D;&#x3D; tabl.length) &#123;    tabl &#x3D; tabl.slice(0, index);    if (      route.query.url        ? route.query.url !&#x3D;&#x3D; item.path        : route.fullPath !&#x3D;&#x3D; item.path    ) &#123;      router.push(layout.toBind(item)).then(() &#x3D;&gt; &#123;        layout.tabList &#x3D; tabl;      &#125;);    &#125; else &#123;      layout.tabList &#x3D; tabl;    &#125;  &#125;&#125;;&#x2F;&#x2F; å…¨éƒ¨å…³é—­const closeAll &#x3D; () &#x3D;&gt; &#123;  router.push(&#123; path: layout.mainPage.path &#125;).then(() &#x3D;&gt; &#123;    layout.tabList &#x3D; [];  &#125;);&#125;;&lt;&#x2F;script&gt;&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;.remove-icon &#123;  opacity: 0.58;  transition: all 0.3s;  &amp;:hover &#123;    opacity: 1;  &#125;&#125;.tab-list &#123;  &#x2F;* å¯¹ç§»åŠ¨ä¸­çš„å…ƒç´ åº”ç”¨çš„è¿‡æ¸¡ *&#x2F;  &amp;-move,  &amp;-enter-active,  &amp;-leave-active &#123;    transition: all 0.5s ease;  &#125;  &amp;-enter-from,  &amp;-leave-to &#123;    opacity: 0;    transform: translateX(30px);  &#125;  &#x2F;* ç¡®ä¿å°†ç¦»å¼€çš„å…ƒç´ ä»å¸ƒå±€æµä¸­åˆ é™¤  ä»¥ä¾¿èƒ½å¤Ÿæ­£ç¡®åœ°è®¡ç®—ç§»åŠ¨çš„åŠ¨ç”»ã€‚ *&#x2F;  &amp;-leave-active &#123;    position: absolute;  &#125;&#125;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æœ€åæ€»ç»“"><a href="#æœ€åæ€»ç»“" class="headerlink" title="æœ€åæ€»ç»“"></a>æœ€åæ€»ç»“</h3><p>ä¿®æ”¹å®Œæˆè¿‡åé‡å¯é¡¹ç›®ï¼Œè®¿é—®ä¸»é¡µï¼Œå‘ç°è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µäº†ï¼Œç‚¹å‡»ç™»å½•ï¼Œè¿›å…¥ä¸»ç•Œé¢ï¼Œç‚¹ç‚¹ç‚¹èœå•å‘ç°ä¾§è¾¹èœå•åŠŸèƒ½å·²ç»å®ç°ã€‚</p><h2 id="å¢åŠ é¢åŒ…å±‘"><a href="#å¢åŠ é¢åŒ…å±‘" class="headerlink" title="å¢åŠ é¢åŒ…å±‘"></a>å¢åŠ é¢åŒ…å±‘</h2><h3 id="æ–°å»ºHeadCrumbs-vueæ–‡ä»¶"><a href="#æ–°å»ºHeadCrumbs-vueæ–‡ä»¶" class="headerlink" title="æ–°å»ºHeadCrumbs.vueæ–‡ä»¶"></a>æ–°å»º<code>HeadCrumbs.vue</code>æ–‡ä»¶</h3><p>åœ¨src\layouts\comp\ä¸‹æ–°å»º<code>HeadCrumbs.vue</code>æ–‡ä»¶,å®Œæ•´ä»£ç å¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;!-- é¢åŒ…å±‘ --&gt;  &lt;q-breadcrumbs active-color&#x3D;&quot;none&quot;&gt;    &lt;transition-group appear enter-active-class&#x3D;&quot;animated fadeInLeft&quot;&gt;      &lt;q-breadcrumbs-el        :icon&#x3D;&quot;item.icon&quot;        :label&#x3D;&quot;item.name&quot;        v-for&#x3D;&quot;item in layout.crumbsList&quot;        :key&#x3D;&quot;item.id&quot;      &#x2F;&gt;    &lt;&#x2F;transition-group&gt;  &lt;&#x2F;q-breadcrumbs&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; useLayoutStore &#125; from &#39;src&#x2F;stores&#x2F;layout-store&#39;;const layout &#x3D; useLayoutStore();&lt;&#x2F;script&gt;&lt;style scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>é¢åŒ…å±‘ç»„ä»¶ä¸­ä½¿ç”¨äº†ä¸€äº›åŠ¨ç”»ï¼Œquasaré›†æˆ<code>animations</code>åŠ¨ç”»åº“ååˆ†ç®€å•ï¼Œä¿®æ”¹<code>quasar.config.js</code>æ–‡ä»¶ï¼Œ</p><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">-</span> animations<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">+</span> animations<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span><span class="token comment">// (å¯é€‰)æ¯æ¬¡é‡å¯é¡¹ç›®éƒ½ä¼šæ‰“å¼€æµè§ˆå™¨æ˜¯ä¸æ˜¯æœ‰ç‚¹çƒ¦ï¼Œä¿®æ”¹è¿™é‡Œå³å¯å…³é—­æ¯æ¬¡é‡å¯æ‰“å¼€æµè§ˆå™¨</span><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token literal-property property">server</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'http'</span><span class="token punctuation">,</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>     <span class="token operator">-</span> open<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// opens browser window automatically</span>     <span class="token operator">+</span> open<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// opens browser window automatically</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å¼•å…¥HeadCrumbs-vueç»„ä»¶"><a href="#å¼•å…¥HeadCrumbs-vueç»„ä»¶" class="headerlink" title="å¼•å…¥HeadCrumbs.vueç»„ä»¶"></a>å¼•å…¥<code>HeadCrumbs.vue</code>ç»„ä»¶</h3><p>ä¿®æ”¹<code>MainLayout.vue</code>æ–‡ä»¶ï¼Œå¼•å…¥ç›¸åº”ç»„ä»¶ï¼Œä¿®æ”¹è¿‡åå®Œæ•´ä»£ç å¦‚ä¸‹ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;q-layout view&#x3D;&quot;hHh LpR lff&quot;&gt;    &lt;q-header elevated&gt;      &lt;q-toolbar&gt;        &lt;q-btn          dense          flat          round          :icon&#x3D;&quot;leftDrawerOpen ? &#39;menu_open&#39; : &#39;menu&#39;&quot;          @click&#x3D;&quot;toggleLeftDrawer&quot;        &#x2F;&gt;        &lt;q-btn flat no-caps no-wrap class&#x3D;&quot;q-ml-xs&quot; v-if&#x3D;&quot;$q.screen.gt.xs&quot;&gt;          &lt;q-icon name&#x3D;&quot;catching_pokemon&quot; size&#x3D;&quot;2rem&quot; &#x2F;&gt;          &lt;q-toolbar-title shrink class&#x3D;&quot;text-weight-bold&quot;&gt;            W_LF          &lt;&#x2F;q-toolbar-title&gt;        &lt;&#x2F;q-btn&gt;        &lt;head-crumbs v-if&#x3D;&quot;$q.screen.gt.xs&quot;&gt;&lt;&#x2F;head-crumbs&gt;        &lt;q-space &#x2F;&gt;        &lt;div&gt;Quasar v&#123;&#123; $q.version &#125;&#125;&lt;&#x2F;div&gt;      &lt;&#x2F;q-toolbar&gt;      &lt;head-tab&gt;&lt;&#x2F;head-tab&gt;    &lt;&#x2F;q-header&gt;    &lt;q-drawer v-model&#x3D;&quot;leftDrawerOpen&quot; show-if-above bordered&gt;      &lt;LeftDrawer&gt;&lt;&#x2F;LeftDrawer&gt;    &lt;&#x2F;q-drawer&gt;    &lt;q-page-container&gt;      &lt;router-view &#x2F;&gt;    &lt;&#x2F;q-page-container&gt;  &lt;&#x2F;q-layout&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; ref &#125; from &#39;vue&#39;;import LeftDrawer from &#39;.&#x2F;comp&#x2F;LeftDrawer.vue&#39;;import HeadTab from &#39;.&#x2F;comp&#x2F;HeadTab.vue&#39;;import HeadCrumbs from &#39;.&#x2F;comp&#x2F;HeadCrumbs.vue&#39;;const leftDrawerOpen &#x3D; ref(false);function toggleLeftDrawer() &#123;  leftDrawerOpen.value &#x3D; !leftDrawerOpen.value;&#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>é‡å¯é¡¹ç›®ï¼Œä¸æŠ¥é”™ï¼Œç»§ç»­ä¼˜åŒ–ï¼Œç°åœ¨é¡¹ç›®çš„é›å½¢å·²ç»å®Œæˆä¸ªä¸ƒä¸ƒå…«å…«äº†ã€‚æœ€åæˆ‘ä»¬è®©Headæ å˜å¾—å¥½çœ‹ä¸€ç‚¹ã€‚é¦–å…ˆç¼–è¾‘<code>quasar.config.js</code>æ–‡ä»¶ï¼Œåœ¨<code>extras</code>å—ä¸­æ·»åŠ <code>fontawesome-v6</code>å›¾æ ‡ï¼Œç»§ç»­ç¼–è¾‘<code>MainLayout.vue</code>æ–‡ä»¶ï¼Œåˆ å»æ˜¾ç¤ºQuasarç‰ˆæœ¬å·çš„å†…å®¹ï¼Œæ›¿æ¢æˆä¸‹é¢çš„å†…å®¹ï¼Œé‡å¯é¡¹ç›®ã€‚å³å¯çœ‹åˆ°æœ€ç»ˆç»“æœ</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">- &lt;div&gt;Quasar v&#123;&#123; $q.version &#125;&#125;&lt;&#x2F;div&gt;&lt;div class&#x3D;&quot;q-gutter-sm row items-center no-wrap&quot;&gt;         &lt;q-btn            round            dense            flat            color&#x3D;&quot;white&quot;            :icon&#x3D;&quot;$q.fullscreen.isActive ? &#39;fullscreen_exit&#39; : &#39;fullscreen&#39;&quot;            @click&#x3D;&quot;$q.fullscreen.toggle()&quot;            v-if&#x3D;&quot;$q.screen.gt.sm&quot;          &gt;          &lt;&#x2F;q-btn&gt;          &lt;q-btn            v-if&#x3D;&quot;$q.screen.gt.sm&quot;            round            dense            flat            color&#x3D;&quot;white&quot;            icon&#x3D;&quot;fab fa-github&quot;            type&#x3D;&quot;a&quot;            href&#x3D;&quot;https:&#x2F;&#x2F;gitee.com&#x2F;wlf213&#x2F;wlf-admin&quot;            target&#x3D;&quot;_blank&quot;          &gt;          &lt;&#x2F;q-btn&gt;          &lt;q-btn            v-if&#x3D;&quot;$q.screen.gt.sm&quot;            round            dense            flat            class&#x3D;&quot;text-red&quot;            type&#x3D;&quot;a&quot;            href&#x3D;&quot;https:&#x2F;&#x2F;gitee.com&#x2F;wlf213&quot;            target&#x3D;&quot;_blank&quot;          &gt;            &lt;i class&#x3D;&quot;fa fa-heart fa-2x fa-beat&quot;&gt;&lt;&#x2F;i&gt;          &lt;&#x2F;q-btn&gt;          &lt;q-btn round dense flat color&#x3D;&quot;white&quot; icon&#x3D;&quot;notifications&quot;&gt;            &lt;q-badge color&#x3D;&quot;red&quot; text-color&#x3D;&quot;white&quot; floating&gt; 5 &lt;&#x2F;q-badge&gt;            &lt;q-menu&gt;              &lt;q-list style&#x3D;&quot;min-width: 100px&quot;&gt;                &lt;q-card class&#x3D;&quot;text-center no-shadow no-border&quot;&gt;                  &lt;q-btn                    label&#x3D;&quot;å…¨éƒ¨æŸ¥çœ‹&quot;                    style&#x3D;&quot;max-width: 120px !important&quot;                    flat                    dense                    class&#x3D;&quot;text-indigo-8&quot;                  &gt;&lt;&#x2F;q-btn&gt;                &lt;&#x2F;q-card&gt;              &lt;&#x2F;q-list&gt;            &lt;&#x2F;q-menu&gt;          &lt;&#x2F;q-btn&gt;          &lt;q-btn round flat&gt;            &lt;q-avatar size&#x3D;&quot;26px&quot;&gt;              &lt;img                src&#x3D;&quot;https:&#x2F;&#x2F;gimg2.baidu.com&#x2F;image_search&#x2F;src&#x3D;http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fblog%2F202107%2F19%2F20210719150601_4401e.thumb.1000_0.jpg&amp;refer&#x3D;http%3A%2F%2Fc-ssl.duitang.com&amp;app&#x3D;2002&amp;size&#x3D;f9999,10000&amp;q&#x3D;a80&amp;n&#x3D;0&amp;g&#x3D;0n&amp;fmt&#x3D;auto?sec&#x3D;1685108172&amp;t&#x3D;232426938cbc64554c6c143fdb13fb4c&quot;              &#x2F;&gt;            &lt;&#x2F;q-avatar&gt;            &lt;q-menu transition-show&#x3D;&quot;scale&quot; transition-hide&#x3D;&quot;scale&quot;&gt;              &lt;q-list dense&gt;                &lt;q-item v-ripple&gt;                  &lt;q-item-section avatar&gt;                    &lt;q-avatar&gt;                      &lt;img                        src&#x3D;&quot;https:&#x2F;&#x2F;gimg2.baidu.com&#x2F;image_search&#x2F;src&#x3D;http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fblog%2F202107%2F19%2F20210719150601_4401e.thumb.1000_0.jpg&amp;refer&#x3D;http%3A%2F%2Fc-ssl.duitang.com&amp;app&#x3D;2002&amp;size&#x3D;f9999,10000&amp;q&#x3D;a80&amp;n&#x3D;0&amp;g&#x3D;0n&amp;fmt&#x3D;auto?sec&#x3D;1685108172&amp;t&#x3D;232426938cbc64554c6c143fdb13fb4c&quot;                      &#x2F;&gt;                    &lt;&#x2F;q-avatar&gt;                  &lt;&#x2F;q-item-section&gt;                  &lt;q-item-section&gt;ä½ å¥½, W&lt;&#x2F;q-item-section&gt;                &lt;&#x2F;q-item&gt;                &lt;q-item clickable v-close-popup&gt;                  &lt;q-item-section class&#x3D;&quot;text-center&quot;&gt;ä¸ªäººä¸»é¡µ&lt;&#x2F;q-item-section&gt;                &lt;&#x2F;q-item&gt;                &lt;q-item clickable v-close-popup&gt;                  &lt;q-item-section class&#x3D;&quot;text-center&quot;&gt;é€€å‡ºç™»å½•&lt;&#x2F;q-item-section&gt;                &lt;&#x2F;q-item&gt;              &lt;&#x2F;q-list&gt;            &lt;&#x2F;q-menu&gt;          &lt;&#x2F;q-btn&gt; &lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="æœ€åç»“æœå±•ç¤º"><a href="#æœ€åç»“æœå±•ç¤º" class="headerlink" title="æœ€åç»“æœå±•ç¤º"></a>æœ€åç»“æœå±•ç¤º</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5gy1hev9tx7yn1j31lj14d7bn.jpg" alt="ç»“æœå±•ç¤º"></p><h2 id="æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”tab-and-crumbs"><a href="#æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”tab-and-crumbs" class="headerlink" title="æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”tab-and-crumbs"></a>æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”<a href="https://gitee.com/wlf213/wlf-admin-study/tree/tab-and-crumbs/"><code>tab-and-crumbs</code></a></h2><h2 id="ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€"><a href="#ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€" class="headerlink" title="ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€"></a>ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€</h2><p><a href="https://wangijun.com/2023/06/06/vue-12/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(äº”)</a></p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5gy1hev9qcz42xj33401r01kz.jpg" alt="åŠ¨æ¼«å¥³å­© è“è‰²çš„å¤´å‘"></p>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ts</tag>
      
      <tag>quasar</tag>
      
      <tag>vue3</tag>
      
      <tag>setup</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(ä¸‰)</title>
    <link href="/2023/06/04/vue-10/"/>
    <url>/2023/06/04/vue-10/</url>
    
    <content type="html"><![CDATA[<h2 id="æ–‡ç« åˆ—è¡¨ï¼š"><a href="#æ–‡ç« åˆ—è¡¨ï¼š" class="headerlink" title="æ–‡ç« åˆ—è¡¨ï¼š"></a>æ–‡ç« åˆ—è¡¨ï¼š</h2><ul><li><a href="https://wangijun.com/2023/06/01/vue-08/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(ä¸€)</a></li><li><a href="https://wangijun.com/2023/06/02/vue-09/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(äºŒ)</a></li><li><a href="https://wangijun.com/2023/06/04/vue-10/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(ä¸‰)</a></li><li><a href="https://wangijun.com/2023/06/06/vue-11/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(å››)</a></li><li><a href="https://wangijun.com/2023/06/06/vue-12/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(äº”)</a></li></ul><h2 id="å®ç°æ–¹æ¡ˆï¼š"><a href="#å®ç°æ–¹æ¡ˆï¼š" class="headerlink" title="å®ç°æ–¹æ¡ˆï¼š"></a>å®ç°æ–¹æ¡ˆï¼š</h2><h3 id="æ–¹æ¡ˆä¸€ã€ä½¿ç”¨VueRouterçš„åŠ¨æ€è·¯ç”±ï¼Œéå†è·¯ç”±ä¿¡æ¯åŠ¨æ€æ„å»ºèœå•ã€‚"><a href="#æ–¹æ¡ˆä¸€ã€ä½¿ç”¨VueRouterçš„åŠ¨æ€è·¯ç”±ï¼Œéå†è·¯ç”±ä¿¡æ¯åŠ¨æ€æ„å»ºèœå•ã€‚" class="headerlink" title="æ–¹æ¡ˆä¸€ã€ä½¿ç”¨VueRouterçš„åŠ¨æ€è·¯ç”±ï¼Œéå†è·¯ç”±ä¿¡æ¯åŠ¨æ€æ„å»ºèœå•ã€‚"></a>æ–¹æ¡ˆä¸€ã€ä½¿ç”¨VueRouterçš„åŠ¨æ€è·¯ç”±ï¼Œéå†è·¯ç”±ä¿¡æ¯åŠ¨æ€æ„å»ºèœå•ã€‚</h3><div class="note note-info">            <p>ä¼˜åŠ¿ï¼šç†Ÿæ‚‰Vueè·¯ç”±çš„æƒ…å†µä¸‹ï¼Œè¿™ç§æ–¹å¼å¯èƒ½æ„å»ºèµ·æ¥ä¼šçœéƒ¨åˆ†ä»£ç ã€‚<br>åŠ£åŠ¿ï¼šè·¯ç”±ä¿¡æ¯ä¸å¯è§ï¼Œå¯¹äºåˆšæ¥æ‰‹çš„å¼€å‘è€…æ²¡æœ‰åç«¯æœåŠ¡çš„æƒ…å†µä¸‹ï¼Œæ— æ³•æ‘¸ç´¢ç²¾ç¡®æ‰¾urlå¯¹åº”çš„é¡µé¢ï¼Œæ„å»ºå¤šçº§èœå•æ—¶éœ€è¦å¢åŠ ä¸€ä¸ªç©ºé¡µé¢ä½œä¸ºå­è·¯ç”±çš„è½½ä½“ï¼Œé¡µé¢ç»“æ„å˜å¤æ‚ã€‚<br>æ ¹æ®åç«¯æ„å»ºåŠ¨æ€è·¯ç”±æœ‰ç‚¹éš¾åº¦ï¼Œå¦‚æ„å»º<code> children: [{ path: &#39;&#39;, component: () =&gt; import(&#39;pages/IndexPage.vue&#39;) }]</code>ç±»ä¼¼è¿™æ ·çš„ä»£ç ã€‚</p>          </div><h3 id="æ–¹æ¡ˆäºŒã€å•ç‹¬æ„å»ºèœå•æ ‘ï¼Œä½¿ç”¨å•ç‹¬çš„ä¸€ä¸ªèœå•æ ‘ç»“æ„æ¥æ„å»ºèœå•ã€‚"><a href="#æ–¹æ¡ˆäºŒã€å•ç‹¬æ„å»ºèœå•æ ‘ï¼Œä½¿ç”¨å•ç‹¬çš„ä¸€ä¸ªèœå•æ ‘ç»“æ„æ¥æ„å»ºèœå•ã€‚" class="headerlink" title="æ–¹æ¡ˆäºŒã€å•ç‹¬æ„å»ºèœå•æ ‘ï¼Œä½¿ç”¨å•ç‹¬çš„ä¸€ä¸ªèœå•æ ‘ç»“æ„æ¥æ„å»ºèœå•ã€‚"></a>æ–¹æ¡ˆäºŒã€å•ç‹¬æ„å»ºèœå•æ ‘ï¼Œä½¿ç”¨å•ç‹¬çš„ä¸€ä¸ªèœå•æ ‘ç»“æ„æ¥æ„å»ºèœå•ã€‚</h3><div class="note note-info">            <p>å•ç‹¬æ„å»ºèœå•æ ‘ï¼Œä½¿ç”¨å•ç‹¬çš„ä¸€ä¸ªèœå•æ ‘ç»“æ„æ¥æ„å»ºèœå•ï¼Œä½¿ç”¨urlæˆ–è€…nameæ¥åŒ¹é…å¯¹åº”çš„è·¯ç”±ä¿¡æ¯ã€‚<br>ä¼˜åŠ¿ï¼šåŸå§‹è·¯ç”±æ¸…æ™°ï¼Œæ˜“äºè°ƒè¯•ï¼Œå¤šçº§èœå•ä¸éœ€è¦ç©ºé¡µé¢ä½œä¸ºè·¯ç”±è½½ä½“ï¼Œç­‰ç­‰<br>åŠ£åŠ¿ï¼šç»´æŠ¤èœå•æ ‘å’Œè·¯ç”±æ ‘çš„å¯¹åº”å…³ç³»æ—¶ä»£ç å¯èƒ½æœ‰ç‚¹å¤æ‚ï¼Œ</p>          </div><p><strong>è¿™é‡Œç¬”è€…æ˜¯ç”¨çš„ç¬¬äºŒç§æ–¹å¼ã€‚</strong></p><h2 id="æ€è·¯åˆ†æ"><a href="#æ€è·¯åˆ†æ" class="headerlink" title="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ</h2><p>ç¬¬ä¸€ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªèœå•æ ‘ï¼Œæ€ä¹ˆæ„å»ºæ ‘å‘¢ï¼Œæˆ‘ä»¬éœ€è¦å­èŠ‚ç‚¹åŒ…å«çˆ¶èŠ‚ç‚¹ä¿¡æ¯çš„å¹³çº§ç»“æ„ï¼Œç„¶åæŠŠå®ƒè½¬æˆæ ‘ç»“æ„ï¼Œåªæœ‰å­èŠ‚ç‚¹åŒ…å«çˆ¶èŠ‚ç‚¹çš„ä¿¡æ¯æˆ‘ä»¬æ‰èƒ½æ„å»ºæ ‘ç»“æ„ï¼Œ</p><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'main2'</span><span class="token punctuation">,</span> <span class="token comment">// èŠ‚ç‚¹çš„Idä¿¡æ¯</span>    <span class="token literal-property property">pid</span><span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span> <span class="token comment">// çˆ¶èŠ‚ç‚¹Idä¿¡æ¯ï¼Œä¸º0è¡¨ç¤ºä¸ºæ ¹èŠ‚ç‚¹</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'ä¸»é¡µ2'</span><span class="token punctuation">,</span> <span class="token comment">// èœå•åç§°</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/index'</span><span class="token punctuation">,</span> <span class="token comment">// èœå•urlï¼Œå¯¹åº”è·¯ç”±ä¿¡æ¯</span>    <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span> <span class="token comment">// èœå•å›¾æ ‡</span>    <span class="token literal-property property">auth</span><span class="token operator">:</span> <span class="token string">'23'</span><span class="token punctuation">,</span> <span class="token comment">// æƒé™æ ‡è¯†ï¼Œæš‚å®šï¼Œé‰´æƒä¹Ÿå¯ä»¥ä½¿ç”¨urlä½œä¸ºé‰´æƒæ ‡è¯†ã€‚</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>    <span class="token literal-property property">pid</span><span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'ç³»ç»Ÿç®¡ç†'</span><span class="token punctuation">,</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>    <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'settings_applications'</span><span class="token punctuation">,</span>    <span class="token literal-property property">auth</span><span class="token operator">:</span> <span class="token string">'23'</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'1-1'</span><span class="token punctuation">,</span>    <span class="token literal-property property">pid</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'èœå•ç®¡ç†'</span><span class="token punctuation">,</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/sys-menu'</span><span class="token punctuation">,</span>    <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'menu'</span><span class="token punctuation">,</span>    <span class="token literal-property property">auth</span><span class="token operator">:</span> <span class="token string">'23'</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ä¸Šé¢è¿™æ ·çš„å¹³çº§æ•°æ®ç»„æˆæ ‘ç»“æ„åº”è¯¥æ˜¯è¿™æ ·çš„</p><ul><li>ä¸»é¡µ</li><li>ç³»ç»Ÿç®¡ç†<ul><li>èœå•ç®¡ç†</li></ul></li></ul><p>äº†è§£èœå•æ•°æ®çš„ç»„æˆè¿‡åï¼Œå¼€å§‹ç¼–å†™å¤„ç†èœå•æ ‘çš„ä»£ç </p><p>åœ¨<code>stores</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»º<code>layout-store.ts</code>æ–‡ä»¶ï¼Œç¼–å†™å¦‚ä¸‹ä»£ç ï¼Œéœ€è¦ç†Ÿæ‚‰<a href="https://pinia.vuejs.org/zh/"><code>pinia</code></a>ï¼Œ</p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> useLayoutStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'layout'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// å­˜å‚¨çš„æ•°æ®</span>  getters<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token comment">// è®¡ç®—å±æ€§</span>  actions<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token comment">// ä¸€äº›æ“ä½œ</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å®šä¹‰èœå•ç±»å‹ï¼Œåœ¨<code>src</code>ä¸‹æ–°å»º<code>types</code>ç›®å½•ï¼Œä¹‹åæ–°å»º<code>base.d.ts</code>æ–‡ä»¶ï¼Œç¼–å†™å¦‚ä¸‹ä»£ç </p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">declare</span> <span class="token keyword">namespace</span> <span class="token constant">WJ</span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* èœå•é¡¹ */</span>  <span class="token keyword">interface</span> <span class="token class-name">MenuItem</span> <span class="token punctuation">&#123;</span>     <span class="token comment">// èœå•ID</span>    id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    <span class="token comment">// èœå•çˆ¶çº§Idæ ¹èŠ‚ç‚¹ä½¿ç”¨"0"</span>    pid<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    <span class="token comment">// èœå•åç§°</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    <span class="token comment">// èœå•è·¯å¾„</span>    path<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    <span class="token comment">// èœå•å›¾æ ‡</span>    icon<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    <span class="token comment">// èœå•æƒé™ç¼–ç </span>    auth<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    <span class="token comment">// æ’åº,æ•°å­—è¶Šå¤§è¶Šé å</span>    sort<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    <span class="token comment">// å­çº§åˆ«èœå•</span>    children<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>åœ¨routeræ–‡ä»¶å¤¹ä¸‹æ–°å»º<code>my-router.ts</code>æ–‡ä»¶ï¼Œç¼–å†™å¦‚ä¸‹å†…å®¹ï¼Œæ­¤æ–‡ä»¶å†…å®¹å°±æ˜¯ä¸€ä¼šéœ€è¦å±•ç¤ºçš„èœå•åŸå§‹æ•°æ®ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    id<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>    pid<span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'ç³»ç»Ÿç®¡ç†'</span><span class="token punctuation">,</span>    path<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>    icon<span class="token operator">:</span> <span class="token string">'settings_applications'</span><span class="token punctuation">,</span>    sort<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    id<span class="token operator">:</span> <span class="token string">'1-1'</span><span class="token punctuation">,</span>    pid<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'èœå•ç®¡ç†'</span><span class="token punctuation">,</span>    path<span class="token operator">:</span> <span class="token string">'/sys-menu'</span><span class="token punctuation">,</span>    icon<span class="token operator">:</span> <span class="token string">'menu'</span><span class="token punctuation">,</span>    sort<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    id<span class="token operator">:</span> <span class="token string">'1-2'</span><span class="token punctuation">,</span>    pid<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'ç”¨æˆ·ç®¡ç†'</span><span class="token punctuation">,</span>    path<span class="token operator">:</span> <span class="token string">'/sys-user'</span><span class="token punctuation">,</span>    icon<span class="token operator">:</span> <span class="token string">'person'</span><span class="token punctuation">,</span>    sort<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ä¿®æ”¹<code>layout-store.ts</code>æ–‡ä»¶ï¼Œç¼–å†™å¹³çº§èœå•ç»“æ„è½¬æ ‘ç»“æ„çš„æ–¹æ³•</p><p>ç¼–å†™è¿‡åå®Œæ•´ä»£ç å¦‚ä¸‹ï¼Œ</p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> store <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'quasar/wrappers'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span><span class="token punctuation">;</span><span class="token comment">// ç±»å‹å®šä¹‰</span><span class="token keyword">interface</span> <span class="token class-name">LayoutType</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// å¹³çº§èœå•æ•°æ®</span>  menuList<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">const</span> useLayoutStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'layout'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> LayoutType <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    menuList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  getters<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// ID:WJ.MenuItemï¼ŒMap ç»“æ„ï¼ŒKeyä¸ºèœå•ID</span>    menuIdMap<span class="token operator">:</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token operator">:</span> Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      state<span class="token punctuation">.</span>menuList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> map    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token comment">// æ ‘å½¢èœå•æ•°æ®</span>    <span class="token function">menuTree</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span> <span class="token punctuation">&#123;</span>      <span class="token comment">// å°†å­å…ƒç´ ä¾æ¬¡æ”¾å…¥çˆ¶å…ƒç´ ä¸­</span>      <span class="token keyword">const</span> res<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>      state<span class="token punctuation">.</span>menuList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> parent <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>menuIdMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">const</span> pc <span class="token operator">=</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>children <span class="token operator">||</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          pc<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> pc<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">''</span>          pc<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=></span> a<span class="token punctuation">.</span>sort <span class="token operator">-</span> b<span class="token punctuation">.</span>sort<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>          res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      res<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=></span> a<span class="token punctuation">.</span>sort <span class="token operator">-</span> b<span class="token punctuation">.</span>sort<span class="token punctuation">)</span>      <span class="token keyword">return</span> res<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  actions<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¿™é‡Œèœå•æ•°æ®çš„ä»£ç å°±å†™å¥½äº†ï¼Œæ¥ä¸‹æ¥ç¼–å†™é¡µé¢å±•ç¤ºã€‚</p><p>åœ¨<code>layouts</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºç›®å½•<code>comp</code>ï¼Œåœ¨<code>comp</code>ç›®å½•æ–°å»ºæ–‡ä»¶<code>LeftDrawer.vue</code>ä½œä¸ºå·¦è¾¹ä¾§è¾¹æ å†…å®¹ç»„ä»¶ï¼Œ</p><p><code>LeftDrawer.vue</code>ç»„ä»¶ä»£ç å¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;div&gt;    &lt;h3&gt;è¿™æ˜¯ä¾§è¾¹èœå•&lt;&#x2F;h3&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;&lt;&#x2F;script&gt;&lt;style scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>åœ¨<code>MainLayout.vue</code>æ–‡ä»¶ä¸­å¼•å…¥<code>LeftDrawer.vue</code>ç»„ä»¶ï¼Œå¹¶æ›¿æ¢<code>q-drawer</code>çš„æ ‡ç­¾ä¸­çš„<code>q-list</code>æ ‡ç­¾ï¼Œç„¶åç²¾ç®€ä»£ç ï¼Œç¼–è¾‘è¿‡å<code>MainLayout.vue</code>ä»£ç å¦‚ä¸‹æ‰€ç¤º</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;q-layout view&#x3D;&quot;lHh Lpr lFf&quot;&gt;    &lt;q-header elevated&gt;      &lt;q-toolbar&gt;        &lt;q-btn          flat          dense          round          icon&#x3D;&quot;menu&quot;          aria-label&#x3D;&quot;Menu&quot;          @click&#x3D;&quot;toggleLeftDrawer&quot;        &#x2F;&gt;        &lt;q-toolbar-title&gt; Quasar App &lt;&#x2F;q-toolbar-title&gt;        &lt;div&gt;Quasar v&#123;&#123; $q.version &#125;&#125;&lt;&#x2F;div&gt;      &lt;&#x2F;q-toolbar&gt;    &lt;&#x2F;q-header&gt;    &lt;q-drawer v-model&#x3D;&quot;leftDrawerOpen&quot; show-if-above bordered&gt;      &lt;LeftDrawer&gt;&lt;&#x2F;LeftDrawer&gt;    &lt;&#x2F;q-drawer&gt;    &lt;q-page-container&gt;      &lt;router-view &#x2F;&gt;    &lt;&#x2F;q-page-container&gt;  &lt;&#x2F;q-layout&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; ref &#125; from &#39;vue&#39;;import LeftDrawer from &#39;.&#x2F;comp&#x2F;LeftDrawer.vue&#39;;const leftDrawerOpen &#x3D; ref(false);function toggleLeftDrawer() &#123;  leftDrawerOpen.value &#x3D; !leftDrawerOpen.value;&#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¿è¡Œé¡¹ç›®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1henom39mhtj31yi15hqcu.jpg" alt="ç¤ºæ„å›¾"></p><p>è¯´æ˜ç»„ä»¶å¼•å…¥æˆåŠŸï¼Œç„¶ååœ¨<code>comp</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»º<code>MenuItem.vue</code>æ–‡ä»¶ï¼Œç¼–å†™å¦‚ä¸‹å†…å®¹ä»£ç ï¼Œæ­¤ä»£ç æœ‰ç‚¹å¤æ‚ï¼Œç”¨åˆ°äº†<a href="https://quasar.dev/vue-components/list-and-list-items"><code>q-list</code></a>,<a href="https://quasar.dev/vue-components/expansion-item"><code>q-expansion-item</code></a>ç»„ä»¶ï¼Œå¦‚æœä¸ç†Ÿæ‚‰ç»„ä»¶ä½¿ç”¨æ–¹æ³•ï¼Œå¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£å­¦ä¹ ä½¿ç”¨</p><p><code>MenuItem.vue</code>ä»£ç å¦‚ä¸‹ï¼Œæˆ‘å°½å¯èƒ½çš„å¤šå†™æ³¨é‡Šï¼Œä¾¿äºç†è§£ï¼Œå¦‚æœæ²¡çœ‹æ‡‚ï¼Œå¯ä»¥æŠŠä»£ç æ‹‰åˆ°æœ¬åœ°è‡ªå·±ç¢ç£¨ç¢ç£¨ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;template v-for&#x3D;&quot;item in menuTree&quot; :key&#x3D;&quot;item.id&quot;&gt;    &lt;q-item v-if&#x3D;&quot;!item.children&quot; @click&#x3D;&quot;handleClick(item)&quot; clickable&gt;      &lt;q-item-section avatar&gt;        &lt;q-icon :name&#x3D;&quot;item.icon&quot; &#x2F;&gt;      &lt;&#x2F;q-item-section&gt;      &lt;q-item-section&gt;        &lt;q-item-label&gt;&#123;&#123; item.name &#125;&#125;&lt;&#x2F;q-item-label&gt;      &lt;&#x2F;q-item-section&gt;    &lt;&#x2F;q-item&gt;    &lt;q-expansion-item      :icon&#x3D;&quot;item.icon&quot;      :label&#x3D;&quot;item.name&quot;      :content-inset-level&#x3D;&quot;0.2&quot;      v-else    &gt;      &lt;!-- å¦‚æœåŒ…å«å­é›†ã€‚åˆ™é€’å½’è°ƒç”¨æ­¤ç»„ä»¶ --&gt;      &lt;MenuItem :menu-tree&#x3D;&quot;item.children&quot;&gt;&lt;&#x2F;MenuItem&gt;    &lt;&#x2F;q-expansion-item&gt;  &lt;&#x2F;template&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; useRouter &#125; from &#39;vue-router&#39;;interface Props &#123;  &#x2F;&#x2F; èœå•æ ‘  menuTree: Array&lt;WJ.MenuItem&gt;;&#125;withDefaults(defineProps&lt;Props&gt;(), &#123;&#125;);const router &#x3D; useRouter();&#x2F;* å¤„ç†ç‚¹å‡»äº‹ä»¶ *&#x2F;const handleClick &#x3D; (item: WJ.MenuItem) &#x3D;&gt; &#123;  router.push(item.path);&#125;;&lt;&#x2F;script&gt;&lt;style scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ç¼–å†™å®Œæˆè¿‡åï¼Œä¿®æ”¹<code>LeftDrawer.vue</code>æ–‡ä»¶ï¼Œè¦åœ¨æ­¤æ–‡ä»¶ä¸­å¼•å…¥<code>MenuItem.vue</code>ç»„ä»¶ï¼Œä»£ç å¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;q-scroll-area class&#x3D;&quot;fit&quot;&gt;    &lt;q-list bordered&gt;      &lt;!-- ä¸»é¡µ  --&gt;      &lt;q-item        clickable        :active&#x3D;&quot;route.fullPath &#x3D;&#x3D;&#x3D; layout.mainPage.path&quot;        @click&#x3D;&quot;router.push(&#123; path: layout.mainPage.path &#125;)&quot;      &gt;        &lt;q-item-section avatar&gt;          &lt;q-icon :name&#x3D;&quot;layout.mainPage.icon&quot; &#x2F;&gt;        &lt;&#x2F;q-item-section&gt;        &lt;q-item-section&gt;          &lt;q-item-label&gt;&#123;&#123; layout.mainPage.name &#125;&#125;&lt;&#x2F;q-item-label&gt;        &lt;&#x2F;q-item-section&gt;      &lt;&#x2F;q-item&gt;      &lt;!-- èœå•ç»„ä»¶ --&gt;      &lt;menu-item :menu-tree&#x3D;&quot;layout.menuTree&quot;&gt;&lt;&#x2F;menu-item&gt;    &lt;&#x2F;q-list&gt;  &lt;&#x2F;q-scroll-area&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; defineAsyncComponent &#125; from &#39;vue&#39;;import &#123; useLayoutStore &#125; from &#39;src&#x2F;stores&#x2F;layout-store&#39;;import &#123; useRoute, useRouter &#125; from &#39;vue-router&#39;;import myRoute from &#39;src&#x2F;router&#x2F;my-router&#39;;const MenuItem &#x3D; defineAsyncComponent(() &#x3D;&gt; import(&#39;.&#x2F;MenuItem.vue&#39;));const route &#x3D; useRoute();const router &#x3D; useRouter();const layout &#x3D; useLayoutStore();&#x2F;&#x2F; æ³¨æ„è¿™é‡Œï¼Œèµ‹å€¼èœå•æ•°æ®layout.menuList &#x3D; myRoute as Array&lt;WJ.MenuItem&gt;;&lt;&#x2F;script&gt;&lt;style scoped&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¿™ä¸ªæ—¶å€™ä¸å‡ºæ„å¤–çš„è¯ï¼Œ<code>LeftDrawer.vue</code>å†…ä»£ç ä¼šæœ‰æŠ¥é”™ï¼Œæç¤ºæ²¡æœ‰<code>mainPage</code>å±æ€§ï¼Œæˆ‘ä»¬ç»™å®ƒåŠ ä¸Šå³å¯ï¼Œä¿®æ”¹<code>layout-store.ts</code>å†…ä»£ç ï¼Œåœ¨<code>LayoutType</code>ä¸­åŠ å…¥ä»£ç <code> mainPage: WJ.MenuItem</code>ï¼ŒåŠ å…¥è¿‡åï¼Œå¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">LayoutType</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// å¹³çº§èœå•æ•°æ®</span>  menuList<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span>  mainPage<span class="token operator">:</span> <span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>åŠ å…¥è¿‡åï¼Œä»£ç æç¤ºæŠ¥é”™ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å†ç¼–å†™ä»£ç åœ¨<code>state</code>ä¸­æ·»åŠ <code>mainPage</code>å±æ€§ï¼Œä¿®æ”¹è¿‡åå®Œæ•´ä»£ç å¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span><span class="token punctuation">;</span><span class="token keyword">interface</span> <span class="token class-name">LayoutType</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// å¹³çº§èœå•æ•°æ®</span>  menuList<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span>  <span class="token comment">// ä¸»é¡µ</span>  mainPage<span class="token operator">:</span> <span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">const</span> useLayoutStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'layout'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> LayoutType <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    menuList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token comment">// ä¸»è¦çœ‹è¿™é‡Œ</span>    mainPage<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      id<span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span>      pid<span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span>      name<span class="token operator">:</span> <span class="token string">'é¦–é¡µ'</span><span class="token punctuation">,</span>      sort<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>      icon<span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>      auth<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>      path<span class="token operator">:</span> <span class="token string">'/'</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  getters<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// ID:WJ.MenuItem</span>    menuIdMap<span class="token operator">:</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token operator">:</span> Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      state<span class="token punctuation">.</span>menuList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> map    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token comment">// æ ‘å½¢èœå•æ•°æ®</span>    <span class="token function">menuTree</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span> <span class="token punctuation">&#123;</span>      <span class="token comment">// å°†å­å…ƒç´ ä¾æ¬¡æ”¾å…¥çˆ¶å…ƒç´ ä¸­</span>      <span class="token keyword">const</span> res<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">WJ</span><span class="token punctuation">.</span>MenuItem<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>      state<span class="token punctuation">.</span>menuList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> parent <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>menuIdMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">const</span> pc <span class="token operator">=</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>children <span class="token operator">||</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          pc<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> pc<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">''</span>          pc<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=></span> a<span class="token punctuation">.</span>sort <span class="token operator">-</span> b<span class="token punctuation">.</span>sort<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>          res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      res<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=></span> a<span class="token punctuation">.</span>sort <span class="token operator">-</span> b<span class="token punctuation">.</span>sort<span class="token punctuation">)</span>      <span class="token keyword">return</span> res<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  actions<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>é‡å¯é¡¹ç›®ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç¼–å†™çš„åŠ¨æ€èœå•å·²ç»åŠ è½½å‡ºæ¥äº†ï¼Œ<br><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1henpaw3g2xj31yi15hak7.jpg" alt="åŠ¨æ€èœå•"></p><p>è‡³æ­¤æˆ‘ä»¬çš„åŠ¨æ€èœå•çš„å±•ç¤ºå·²ç»ç¼–å†™å®Œæˆï¼Œä¸è¿‡ç‚¹å‡»ä½ ä¼šå‘ç°ä¼šè·³è½¬åˆ°404é¡µé¢ï¼Œå› ä¸ºæˆ‘ä»¬å¹¶æ²¡æœ‰ç¼–å†™å¯¹åº”çš„è·¯ç”±é…ç½®ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†ä¼˜åŒ–è¿™ä¸ªåŠ¨æ€èœå•åŠŸèƒ½ï¼Œå¦‚ï¼Œèœå•é«˜äº®ï¼Œæ”¯æŒå¤–éƒ¨é“¾æ¥ï¼Œæ”¯æŒå†…éƒ¨æ‰“å¼€å¤–éƒ¨é“¾æ¥ç­‰ç­‰â€¦â€¦..</p><p>åŠ¨æ€èœå•åˆ°æ­¤ç¼–å†™å®Œæˆã€‚</p><h2 id="æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”dynamic-menu"><a href="#æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”dynamic-menu" class="headerlink" title="æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”dynamic-menu"></a>æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”<a href="https://gitee.com/wlf213/wlf-admin-study/tree/dynamic-menu/"><code>dynamic-menu</code></a></h2><h2 id="ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€"><a href="#ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€" class="headerlink" title="ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€"></a>ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€</h2><p><a href="https://wangijun.com/2023/06/06/vue-11/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(å››)</a></p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1henpikqe2fj32yo1o0npd.jpg" alt="å°é¢"></p>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ts</tag>
      
      <tag>quasar</tag>
      
      <tag>vue3</tag>
      
      <tag>setup</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(äºŒ)</title>
    <link href="/2023/06/02/vue-09/"/>
    <url>/2023/06/02/vue-09/</url>
    
    <content type="html"><![CDATA[<h2 id="æ–‡ç« åˆ—è¡¨ï¼š"><a href="#æ–‡ç« åˆ—è¡¨ï¼š" class="headerlink" title="æ–‡ç« åˆ—è¡¨ï¼š"></a>æ–‡ç« åˆ—è¡¨ï¼š</h2><ul><li><a href="https://wangijun.com/2023/06/01/vue-08/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(ä¸€)</a></li><li><a href="https://wangijun.com/2023/06/02/vue-09/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(äºŒ)</a></li><li><a href="https://wangijun.com/2023/06/04/vue-10/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(ä¸‰)</a></li><li><a href="https://wangijun.com/2023/06/06/vue-11/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(å››)</a></li><li><a href="https://wangijun.com/2023/06/06/vue-12/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(äº”)</a></li></ul><p>quasaræ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„æ¡†æ¶ï¼Œè‡³äºæ€ä¹ˆå¥½ç”¨çš„ï¼Œè¯·çœ‹ï¼Œ</p><h2 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5gy1hek018so3ig31qd0y5npf.gif" alt="åˆ›å»ºé¡¹ç›®Gif"></p><p>é€‰æ‹©å­˜æ”¾é¡¹ç›®çš„æ–‡ä»¶å¤¹ï¼Œç‚¹å‡»åœ°å€æ è¾“å…¥cmdå›è½¦å³å¯åœ¨æ­¤è·¯å¾„ä¸­æ‰“å¼€CMDï¼Œè¾“å…¥å‘½ä»¤<code>npm init quasar</code>ï¼ŒæŒ‰ç…§gifä¸­è¾“å…¥å³å¯ï¼Œä¸Šä¸‹é”®é€‰æ‹©ï¼Œç©ºæ ¼é”®é€‰ä¸­ï¼Œå›è½¦è¡¨ç¤ºç¡®å®šã€‚æŒ‰ç…§Gifä¸­åˆ›å»ºé¡¹ç›®å³å¯ã€‚</p><p>è¿™é‡ŒGifä¸­æˆ‘è¾“å…¥çš„æ–‡ä»¶å¤¹åç§°ä¸º<code>wlf-admin-study</code>ï¼Œæ‰€ä»¥æˆ‘è¿™é‡ŒVsCodeæ‰“å¼€æ­¤æ–‡ä»¶å¤¹ï¼Œå¦‚æœä½ å¡«äº†åˆ«çš„æ–‡ä»¶å¤¹åç§°ï¼Œé‚£å°±æ‰“å¼€ä½ å¡«çš„åç§°çš„æ–‡ä»¶å¤¹ã€‚</p><p>VsCodeé‡Œæ–°å»ºç»ˆç«¯ï¼Œè¾“å…¥<code>npm i</code>ï¼Œå®‰è£…ä¾èµ–ï¼Œæ— æŠ¥é”™æ‰§è¡Œå®Œæ¯•è¿‡åï¼Œè§‚å¯Ÿé¡¹ç›®ä¸­æ˜¯å¦å¤šäº†ä¸€ä¸ªnode_modulesæ–‡ä»¶å¤¹ï¼Œæ­£å¸¸æƒ…å†µä¸‹æ˜¯ä¼šç”Ÿæˆæ­¤ç›®å½•ã€‚å¦‚æœªç”Ÿæˆï¼Œè¯·æ ¸å¯¹å“ªä¸€æ­¥æé”™äº†ã€‚</p><p>é¡¹ç›®å®Œæ•´ç»“æ„å›¾</p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5gy1hek1ggxmzfj30f90p3dlk.jpg" alt="é¡¹ç›®å®Œæ•´ç»“æ„å›¾"></p><p>ç¼–è¾‘<code>package.json</code>æ–‡ä»¶ä¸­çš„<code>scripts</code>å—ï¼Œåœ¨é‡Œé¢æ·»åŠ </p><figure><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"quasar dev"</span><span class="token punctuation">,</span><span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"quasar build"</span><span class="token punctuation">,</span><span class="token comment">// æ·»åŠ è¿‡åå®Œæ•´scriptså—</span>  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"quasar dev"</span><span class="token punctuation">,</span>    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"quasar build"</span><span class="token punctuation">,</span>    <span class="token property">"lint"</span><span class="token operator">:</span> <span class="token string">"eslint --ext .js,.ts,.vue ./"</span><span class="token punctuation">,</span>    <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"prettier --write \"**/*.&#123;js,ts,vue,scss,html,md,json&#125;\" --ignore-path .gitignore"</span><span class="token punctuation">,</span>    <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"echo \"No test specified\" &amp;&amp; exit 0"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ç»ˆç«¯ä¸­æ‰§è¡Œå‘½ä»¤<code>npm run dev</code>ï¼Œæ— æŠ¥é”™åº”è¯¥ä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œå‡ºç°ä¸‹é¢è¿™ä¸ªç•Œé¢å³è¯´æ˜åˆå§‹ç¯å¢ƒæ­å»ºæˆåŠŸï¼Œ</p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5gy1hek1pdl23gj31yb13cqec.jpg" alt="é»˜è®¤ç•Œé¢"></p><p>åˆå§‹åŒ–çš„æ—¶å€™é¡¹ç›®ä¼šæœ‰äº›è­¦å‘Šï¼Œæ˜¯å› ä¸ºå­—ç¬¦ä¸²åŒå¼•å·ä¸ç¬¦åˆEslintæ ¡éªŒï¼Œæ‰“å¼€æç¤ºè­¦å‘Šçš„æ–‡ä»¶ï¼Œæ ¼å¼åŒ–æˆ–è€…ä¿å­˜ä¸€ä¸‹å³å¯ã€‚</p><p>ä¿®æ”¹<code>quasar.config.js</code>æ–‡ä»¶ä¸­<code>framework.lang</code>é…ç½®ä¸ºâ€™zh-CNâ€™</p><p>åˆ°è¿™ä¸€ä¸ªåŸºæœ¬ç¯å¢ƒå°±æ­å»ºå¥½äº†ï¼Œæ¥ä¸‹æ¥åˆ†æä¸€ä¸‹srcæ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹</p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hek736x8ffj30e70in0vs.jpg" alt="srcç¤ºæ„å›¾"></p><div class="note note-info">            <ul><li>src<ul><li>assets â€“é™æ€æ–‡ä»¶</li><li>boot â€“å¯åŠ¨æ—¶åŠ è½½çš„ä¸€äº›æ“ä½œ</li><li>components â€“ é€šç”¨ç»„ä»¶</li><li>css â€“å…¨å±€CSS</li><li>i18n â€“å¤šè¯­è¨€åŒ…</li><li>layouts â€“æ•´ä½“å¸ƒå±€</li><li>pages â€“é¡µé¢</li><li>router â€“è·¯ç”±ç›¸å…³</li><li>stores â€“å…¨å±€çŠ¶æ€å­˜å‚¨</li><li>App.vue â€“æ ¹ç»„ä»¶</li><li>env.d.ts â€“ç³»ç»Ÿå˜é‡TSç±»å‹å®šä¹‰</li><li>index.template.html â€“é¡µé¢æ¨¡æ¿</li><li>quasar.d.ts â€“ç±»å‹å®šä¹‰</li><li>shims-vue.d.ts â€“ç±»å‹å®šä¹‰</li></ul></li></ul>          </div><div class="note note-light">            <p>åœ¨æˆ‘ä»¬ä¸€è¡Œä»£ç æ²¡æ•²çš„æ—¶å€™ï¼ŒåŸºç¡€å¼€å‘ç¯å¢ƒå·²ç»æ­å»ºå®Œæˆï¼ŒåŒ…æ‹¬å…¨å±€çŠ¶æ€å­˜å‚¨ï¼Œè·¯ç”±ï¼Œå¤šè¯­è¨€ç­‰Vueå…¨å®¶æ¡¶çš„é›†æˆï¼Œä¸ç”¨å†å»æœç´¢Vueæ•´åˆVueè·¯ç”±ï¼ŒVueæ•´å’ŒçŠ¶æ€å­˜å‚¨ï¼Œç­‰ç­‰ï¼Œï¼Œè¿™å°±æ˜¯QuasarCliçš„é­…åŠ›</p>          </div><h2 id="æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”init"><a href="#æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”init" class="headerlink" title="æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”init"></a>æ­¤ç¯‡åšå®¢è¿›åº¦å¯¹ä»£ç åˆ†æ”¯â€”â€”<a href="https://gitee.com/wlf213/wlf-admin-study/tree/init/"><code>init</code></a></h2><h2 id="ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€"><a href="#ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€" class="headerlink" title="ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€"></a>ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€</h2><p><a href="https://wangijun.com/2023/06/06/vue-10/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(ä¸‰)</a></p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hek6feautjj32yo1o0b2b.jpg" alt="å°é¢"></p>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ts</tag>
      
      <tag>quasar</tag>
      
      <tag>vue3</tag>
      
      <tag>setup</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(ä¸€)</title>
    <link href="/2023/06/01/vue-08/"/>
    <url>/2023/06/01/vue-08/</url>
    
    <content type="html"><![CDATA[<h2 id="æ–‡ç« åˆ—è¡¨ï¼š"><a href="#æ–‡ç« åˆ—è¡¨ï¼š" class="headerlink" title="æ–‡ç« åˆ—è¡¨ï¼š"></a>æ–‡ç« åˆ—è¡¨ï¼š</h2><ul><li><a href="https://wangijun.com/2023/06/01/vue-08/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(ä¸€)</a></li><li><a href="https://wangijun.com/2023/06/02/vue-09/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(äºŒ)</a></li><li><a href="https://wangijun.com/2023/06/04/vue-10/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(ä¸‰)</a></li><li><a href="https://wangijun.com/2023/06/06/vue-11/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(å››)</a></li><li><a href="https://wangijun.com/2023/06/06/vue-12/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(äº”)</a></li></ul><h2 id="æœ€ç»ˆé¡¹ç›®åœ°å€"><a href="#æœ€ç»ˆé¡¹ç›®åœ°å€" class="headerlink" title="æœ€ç»ˆé¡¹ç›®åœ°å€"></a>æœ€ç»ˆé¡¹ç›®åœ°å€</h2><p><a href="https://gitee.com/wlf213/wlf-admin">Wlf-Admin</a></p><p>æ­¤åšå®¢æ˜¯æƒ³ç€ä¸€æ­¥ä¸€æ­¥å®ç°ä¸€ä¸ªåå°ç®¡ç†æ¡†æ¶ï¼Œæœ‰ç»éªŒçš„å¯ä»¥ç›´æ¥æŸ¥çœ‹æœ€ç»ˆé¡¹ç›®ä»£ç ã€‚æƒ³ä¸€æ­¥ä¸€æ­¥å­¦ä¹ çš„ï¼Œè·Ÿç€åšå®¢ä¸€æ­¥ä¸€æ­¥èµ°æ¯”è¾ƒå®¹æ˜“å¸æ”¶ã€‚</p><h2 id="åºè¨€"><a href="#åºè¨€" class="headerlink" title="åºè¨€"></a>åºè¨€</h2><p>è¿™æ®µæ—¶é—´å­¦äº†Tsä»¥åŠVue3å’ŒSetupï¼Œå­¦äº†è¦ç”¨ï¼Œæ€ä¹ˆç”¨ï¼Œå†™é¡¹ç›®ï¼Œä¸å¯èƒ½ä»é›¶å¼€å§‹å†™ï¼Œè¦ç”¨ææ–™(ç»„ä»¶åº“)ï¼Œç”¨ä»€ä¹ˆææ–™ï¼Œ</p><p><a href="https://quasar.dev/">Quasar</a></p><p>ä¸ºä»€ä¹ˆä¸ç”¨<a href="https://element-plus.gitee.io/zh-CN/#attributes">ElementUI</a>ï¼Œä»¥åŠ<a href="https://www.naiveui.com/zh-CN/os-theme">NativeUi</a> ç­‰å›½å†…ç”Ÿæ€è‰¯å¥½çš„ç»„ä»¶åº“ï¼Ÿ</p><p>ç­”ï¼šä¸å¤Ÿå‰å®³ï¼ŒQuasarå’Œä¸Šé¢åˆ—ä¸¾çš„ç»„ä»¶åº“æ˜¯ä¸€ç§åŒ…å«çš„å…³ç³»ï¼ŒQuasaråŒ…å«äº†ç»„ä»¶ä½†ä¸ä»…é™äºç»„ä»¶ï¼Œæ›´åƒæ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„Vueå¼€å‘ç¯å¢ƒæ¡†æ¶ã€‚ç±»ä¼¼äºJavaçš„springbootã€‚</p><h2 id="æ‰€ç”¨æŠ€æœ¯ï¼š"><a href="#æ‰€ç”¨æŠ€æœ¯ï¼š" class="headerlink" title="æ‰€ç”¨æŠ€æœ¯ï¼š"></a>æ‰€ç”¨æŠ€æœ¯ï¼š</h2><ul><li>Vueå…¨å®¶æ¡¶(Router,Pinia,Axiosâ€¦)æ²¡ç‰¹åˆ«è¯´æ˜Vueç‰ˆæœ¬ï¼Œé»˜è®¤ä¸ºæœ€æ–°ç‰ˆæœ¬</li><li>TypeScript</li><li>Setup</li></ul><h2 id="åŠŸèƒ½æ¸…å•ï¼š"><a href="#åŠŸèƒ½æ¸…å•ï¼š" class="headerlink" title="åŠŸèƒ½æ¸…å•ï¼š"></a>åŠŸèƒ½æ¸…å•ï¼š</h2><ul><li>ä¾§è¾¹åŠ¨æ€èœå•</li><li>é¢åŒ…å±‘</li><li>Tabé¡µ</li><li>ä¸»é¡µå¸ƒå±€</li><li>é¡µé¢ç¼“å­˜</li><li>åˆ‡æ¢é¡µé¢åŠ¨ç”»</li></ul><p>åå°ç®¡ç†æ¡†æ¶çš„åŸºç¡€åŠŸèƒ½ï¼Œå¤§è‡´å¦‚ä¸Šï¼Œè¿˜å¯ä»¥æœ‰å¾ˆå¤šåŠŸèƒ½ï¼Œæ¯”å¦‚ä¸»é¢˜å¯è®¾ç½®ï¼Œå¸ƒå±€å¯è®¾ç½®ï¼Œä»¥åŠå±å¹•ä¿æŠ¤åŠŸèƒ½ç­‰ç­‰ï¼Œä½†è¿™äº›å±äºæ˜¯äº•ä¸Šæ·»èŠ±çš„åŠŸèƒ½ï¼Œä¸å±äºåå°ç®¡ç†æ¡†æ¶çš„æ ¸å¿ƒã€‚</p><p>è¿™äº›åŠŸèƒ½ä¸éš¾å®ç°ï¼Œåå°ç®¡ç†æ¡†æ¶å±‚å‡ºä¸ç©·ï¼Œåªè¦æ˜¯ä¸ªåå°ç®¡ç†æ¡†æ¶åŸºæœ¬éƒ½æœ‰ä¸ä¹‹å¯¹åº”çš„åŠŸèƒ½ï¼Œæ¯”å¦‚å¤§åé¼é¼çš„è‹¥ä¾ï¼Œä¸å¯å¦è®¤å®ƒçš„æµè¡Œåº¦ï¼Œæ¨å¹¿åº¦ï¼Œä½†ä½ è¦å¹æŠ€æœ¯ï¼ŒçœŸæ²¡å•¥å¥½å¹çš„ã€‚å› ä¸ºå†å†™ä¸€ä¸ªä¹Ÿä¸éš¾ï¼Œåªæ˜¯æ²¡æœ‰å¿…è¦å»å†™ï¼Œé‡å¤é€ è½®å­ï¼Œæœ‰åˆ©æœ‰å¼Šï¼Œå¥½å¤„æ˜¯åŠ æ·±è‡ªå·±å¯¹è½®å­çš„ç†è§£ï¼Œä»å¼€å‘æ€è·¯å»çœ‹ä»£ç ï¼Œå’Œç›´æ¥çœ‹ä»£ç çœ‹åˆ°çš„ä¸œè¥¿ä¸ä¸€æ ·ï¼Œç›´æ¥çœ‹ä»£ç ï¼Œç›´å‘¼666ï¼Œä½†ä¹Ÿåªèƒ½ç›´å‘¼666äº†ã€‚è‡ªå·±å†™è¿‡ç±»ä¼¼ï¼Œçœ‹äº†ä¼šæƒ³ï¼ŒåŸæ¥ç”¨äº†è¿™ç§æ–¹å¼å®ç°ï¼Œå¹¶åœ¨å¤§è„‘é‡Œæƒ³ä¸‹è¿™ç§å®ç°æ–¹å¼çš„ä¼˜åŠ£ä»¥åŠé™åˆ¶ã€‚</p><p>å¼€å§‹çš„å‡†å¤‡</p><ul><li>æœ€æ–°ç‰ˆæœ¬çš„Nodeï¼Œä»¥åŠnpm</li><li>å®‰è£…quasar cliï¼Œå®‰è£…å‘½ä»¤<code>npm install -g @quasar/cli</code></li></ul><p>æ‰§è¡Œå‘½ä»¤è¿‡åæ— æŠ¥é”™å³è¯´æ˜æˆåŠŸã€‚ä¸ä¼šå®‰è£…Nodeï¼Œnpmï¼Œä»¥åŠè®¾ç½®npmé•œåƒçš„ï¼Œè‡ªå·±å¦è¡Œé€šè¿‡æœç´¢å¼•æ“è§£å†³ã€‚</p><h2 id="å­¦ä¹ ä¹‹å‰"><a href="#å­¦ä¹ ä¹‹å‰" class="headerlink" title="å­¦ä¹ ä¹‹å‰"></a>å­¦ä¹ ä¹‹å‰</h2><p>1, ç”µè„‘ä¸Šæœ€å¥½å®‰è£…ä¸€ä¸ªGitï¼Œç”¨æ¥åŒæ­¥ä»£ç ï¼Œé‡ç‚¹äº†è§£Gitçš„cloneï¼Œcommitï¼Œpushï¼Œpullï¼Œbranchesï¼Œé‡ç‚¹å­¦ä¹ å¦‚ä½•æ‹‰å–ä»¥åŠåˆ‡æ¢åˆ†æ”¯çš„æ“ä½œï¼Œ</p><p>é—®ï¼šä¸ºä»€ä¹ˆè¦é‡ç‚¹äº†è§£GItå·¥å…·çš„æ“ä½œï¼Ÿ<br>ç­”ï¼šå› ä¸ºæ•™ç¨‹ä¸€ç¯‡æ•™ç¨‹å¯èƒ½å¯¹åº”ä¸€ä¸ªåˆ†æ”¯ï¼Œä¸åŒåˆ†æ”¯çš„ä»£ç è¿›åº¦ä¸ä¸€è‡´ï¼Œä¸€ä¸Šæ¥ç›´æ¥çœ‹æœ€ç»ˆä»£ç ï¼Œå¯èƒ½ä¼šæœ‰ç‚¹å¿ƒæ™ºè´Ÿæ‹…ã€‚</p><p>2, å®‰è£…VsCodeï¼Œç”¨æ¥ä½œä¸ºå¼€å‘é¡¹ç›®çš„IDEï¼Œæ ¸å¿ƒä¾èµ–<code>Vue.volar</code>å®‰è£…ä¸€ä¸‹å³å¯å¼€å‘ã€‚</p><p>3, ç†Ÿè¯»Vueå…¨å®¶æ¡¶æ–‡æ¡£ï¼Œç†Ÿè¯»Quasaræ–‡æ¡£ï¼Œæˆ‘è®¤ä¸ºåªè¦ç†Ÿè¯»æ–‡æ¡£ï¼Œå°±èƒ½æŒæ¡ä¸€ä¸ªæŠ€æœ¯ã€‚æ²¡æŒæ¡é‚£å°±æ˜¯ä¸ç†Ÿæ–‡æ¡£ã€‚è¦çŸ¥é“ï¼Œå¤§éƒ¨åˆ†ä¸‰æ–¹è§£é‡Šï¼Œéƒ½æ˜¯åŸºäºæ–‡æ¡£çš„ï¼Œä¸‰æ–¹è§£é‡Šæ˜“æ‡‚ï¼Œä½†ä¸å…¨ä¹Ÿä¸è¯¦ç»†ï¼Œè¿˜æœ‰å¯èƒ½å·²ç»å¤±æ•ˆï¼Œç´¢æ€§æˆ‘ä¸€èˆ¬ä¼šç›´æ¥å»çœ‹æ–‡æ¡£ï¼Œè¿‡äºæŠ½è±¡çš„æ–‡æ¡£ï¼Œæˆ‘ä¼šå•ç‹¬æœç´¢æŸ¥çœ‹ã€‚è®°ä½ï¼Œç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ï¼Œè¯»æ–‡æ¡£å°±æ˜¯ç£¨åˆ€ã€‚</p><p>4, å‡è®¾ä½ åœ¨å‰ç«¯åŸºç¡€Htmlï¼ŒCss,JavaScriptä¹‹ä¸Šä¼šTypeScriptï¼ŒVueï¼Œäº†è§£Nodeï¼ŒNpmï¼ŒWebPackæ¦‚å¿µï¼Œä¼šåŸºç¡€çš„Gitæ“ä½œï¼Œæ²¡æœ‰è¿™äº›åŸºç¡€çš„è¯ï¼Œè·Ÿç€å­¦ä¹ çš„è¯ä¼šæœ‰ä¸€ç‚¹åƒåŠ›ã€‚</p><p>ä¸‹ä¸€ç¯‡å°†æ­£å¼è¿›å…¥åå°ç®¡ç†æ¡†æ¶çš„å­¦ä¹ </p><h2 id="ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€"><a href="#ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€" class="headerlink" title="ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€"></a>ä¸‹ä¸€ç¯‡æ•™ç¨‹åœ°å€</h2><p><a href="https://wangijun.com/2023/06/06/vue-19/">ä»0åˆ°ä¸€ä¸ªå‰ç«¯åå°ç®¡ç†æ¡†æ¶(äºŒ)</a></p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5gy1hejy2l4gnyj36683h07wi.jpg" alt="ç«¹"></p>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ts</tag>
      
      <tag>quasar</tag>
      
      <tag>vue3</tag>
      
      <tag>setup</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Caddyä¸€ä¸ªç±»ä¼¼Nginxçš„ä¸œä¸œ</title>
    <link href="/2023/03/14/other-12/"/>
    <url>/2023/03/14/other-12/</url>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/qq_34621851/article/details/106325132">å‚è€ƒæ–‡ç« é“¾æ¥</a></p><p><a href="https://caddyserver.com/docs/">å®˜æ–¹æ–‡æ¡£</a></p><p>è¿™è¾¹ç®€å•æå–ä¸€ä¸‹å¸¸ç”¨éœ€è¦çš„ä¸œè¥¿ï¼Œ</p><p>å‰æï¼š<br> å®‰è£…äº†caddy<br> caddyåœ¨pathä¸­</p><h2 id="é™æ€æ–‡ä»¶æœåŠ¡å™¨"><a href="#é™æ€æ–‡ä»¶æœåŠ¡å™¨" class="headerlink" title="é™æ€æ–‡ä»¶æœåŠ¡å™¨"></a>é™æ€æ–‡ä»¶æœåŠ¡å™¨</h2><h3 id="å‘½ä»¤è¡Œ"><a href="#å‘½ä»¤è¡Œ" class="headerlink" title="å‘½ä»¤è¡Œ"></a>å‘½ä»¤è¡Œ</h3><p>cmdè¿›å…¥ç›®å½•æ‰§è¡Œ<code>caddy file-server</code> é»˜è®¤ç»‘å®š80ç«¯å£ã€‚é»˜è®¤ä»¥æ‰§è¡Œå‘½ä»¤çš„è·¯å¾„ä¸ºæœåŠ¡å™¨æ ¹ç›®å½•ï¼Œè®¿é—®<code>localhost</code>å³å¯ã€‚</p><p><code>caddy file-server --listen :8000</code> æŒ‡å®šç«¯å£</p><p><code>caddy file-server --browse</code> æ–‡ä»¶æµè§ˆæ¨¡å¼</p><p><code>caddy file-server --root ~/mysite</code> æŒ‡å®šæœåŠ¡å™¨æ ¹ç›®å½•</p><h3 id="Caddyfile"><a href="#Caddyfile" class="headerlink" title="Caddyfile"></a>Caddyfile</h3><p>æ ¹ç›®å½•ä¸º<code>/home/me/mysite</code>çš„WebæœåŠ¡å™¨</p><figure><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json">localhost<span class="token operator">:</span><span class="token number">8080</span>root * /home/me/mysitefile_server<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æ ¹ç›®å½•ä¸º<code>/home/me/mysite</code>WebæœåŠ¡å™¨ï¼Œå¹¶æŒ‡å®šä¸ºæ–‡ä»¶æµè§ˆæ¨¡å¼</p><figure><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json">localhost<span class="token operator">:</span><span class="token number">8080</span>root * /home/me/mysitefile_server browse<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æ‰§è¡Œ<code>caddy run</code>ï¼Œé»˜è®¤ä¼šä»æ‰§è¡Œå‘½ä»¤çš„ç›®å½•ä¸‹æ‰¾<code>Caddyfile</code>æ–‡ä»¶ã€‚</p><h2 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h2><figure><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json">localhost<span class="token operator">:</span><span class="token number">8080</span>root * /home/me/mysitefile_serverreverse_proxy /api<span class="token comment">/* 127.0.0.1:9005</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>é…ç½®å¤šä¸ªåœ°å€å³å¯è´Ÿè½½å‡è¡¡ï¼Œè¦å®ç°é«˜å¯ç”¨ï¼Œå¯ä»¥è‡ªè¡Œå»æ·±å…¥äº†è§£ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json">localhost<span class="token operator">:</span><span class="token number">8080</span>root * /home/me/mysitefile_servertry_files <span class="token punctuation">&#123;</span>path<span class="token punctuation">&#125;</span> /index.htmlreverse_proxy /api<span class="token comment">/* 127.0.0.1:9005 127.0.0.1:9006</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¿™ä¸ªé…ç½®ä¸€èˆ¬å°±å·²ç»å¯ä»¥ç”¨æ¥éƒ¨ç½²å‰åç«¯åˆ†ç¦»çš„SPAé¡¹ç›®ï¼Œå€’æ•°ç¬¬äºŒè¡Œæ˜¯é’ˆå¯¹é¡¹ç›®è·¯ç”±ä¸ä½¿ç”¨#çš„æƒ…å†µï¼Œå°±æ˜¯ä½¿ç”¨historyæ¨¡å¼è·¯ç”±æ‰éœ€è¦åŠ ä¸Šå€’æ•°ç¬¬äºŒè¡Œé…ç½®ï¼Œå¦åˆ™ä½¿ç”¨hashæ¨¡å¼ä¸éœ€è¦å€’æ•°ç¬¬äºŒè¡Œé…ç½®ã€‚</p><div class="note note-info">            <p>è¿™ä¸ªä¸œè¥¿å·²ç»å¾ˆç«äº†ï¼Œä¸»è¦åŸå› æ˜¯ä½¿ç”¨èµ·æ¥æ–¹ä¾¿ï¼Œçœ‹ç½‘ä¸Šçš„è¯´æ³•è¯´æ˜¯æ€§èƒ½æ¯”Nginxå·®ï¼Œä½†æ˜¯è‡ªå·±éƒ¨ç½²éƒ¨ç½²å°é¡¹ç›®æ˜¯å®Œå…¨æ²¡æœ‰é—®é¢˜çš„ï¼Œæœ€åå¾ˆç«ï¼Œè¯´æ˜è¿™ä¸œè¥¿çš„æ•™ç¨‹é™¤äº†å®˜æ–¹æ–‡æ¡£ï¼Œä½¿ç”¨æœç´¢å¼•æ“å¾ˆå®¹æ˜“å°±èƒ½æœåˆ°ã€‚ä½¿ç”¨èµ·æ¥åº”è¯¥ä¸ä¼šæœ‰éšœç¢ã€‚ã€‚</p>          </div><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hbzphjuj2nj33341w0u0y.jpg" alt="é•¿è¾«å­å¥³å­© è€³ç¯ ä¾§è„¸ å”¯ç¾ æ¢…èŠ± çº¢è‰²èƒŒå½±"></p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nginx</tag>
      
      <tag>caddy</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>export,export default çš„æ„ä¹‰ä»¥åŠåŒºåˆ«</title>
    <link href="/2023/03/14/other-11/"/>
    <url>/2023/03/14/other-11/</url>
    
    <content type="html"><![CDATA[<h3 id="exportå…·ä½“ä½¿ç”¨"><a href="#exportå…·ä½“ä½¿ç”¨" class="headerlink" title="exportå…·ä½“ä½¿ç”¨"></a>exportå…·ä½“ä½¿ç”¨</h3><h4 id="è®¾ç½®å˜é‡ï¼Œç„¶åä½¿ç”¨exportå¯¼å‡º"><a href="#è®¾ç½®å˜é‡ï¼Œç„¶åä½¿ç”¨exportå¯¼å‡º" class="headerlink" title="è®¾ç½®å˜é‡ï¼Œç„¶åä½¿ç”¨exportå¯¼å‡º"></a>è®¾ç½®å˜é‡ï¼Œç„¶åä½¿ç”¨exportå¯¼å‡º</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//--------------ç¬¬ä¸€ç§æ–¹å¼ï¼šå®šä¹‰å˜é‡ä¸å¯¼å‡ºåˆ†å¼€------------------------------</span><span class="token keyword">var</span> one <span class="token operator">=</span> <span class="token string">"exportå¯¼å‡º"</span><span class="token keyword">var</span> two<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"AAA"</span><span class="token punctuation">,</span><span class="token string">"BBB"</span><span class="token punctuation">,</span><span class="token string">"CCC"</span><span class="token punctuation">]</span><span class="token keyword">export</span> <span class="token punctuation">&#123;</span> one<span class="token punctuation">,</span> two <span class="token punctuation">&#125;</span><span class="token comment">//--------------å¯¼å‡ºä¸å®šä¹‰å˜é‡ç›´æ¥ä¸€èµ·å†™--------------------------------</span><span class="token keyword">export</span> <span class="token keyword">var</span> three<span class="token operator">=</span><span class="token string">"ç›´æ¥å¯¼å‡º"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h4 id="ä½¿ç”¨å˜é‡"><a href="#ä½¿ç”¨å˜é‡" class="headerlink" title="ä½¿ç”¨å˜é‡"></a>ä½¿ç”¨å˜é‡</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>one<span class="token punctuation">,</span>two<span class="token punctuation">,</span>three<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"../js/test.js"</span><span class="token comment">//æ‰“å°</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>one<span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span>two<span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span>three<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><h4 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><ul><li>å¯¼å‡ºæ—¶éœ€è¦å’Œå¯¼å…¥çš„å˜é‡åç§°ç›¸åŒ</li><li>å¦‚æœå¯¼å‡ºå’Œå®šä¹‰å˜é‡åˆ†å¼€ï¼Œå¯¼å‡ºæ—¶å˜é‡ååŠ <code>&#123;&#125;</code></li><li>å¯¼å…¥çš„æ—¶å€™å˜é‡åå¿…é¡»åŠ <code>&#123;&#125;</code></li><li>å¯ä»¥æœ‰å¤šä¸ª<code>export</code>è¯­å¥</li></ul><h3 id="export-defaultå…·ä½“ä½¿ç”¨"><a href="#export-defaultå…·ä½“ä½¿ç”¨" class="headerlink" title="export defaultå…·ä½“ä½¿ç”¨"></a>export defaultå…·ä½“ä½¿ç”¨</h3><p>å…¶å®<code>export default</code>å’Œexportçš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ä¸€ä¸ªæ–‡ä»¶é‡Œé¢åªèƒ½æœ‰ä¸€ä¸ª<code>export default</code>è¯­å¥ã€‚<br><code>export default</code>æ˜¯æŠŠæ‰€æœ‰<code>&#123;&#125;</code>ä¸­æ‰€æœ‰çš„å†…å®¹éƒ½èµ‹å€¼ç»™<code>default</code>ï¼Œç„¶åå½“æˆ‘ä»¬å¯¼å…¥çš„æ—¶å€™ä¹Ÿå¯ä»¥æ”¹å˜åç§°ï¼Œä½†æ˜¯å…¶å®æ˜¯æŠŠæ‰€æœ‰çš„<code>default</code>å¯¼å…¥äº†ã€‚</p><h4 id="å…ˆè®¾ç½®éœ€è¦å¯¼å‡ºçš„æ•°æ®ï¼š"><a href="#å…ˆè®¾ç½®éœ€è¦å¯¼å‡ºçš„æ•°æ®ï¼š" class="headerlink" title="å…ˆè®¾ç½®éœ€è¦å¯¼å‡ºçš„æ•°æ®ï¼š"></a>å…ˆè®¾ç½®éœ€è¦å¯¼å‡ºçš„æ•°æ®ï¼š</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> onePart<span class="token operator">=</span><span class="token string">"å¯¼å‡º1"</span><span class="token keyword">var</span> twoPart<span class="token operator">=</span><span class="token string">"å¯¼å‡º2"</span><span class="token keyword">var</span> threePart<span class="token operator">=</span><span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"ç¬¬ä¸€ä¸ª"</span><span class="token punctuation">,</span>    <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">"æ•°ç»„1"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"ç¬¬äºŒä¸ª"</span><span class="token punctuation">,</span>    <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">"æ•°ç»„2"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">&#123;</span>  onePart<span class="token punctuation">,</span>twoPart<span class="token punctuation">,</span>threePart<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h4 id="å¯¼å…¥æ•°æ®"><a href="#å¯¼å…¥æ•°æ®" class="headerlink" title="å¯¼å…¥æ•°æ®"></a>å¯¼å…¥æ•°æ®</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//å¯¼å…¥æ•°æ®</span><span class="token keyword">import</span> all <span class="token keyword">from</span> <span class="token string">"../js/test.js"</span><span class="token comment">//æ‰“å°æ•°æ®</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>all<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h4 id="ç‰¹ç‚¹-1"><a href="#ç‰¹ç‚¹-1" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><ul><li>å¼•å…¥æ—¶ï¼Œå¯ä»¥å˜æˆä¸åŒçš„åç§°</li><li>ç›´æ¥æŠŠæ‰€æœ‰å†…å®¹éƒ½å¯¼å‡º</li><li>å¼•å…¥æ—¶ï¼Œè®¾ç½®çš„å˜é‡åä¸ç”¨åŠ <code>&#123;&#125;</code></li><li>ä¸€ä¸ªæ–‡ä»¶ä¸­åªèƒ½æœ‰ä¸€ä¸ª<code>export default</code>è¯­å¥</li></ul><h4 id="ä¸€ä¸ªæ–‡ä»¶ä¸­æ—¢æœ‰exportï¼Œåˆæœ‰export-default"><a href="#ä¸€ä¸ªæ–‡ä»¶ä¸­æ—¢æœ‰exportï¼Œåˆæœ‰export-default" class="headerlink" title="ä¸€ä¸ªæ–‡ä»¶ä¸­æ—¢æœ‰exportï¼Œåˆæœ‰export default"></a>ä¸€ä¸ªæ–‡ä»¶ä¸­æ—¢æœ‰<code>export</code>ï¼Œåˆæœ‰<code>export default</code></h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å¯¼å‡º</span><span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">&#123;</span>  <span class="token literal-property property">aa</span><span class="token operator">:</span> <span class="token string">"2333"</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">const</span> aa <span class="token operator">=</span> <span class="token string">"11111"</span><span class="token comment">// å¯¼å…¥</span><span class="token keyword">import</span> all<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>aa<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'../js/test.js'</span><span class="token comment">// æ‰“å°æ•°æ®</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>all<span class="token punctuation">,</span>aa<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="corepackåŒ…ç®¡ç†å™¨çš„ç®¡ç†å™¨ã€‚"><a href="#corepackåŒ…ç®¡ç†å™¨çš„ç®¡ç†å™¨ã€‚" class="headerlink" title="corepackåŒ…ç®¡ç†å™¨çš„ç®¡ç†å™¨ã€‚"></a>corepackåŒ…ç®¡ç†å™¨çš„ç®¡ç†å™¨ã€‚</h3><p><a href="https://github.com/nodejs/corepack">githubåœ°å€</a> é‡Œé¢æœ‰ä»‹ç»å¦‚ä½•ä½¿ç”¨</p><p>ç®€å•å°±æ˜¯yarn,pnpmè¿™ç±»åŒ…ç®¡ç†å™¨çš„ä¸€ä¸ªç®¡ç†å™¨ï¼Œåœ¨node.js v14.19.0+ç‰ˆæœ¬è‡ªå¸¦ï¼Œé»˜è®¤æ˜¯ç¦ç”¨çš„ï¼Œéœ€è¦ä½¿ç”¨å‘½ä»¤å¼€å¯<code>corepack enable</code> ç›®å‰é»˜è®¤åªç®¡ç†yarnï¼Œå’Œpnpmï¼Œå› ä¸ºnpmç°åœ¨ä¾æ—§æ˜¯node.jsçš„å®˜æ–¹é»˜è®¤åŒ…ç®¡ç†å™¨ã€‚</p><p>æ‰§è¡Œå¯ç”¨å‘½ä»¤ï¼Œå°±å¯ä»¥æŠŠè‡ªå·±å®‰è£…åœ¨å…¨å±€çš„Pnpmå’ŒYarnç»™ç§»é™¤äº†ï¼Œç§»é™¤å‘½ä»¤<code>npm uninstall -g yarn pnpm</code>ï¼Œå¦‚æœæ²¡å®‰è£…åˆ™æ— éœ€ç§»é™¤ã€‚</p><p>ä¸ºä»€ä¹ˆå¯ä»¥ç§»é™¤ï¼Œå› ä¸ºç°åœ¨å…¨å±€ç¯å¢ƒä¸­å·²ç»æœ‰Pnpmå’ŒYarnå‘½ä»¤äº†ï¼Œ</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŸ¥çœ‹npmå…¨å±€ä¾èµ–</span><span class="token function">npm</span> list <span class="token parameter variable">-g</span><span class="token comment"># è¾“å‡º</span><span class="token comment"># D:\wansoftware\devtool\node\node-global</span><span class="token comment"># +-- hexo-cli@4.3.0</span><span class="token comment"># `-- npm@9.6.1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å¯ä»¥çœ‹åˆ°å¹¶æ²¡æœ‰yarnå’Œpnpmçš„ä¾èµ–</p><p>ä½†æ˜¯æ‰§è¡Œ<code>yarn -v</code>æˆ–è€…<code>pnpm -v</code> ä¾æ—§ä¼šæœ‰è¾“å‡ºï¼Œè¿™å°±æ˜¯corepackçš„åŠŸåŠ³</p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hbzmka47iij32yo1o0hdt.jpg" alt="é“ä¸½ç¾å¥³ é å©§ç¥ é»‘è‰²è£™å­"></p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>export</tag>
      
      <tag>import</tag>
      
      <tag>corepack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Reactå®ç°TodoList</title>
    <link href="/2023/03/08/react-02/"/>
    <url>/2023/03/08/react-02/</url>
    
    <content type="html"><![CDATA[<p>Reactå®ç°ä¸€ä¸ªTodoListæ¡ˆä¾‹ï¼Œå¤§éƒ¨åˆ†æ•™å­¦è§†é¢‘é‡Œé¢å¥½åƒéƒ½ä¼šæ•™ï¼Œç¬”è€…ä¼šç‚¹JavaScriptï¼Œç•¥å¾®å­¦äº†ç‚¹Vueï¼Œå†™èµ·Reactæ¥åˆ°ä¹Ÿè½»æ¾ï¼Œçœ‹ç‚¹Reactå¯¹Vueçš„ç»„ä»¶åŒ–åˆ°ä¹Ÿæ˜¯ä¸€ç§æ–°çš„ç†è§£æ–¹å¼ã€‚</p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hbyjs6jnr7j30o70fidio.jpg" alt="å…·ä½“é¢„è§ˆ"></p><p>è¯ä¸å¤šè¯´ï¼Œç¯å¢ƒæ­å»ºã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npx create-react-app todolist<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>æ­¤æ­¥æ“ä½œä¼šæ–°å»ºä¸€ä¸ª<code>todolist</code>æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨Vscodeæ‰“å¼€æ­¤æ–‡ä»¶å¤¹ï¼Œå®‰è£…æ‰€éœ€ä¾èµ–</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># é€šç”¨çš„æ ·å¼åº“</span><span class="token function">npm</span> <span class="token function">install</span> bootstrap<span class="token comment"># æ•´åˆåº“</span><span class="token function">npm</span> <span class="token function">install</span> reactstrap<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>é¦–å…ˆåˆ é™¤srcä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œç„¶åæ ¹æ®æ­¤æ–‡å†…å®¹åœ¨srcä¸‹ä¸€ä¸ªä¸€ä¸ªæ–°å»ºæ–‡ä»¶å³å¯ã€‚</p><h3 id="æ–°å»ºindex-js"><a href="#æ–°å»ºindex-js" class="headerlink" title="æ–°å»ºindex.js"></a>æ–°å»º<code>index.js</code></h3><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom/client"</span><span class="token punctuation">;</span><span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">"./App"</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string">"bootstrap/dist/css/bootstrap.min.css"</span><span class="token punctuation">;</span><span class="token keyword">const</span> root <span class="token operator">=</span> ReactDOM<span class="token punctuation">.</span><span class="token function">createRoot</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>  <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">></span>    <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ–°å»ºApp-js"><a href="#æ–°å»ºApp-js" class="headerlink" title="æ–°å»ºApp.js"></a>æ–°å»º<code>App.js</code></h3><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token string">"./App.css"</span><span class="token punctuation">;</span><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">import</span> InputTodo <span class="token keyword">from</span> <span class="token string">"./InputTodo"</span><span class="token punctuation">;</span><span class="token keyword">import</span> TodoList <span class="token keyword">from</span> <span class="token string">"./TodoList"</span><span class="token punctuation">;</span><span class="token keyword">import</span> EndFoot <span class="token keyword">from</span> <span class="token string">"./EndFoot"</span><span class="token punctuation">;</span><span class="token keyword">const</span> lsKey <span class="token operator">=</span> <span class="token string">"todoList"</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token function-variable function">setlocalState</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>lsKey<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token function-variable function">getlocalState</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> str <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>lsKey<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// ä»»åŠ¡åˆ—è¡¨</span>      <span class="token literal-property property">todoList</span><span class="token operator">:</span> <span class="token function">getlocalState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// æ·»åŠ ä»»åŠ¡</span>  <span class="token function-variable function">addTodoList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> todoList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    todoList<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">todoList</span><span class="token operator">:</span> todoList <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setlocalState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token comment">// åˆ é™¤ä»»åŠ¡</span>  <span class="token function-variable function">removeTodoList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">"ç¡®è®¤åˆ é™¤ä»»åŠ¡ï¼Ÿ"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> todoList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      todoList<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">todoList</span><span class="token operator">:</span> todoList <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">setlocalState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token comment">// å…¨é€‰</span>  <span class="token function-variable function">checkAll</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> todoList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    todoList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      item<span class="token punctuation">.</span>check <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">todoList</span><span class="token operator">:</span> todoList <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setlocalState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token comment">// å…¨é€‰</span>  <span class="token function-variable function">checkNoAll</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> todoList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    todoList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      item<span class="token punctuation">.</span>check <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">todoList</span><span class="token operator">:</span> todoList <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setlocalState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token comment">// ç§»å…¥ç§»å‡ºäº‹ä»¶</span>  <span class="token function-variable function">mouseOverOut</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> todoList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> item <span class="token operator">=</span> todoList<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>    item<span class="token punctuation">.</span>showDel <span class="token operator">=</span> type<span class="token punctuation">;</span>    todoList<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">todoList</span><span class="token operator">:</span> todoList <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setlocalState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token comment">// ç‚¹å‡»é€‰ä¸­äº‹ä»¶</span>  <span class="token function-variable function">clickItem</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> todoList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> item <span class="token operator">=</span> todoList<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>    item<span class="token punctuation">.</span>check <span class="token operator">=</span> <span class="token operator">!</span>item<span class="token punctuation">.</span>check<span class="token punctuation">;</span>    todoList<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">todoList</span><span class="token operator">:</span> todoList <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setlocalState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token comment">// æ¸…é™¤å·²å‹¾é€‰çš„ä»»åŠ¡</span>  <span class="token function-variable function">clearCheckItem</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> todoList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">todoList</span><span class="token operator">:</span> todoList<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">!</span>i<span class="token punctuation">.</span>check<span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setlocalState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"App"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"content"</span><span class="token operator">></span>          <span class="token operator">&lt;</span>InputTodo addTodoList<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>addTodoList<span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>          <span class="token operator">&lt;</span>TodoList            todoList<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">&#125;</span>            mouseOverOut<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>mouseOverOut<span class="token punctuation">&#125;</span>            clickItem<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickItem<span class="token punctuation">&#125;</span>            removeTodoList<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>removeTodoList<span class="token punctuation">&#125;</span>          <span class="token operator">/</span><span class="token operator">></span>          <span class="token operator">&lt;</span>EndFoot            todoList<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todoList<span class="token punctuation">&#125;</span>            clearCheckItem<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>clearCheckItem<span class="token punctuation">&#125;</span>            checkAll<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>checkAll<span class="token punctuation">&#125;</span>            checkNoAll<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>checkNoAll<span class="token punctuation">&#125;</span>          <span class="token operator">/</span><span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ–°å»ºApp-css"><a href="#æ–°å»ºApp-css" class="headerlink" title="æ–°å»ºApp.css"></a>æ–°å»º<code>App.css</code></h3><figure><div class="code-wrapper"><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.App</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.App .content</span> <span class="token punctuation">&#123;</span>  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>  <span class="token property">padding</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.App .list</span> <span class="token punctuation">&#123;</span>  <span class="token property">padding-top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.App .list .item</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.App .end</span> <span class="token punctuation">&#123;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 47px<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">border</span><span class="token punctuation">:</span> solid #b6c3d0 1px<span class="token punctuation">;</span>  <span class="token property">border-radius</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ–°å»ºInputTodo-js"><a href="#æ–°å»ºInputTodo-js" class="headerlink" title="æ–°å»ºInputTodo.js"></a>æ–°å»º<code>InputTodo.js</code></h3><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Input <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"reactstrap"</span><span class="token punctuation">;</span><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">InputTodo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>      <span class="token literal-property property">inputText</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token operator">&lt;</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span>Input          value<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>inputText<span class="token punctuation">&#125;</span>          onChange<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">inputText</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>          placeholder<span class="token operator">=</span><span class="token string">"è¯·è¾“å…¥ä»»åŠ¡åç§°, æŒ‰å›è½¦é”®ç¡®è®¤"</span>          onKeyDown<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>key <span class="token operator">===</span> <span class="token string">"Enter"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>              <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>inputText<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"ä¸å¯æ·»åŠ ç©ºä»»åŠ¡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span><span class="token punctuation">;</span>              <span class="token punctuation">&#125;</span>              <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">addTodoList</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">showDel</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>                <span class="token literal-property property">check</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>                <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>inputText<span class="token punctuation">,</span>              <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">inputText</span><span class="token operator">:</span> <span class="token string">""</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>          <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>        <span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> InputTodo<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ–°å»ºTodoList-js"><a href="#æ–°å»ºTodoList-js" class="headerlink" title="æ–°å»ºTodoList.js"></a>æ–°å»º<code>TodoList.js</code></h3><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Input<span class="token punctuation">,</span> ListGroupItem<span class="token punctuation">,</span> ListGroup<span class="token punctuation">,</span> Button <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"reactstrap"</span><span class="token punctuation">;</span><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">TodoList</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>  <span class="token function">renderList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token operator">&lt;</span>ListGroupItem          key<span class="token operator">=</span><span class="token punctuation">&#123;</span>index<span class="token punctuation">&#125;</span>          action          href<span class="token operator">=</span><span class="token string">"#"</span>          tag<span class="token operator">=</span><span class="token string">"a"</span>          onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">clickItem</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>          onMouseOver<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">mouseOverOut</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>          onMouseOut<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">mouseOverOut</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>        <span class="token operator">></span>          <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"item"</span><span class="token operator">></span>            <span class="token operator">&lt;</span>div<span class="token operator">></span>              <span class="token operator">&lt;</span>Input                type<span class="token operator">=</span><span class="token string">"checkbox"</span>                id<span class="token operator">=</span><span class="token string">"checkItem"</span>                checked<span class="token operator">=</span><span class="token punctuation">&#123;</span>i<span class="token punctuation">.</span>check<span class="token punctuation">&#125;</span>                onChange<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>              <span class="token operator">/</span><span class="token operator">></span>              <span class="token operator">&lt;</span>span style<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">paddingLeft</span><span class="token operator">:</span> <span class="token string">"10px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token punctuation">&#123;</span>i<span class="token punctuation">.</span>label<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>            <span class="token operator">&lt;</span>div<span class="token operator">></span>              <span class="token punctuation">&#123;</span>i<span class="token punctuation">.</span>showDel <span class="token operator">?</span> <span class="token punctuation">(</span>                <span class="token operator">&lt;</span>Button                  color<span class="token operator">=</span><span class="token string">"danger"</span>                  size<span class="token operator">=</span><span class="token string">"sm"</span>                  onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>                    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">removeTodoList</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>                <span class="token operator">></span>                  åˆ é™¤                <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>              <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>                <span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>              <span class="token punctuation">)</span><span class="token punctuation">&#125;</span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>ListGroupItem<span class="token operator">></span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"list"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>ListGroup<span class="token operator">></span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ListGroup<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> TodoList<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ–°å»ºEndFoot-js"><a href="#æ–°å»ºEndFoot-js" class="headerlink" title="æ–°å»ºEndFoot.js"></a>æ–°å»º<code>EndFoot.js</code></h3><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Input<span class="token punctuation">,</span> Button <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"reactstrap"</span><span class="token punctuation">;</span><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">EndFoot</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"end"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">paddingLeft</span><span class="token operator">:</span> <span class="token string">"17px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token operator">></span>          <span class="token operator">&lt;</span>Input            type<span class="token operator">=</span><span class="token string">"checkbox"</span>            checked<span class="token operator">=</span><span class="token punctuation">&#123;</span>              <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token operator">=></span> i<span class="token punctuation">.</span>check<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span>              <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span>length            <span class="token punctuation">&#125;</span>            onChange<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>              <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">checkAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">checkNoAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>          <span class="token operator">/</span><span class="token operator">></span>          <span class="token operator">&lt;</span>span style<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">paddingLeft</span><span class="token operator">:</span> <span class="token string">"10px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token operator">></span>            å·²å®Œæˆ<span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token operator">=></span> i<span class="token punctuation">.</span>check<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">&#125;</span><span class="token operator">/</span>å…¨éƒ¨            <span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span>length<span class="token punctuation">&#125;</span>          <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span>div<span class="token operator">></span>          <span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>todoList<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token operator">=></span> i<span class="token punctuation">.</span>check<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>Button              color<span class="token operator">=</span><span class="token string">"danger"</span>              size<span class="token operator">=</span><span class="token string">"sm"</span>              onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>clearCheckItem<span class="token punctuation">&#125;</span>            <span class="token operator">></span>              æ¸…é™¤å·²å®Œæˆä»»åŠ¡            <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>          <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>          <span class="token punctuation">)</span><span class="token punctuation">&#125;</span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> EndFoot<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æœ€åè¿è¡Œé¡¹ç›®"><a href="#æœ€åè¿è¡Œé¡¹ç›®" class="headerlink" title="æœ€åè¿è¡Œé¡¹ç›®"></a>æœ€åè¿è¡Œé¡¹ç›®</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> start<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>å³å¯æŸ¥çœ‹æ•ˆæœï¼Œä»£ç ä¸å¤šï¼Œå±•ç¤ºäº†æœ€ç»å…¸çš„Reactå†™æ³•ï¼Œå¾ˆé€‚åˆç”¨æ¥äº†è§£å­¦ä¹ Reactã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hbyk213hoij335s1tvkjl.jpg" alt="åŸç¥ å…«é‡ç¥å­ 4k ç”µè„‘ å£çº¸_å½¼å²¸å›¾ç½‘"></p>]]></content>
    
    
    <categories>
      
      <category>React</category>
      
    </categories>
    
    
    <tags>
      
      <tag>react</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Reactäº•å­—æ£‹å°æ¸¸æˆ</title>
    <link href="/2023/03/03/react-01/"/>
    <url>/2023/03/03/react-01/</url>
    
    <content type="html"><![CDATA[<p>Reactäº•å­—æ£‹å°æ¸¸æˆã€‚</p><p>å®˜æ–¹æ•™ç¨‹<a href="https://react.docschina.org/tutorial/tutorial.html#setup-option-2-local-development-environment">åœ°å€</a></p><p>å‡è®¾ä½ å·²ç»å®Œå…¨è·Ÿç€å®˜æ–¹æ•™ç¨‹å…¨éƒ¨èµ°å®Œã€‚</p><p>ä¸‹é¢æ˜¯å®˜æ–¹å»ºè®®ï¼Œä¼˜åŒ–ï¼Œå·²ç»ä¼˜åŒ–ã€‚</p><ul><li>æ¸¸æˆå†å²è®°å½•åˆ—è¡¨æ˜¾ç¤ºæ¯ä¸€æ­¥æ£‹çš„åæ ‡ï¼Œæ ¼å¼ä¸º (åˆ—å·, è¡Œå·)ã€‚ï¼ˆ<strong>å®Œæˆ</strong>ï¼‰</li><li>åœ¨å†å²è®°å½•åˆ—è¡¨ä¸­åŠ ç²—æ˜¾ç¤ºå½“å‰é€‰æ‹©çš„é¡¹ç›®ã€‚ï¼ˆ<strong>å®Œæˆ</strong>ï¼‰</li><li>ä½¿ç”¨ä¸¤ä¸ªå¾ªç¯æ¥æ¸²æŸ“å‡ºæ£‹ç›˜çš„æ ¼å­ï¼Œè€Œä¸æ˜¯åœ¨ä»£ç é‡Œå†™æ­»ï¼ˆhardcodeï¼‰ã€‚ï¼ˆ<strong>å®Œæˆ</strong>ï¼‰</li><li>æ·»åŠ ä¸€ä¸ªå¯ä»¥å‡åºæˆ–é™åºæ˜¾ç¤ºå†å²è®°å½•çš„æŒ‰é’®ã€‚ï¼ˆ<strong>å®Œæˆ</strong>ï¼‰</li><li>æ¯å½“æœ‰äººè·èƒœæ—¶ï¼Œé«˜äº®æ˜¾ç¤ºè¿æˆä¸€çº¿çš„ 3 é¢—æ£‹å­ã€‚ï¼ˆ<strong>å®Œæˆ</strong>ï¼‰</li><li>å½“æ— äººè·èƒœæ—¶ï¼Œæ˜¾ç¤ºä¸€ä¸ªå¹³å±€çš„æ¶ˆæ¯ã€‚ï¼ˆ<strong>å®Œæˆ</strong>ï¼‰</li></ul><p>å…¨éƒ¨ä»£ç </p><figure><div class="code-wrapper"><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">&#123;</span>  <span class="token property">font</span><span class="token punctuation">:</span> 14px <span class="token string">"Century Gothic"</span><span class="token punctuation">,</span> Futura<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">ol,ul</span> <span class="token punctuation">&#123;</span>  <span class="token property">padding-left</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.board-row:after</span> <span class="token punctuation">&#123;</span>  <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span>  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> table<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.status</span> <span class="token punctuation">&#123;</span>  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.square</span> <span class="token punctuation">&#123;</span>  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #999<span class="token punctuation">;</span>  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>  <span class="token property">line-height</span><span class="token punctuation">:</span> 34px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 34px<span class="token punctuation">;</span>  <span class="token property">margin-right</span><span class="token punctuation">:</span> -1px<span class="token punctuation">;</span>  <span class="token property">margin-top</span><span class="token punctuation">:</span> -1px<span class="token punctuation">;</span>  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 34px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.lightsq</span> <span class="token punctuation">&#123;</span>  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.jumpto</span> <span class="token punctuation">&#123;</span>  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.square:focus</span> <span class="token punctuation">&#123;</span>  <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.kbd-navigation .square:focus</span> <span class="token punctuation">&#123;</span>  <span class="token property">background</span><span class="token punctuation">:</span> #ddd<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.game</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.game-info</span> <span class="token punctuation">&#123;</span>  <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom/client"</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string">"./index.css"</span><span class="token punctuation">;</span><span class="token comment">// æ£‹å­ç»„ä»¶</span><span class="token keyword">function</span> <span class="token function">Square</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token punctuation">(</span>    <span class="token operator">&lt;</span>button      className<span class="token operator">=</span><span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>lt <span class="token operator">?</span> <span class="token string">"square lightsq"</span> <span class="token operator">:</span> <span class="token string">"square"</span><span class="token punctuation">&#125;</span>      onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>onClick<span class="token punctuation">&#125;</span>    <span class="token operator">></span>      <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>value<span class="token punctuation">&#125;</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>  <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// æ£‹ç›˜ç»„ä»¶</span><span class="token keyword">class</span> <span class="token class-name">Board</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ç”»æ£‹ç›˜æ–¹æ³•</span>  <span class="token function">renderSquare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> square <span class="token operator">=</span> <span class="token punctuation">[</span>      <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// äºŒç»´æ•°ç»„ï¼Œéå†æ£‹ç›˜</span>    <span class="token keyword">return</span> square<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sq<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"board-row"</span> key<span class="token operator">=</span><span class="token punctuation">&#123;</span>index<span class="token punctuation">&#125;</span><span class="token operator">></span>          <span class="token punctuation">&#123;</span>sq<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>ltArr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>              flag <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>ltArr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span>              <span class="token operator">&lt;</span>Square                lt<span class="token operator">=</span><span class="token punctuation">&#123;</span>flag <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token string">""</span> <span class="token operator">:</span> <span class="token string">"233"</span><span class="token punctuation">&#125;</span>                key<span class="token operator">=</span><span class="token punctuation">&#123;</span>i<span class="token punctuation">&#125;</span>                value<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>squares<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">&#125;</span>                onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>              <span class="token operator">/</span><span class="token operator">></span>            <span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderSquare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Game</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// å…¨å±€çš„å˜é‡</span>  ltArr<span class="token punctuation">;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// å†å²æ£‹ç›˜</span>      <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token punctuation">&#123;</span>          <span class="token comment">// ç¬¬å‡ æ­¥</span>          <span class="token literal-property property">step</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>           <span class="token comment">// æ£‹ç›˜çŠ¶æ€</span>          <span class="token literal-property property">squares</span><span class="token operator">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token comment">// æ­¤æ­¥çš„è½å­åæ ‡</span>          <span class="token literal-property property">axis</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>         <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token comment">// å¤‡ä»½ä¸€ä¸ªï¼Œæ­£åºå€’åºæ˜¾ç¤ºæ­¥æ•°è®°å½•ä½¿ç”¨</span>      <span class="token literal-property property">historyMove</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token punctuation">&#123;</span>          <span class="token comment">// åŒä¸Š</span>          <span class="token literal-property property">step</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>          <span class="token literal-property property">squares</span><span class="token operator">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token literal-property property">axis</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token comment">// å½“å‰èµ°äº†ç¬¬å‡ æ­¥</span>      <span class="token literal-property property">stepNumber</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>      <span class="token comment">// ç©å®¶æ ‡è¯†</span>      <span class="token literal-property property">xIsNext</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token comment">// æ­£åºå€’åºæ ‡è¯†</span>      <span class="token literal-property property">order</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token comment">// é«˜äº®èµ¢äº†çš„æ£‹å­ç´¢å¼•</span>      <span class="token literal-property property">ltArr</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// ç‚¹å‡»ä¸‹æ£‹æ–¹æ³•</span>  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// è·å–å…¨éƒ¨å†å²è®°å½•</span>    <span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stepNumber <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è·å–æœ€æ–°çš„å†å²è®°å½•</span>    <span class="token keyword">const</span> current <span class="token operator">=</span> history<span class="token punctuation">[</span>history<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// è·å–æœ€æ–°å†å²è®°å½•ä¸­çš„æ£‹ç›˜æ•°æ®</span>    <span class="token keyword">const</span> squares <span class="token operator">=</span> current<span class="token punctuation">.</span>squares<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åˆ¤æ–­æ˜¯å¦èƒœåˆ©</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">calculateWinner</span><span class="token punctuation">(</span>squares<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// åˆ¤æ–­åæ ‡ä¸Šæ˜¯å¦å·²æœ‰æ£‹å­</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>squares<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ä¸‹æ£‹äººï¼Œ</span>    squares<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>xIsNext <span class="token operator">?</span> <span class="token string">"X"</span> <span class="token operator">:</span> <span class="token string">"O"</span><span class="token punctuation">;</span>    <span class="token comment">// æ›´æ–°çŠ¶æ€</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>      <span class="token literal-property property">history</span><span class="token operator">:</span> history<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span>        <span class="token punctuation">&#123;</span>          <span class="token literal-property property">step</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stepNumber <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>          <span class="token literal-property property">squares</span><span class="token operator">:</span> squares<span class="token punctuation">,</span>          <span class="token literal-property property">axis</span><span class="token operator">:</span> <span class="token function">getAxis</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">historyMove</span><span class="token operator">:</span> history<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span>        <span class="token punctuation">&#123;</span>          <span class="token literal-property property">step</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stepNumber <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>          <span class="token literal-property property">squares</span><span class="token operator">:</span> squares<span class="token punctuation">,</span>          <span class="token literal-property property">axis</span><span class="token operator">:</span> <span class="token function">getAxis</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token comment">// æ­¥æ•°åŠ ä¸€</span>      <span class="token literal-property property">stepNumber</span><span class="token operator">:</span> history<span class="token punctuation">.</span>length<span class="token punctuation">,</span>      <span class="token comment">// åˆ‡æ¢ä¸‹æ£‹äºº</span>      <span class="token literal-property property">xIsNext</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>xIsNext<span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// è·³è½¬åˆ°ç¬¬å‡ æ­¥</span>  <span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token parameter">move</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>      <span class="token literal-property property">stepNumber</span><span class="token operator">:</span> move<span class="token punctuation">,</span>      <span class="token literal-property property">xIsNext</span><span class="token operator">:</span> move <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// åè½¬å†å²è®°å½•å‡½æ•°</span>  <span class="token function">reverseHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>historyMove<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>      <span class="token literal-property property">historyMove</span><span class="token operator">:</span> history<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">order</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>order<span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token comment">// åˆ¤æ–­è¾“èµ¢</span>  <span class="token function">calculateWinner</span><span class="token punctuation">(</span><span class="token parameter">squares</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// èƒœåˆ©çš„åæ ‡</span>    <span class="token keyword">const</span> lines <span class="token operator">=</span> <span class="token punctuation">[</span>      <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lines<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> lines<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>        squares<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>        squares<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">===</span> squares<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>        squares<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">===</span> squares<span class="token punctuation">[</span>c<span class="token punctuation">]</span>      <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// è¿™é‡Œèµ¢äº†ä¹‹åä¼šç»™ltArrè¿™ä¸ªèµ‹å€¼</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>ltArr <span class="token operator">=</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">// è¿”å›èµ¢æ–¹æ ‡è¯†ï¼ŒX or O</span>        <span class="token keyword">return</span> squares<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ä¸èµ¢çš„è¯ï¼Œèµ‹å€¼ä¸ºnull</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>ltArr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// æ¸²æŸ“domçš„æ–¹æ³•</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// è·å–å†å²è®°å½•çš„å¤‡ä»½ç‰ˆï¼Œç”¨å¤‡ä»½ç‰ˆä¸»è¦å®ç°å€’åºæ—¶ä¸å½±å“åŸæ¥çš„æ£‹ç›˜</span>    <span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>historyMove<span class="token punctuation">;</span>    <span class="token comment">// å½“å‰çš„çŠ¶æ€</span>    <span class="token keyword">const</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>history<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stepNumber<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// æ˜¯å¦èƒœåˆ©</span>    <span class="token keyword">const</span> winner <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">calculateWinner</span><span class="token punctuation">(</span>current<span class="token punctuation">.</span>squares<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// éå†å†å²è®°å½•çš„æ–¹æ³•</span>    <span class="token keyword">const</span> moves <span class="token operator">=</span> history<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">square<span class="token punctuation">,</span> move</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> desc <span class="token operator">=</span> square<span class="token punctuation">.</span>step        <span class="token operator">?</span> <span class="token string">"å›åˆ°ç¬¬"</span> <span class="token operator">+</span> square<span class="token punctuation">.</span>step <span class="token operator">+</span> <span class="token string">"æ­¥, è½å­åæ ‡ï¼š"</span> <span class="token operator">+</span> square<span class="token punctuation">.</span>axis        <span class="token operator">:</span> <span class="token string">"å›åˆ°èµ·ç‚¹"</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">&#123;</span>move<span class="token punctuation">&#125;</span><span class="token operator">></span>          <span class="token operator">&lt;</span>button            className<span class="token operator">=</span><span class="token punctuation">&#123;</span>square<span class="token punctuation">.</span>step <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stepNumber <span class="token operator">?</span> <span class="token string">"jumpto"</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">&#125;</span>            onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">jumpTo</span><span class="token punctuation">(</span>square<span class="token punctuation">.</span>step<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>          <span class="token operator">></span>            <span class="token punctuation">&#123;</span>desc<span class="token punctuation">&#125;</span>          <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> status<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>winner<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      status <span class="token operator">=</span> winner <span class="token operator">+</span> <span class="token string">"èµ¢äº†"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      status <span class="token operator">=</span> <span class="token string">"ç©å®¶æ ‡è®°: "</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>xIsNext <span class="token operator">?</span> <span class="token string">"X"</span> <span class="token operator">:</span> <span class="token string">"O"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"game"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"game-board"</span><span class="token operator">></span>          <span class="token operator">&lt;</span>Board            ltArr<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>ltArr<span class="token punctuation">&#125;</span>            squares<span class="token operator">=</span><span class="token punctuation">&#123;</span>current<span class="token punctuation">.</span>squares<span class="token punctuation">&#125;</span>            onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>          <span class="token operator">/</span><span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"game-info"</span><span class="token operator">></span>          <span class="token operator">&lt;</span>div<span class="token operator">></span>            <span class="token operator">&lt;</span>button              onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reverseHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>            <span class="token operator">></span>              <span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>order <span class="token operator">?</span> <span class="token string">"å‡åº"</span> <span class="token operator">:</span> <span class="token string">"é™åº"</span><span class="token punctuation">&#125;</span>            <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>          <span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stepNumber <span class="token operator">===</span> <span class="token number">9</span> <span class="token operator">?</span> <span class="token string">"å¹³å±€"</span> <span class="token operator">:</span> status<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>          <span class="token operator">&lt;</span>ol<span class="token operator">></span><span class="token punctuation">&#123;</span>moves<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ol<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// ========================================</span><span class="token keyword">const</span> root <span class="token operator">=</span> ReactDOM<span class="token punctuation">.</span><span class="token function">createRoot</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Game <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">getAxis</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> addes <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> addes<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hbmdm0fwccj33342cl1l0.jpg" alt="åŸç¥ æ˜¥èŠ‚ ç¯ç¬¼ å–œåº† çƒ­é—¹ èšä¼š åˆ»æ™´ èƒ¡æ¡ƒ é«˜æ¸…"></p>]]></content>
    
    
    <categories>
      
      <category>React</category>
      
    </categories>
    
    
    <tags>
      
      <tag>react</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸è¯´çˆ±æƒ…</title>
    <link href="/2023/02/24/gossip-19/"/>
    <url>/2023/02/24/gossip-19/</url>
    
    <content type="html"><![CDATA[<p>æˆ‘æ˜¯ä¸ªå¹¼ç¨šçš„äººï¼Œè™½ç„¶æˆ‘å·²ç»ä¸å°äº†ï¼ŒèŠ±é’±å¤§æ‰‹å¤§è„šï¼Œæ²¡æœ‰å¿§æ‚£æ„è¯†ï¼Œæƒ…ç»ªç›¸å¯¹æç«¯ï¼Œä¸€æ„å­¤è¡Œï¼Œå­¤æ³¨ä¸€æ·çš„äº‹åœ¨æˆ‘èº«ä¸Šæ—¶å¸¸å‘ç”Ÿã€‚</p><p>è¿™ç§å¹¼ç¨šæ„Ÿï¼Œè®©æˆ‘æ´»çš„å¾ˆæ´’è„±ã€‚</p><p>ä½†å…¶å®ï¼Œéƒ½æ˜¯æˆ‘èº«è¾¹çš„äººä¸ºæˆ‘ä¹°å•ã€‚</p><p>æˆ‘ä¸æ”’é’±ï¼Œæ˜¯å› ä¸ºçˆ¶æ¯æŠŠå­˜æ¬¾éƒ½ç»™æˆ‘ç•™ç€ï¼Œæˆ‘æƒ…ç»ªæç«¯ï¼Œæœ‹å‹æ€»æ˜¯ä¼šç”¨å¥‡æ€ªçš„æ–¹å¼å»åŒ–è§£ï¼Œä¹Ÿæ²¡æœ‰äººçœŸçš„å’Œæˆ‘åŠ¨æ°”ï¼Œæˆ‘ä¸ä¼šä¸ºå¥³å­©ç€æƒ³ï¼Œæ˜¯å› ä¸ºå¥¹ä»¬ä»˜å‡ºçš„æ¯”è¾ƒå¤šï¼Œå¥¹ä»¬ä¸æ˜¯åå¥³å­©ã€‚</p><p>æˆé•¿ï¼Œä¸ä¸€å®šæ˜¯çœ‹æ¸…ä¸–ç•Œï¼Œæœ‰æ—¶å€™çœ‹æ¸…è‡ªå·±ä½•å°ä¸æ˜¯ä¸€ç§æˆé•¿ï¼Œ</p><p>è¿‡æ˜¥èŠ‚ï¼Œå›è€å®¶ã€‚æˆ‘ä¸çˆ±è¯´è¯ï¼Œå‘æ¥å¦‚æ­¤ï¼Œæˆ‘æ‰çŸ¥é“ï¼ŒåŸæ¥å›è€å®¶è§äººä¸æ‰“æ‹›å‘¼ï¼Œåˆ«äººå°±ä¼šä»¥ä¸ºä½ çœ‹ä¸èµ·ä»–ï¼Œç„¶åè‡ªæ­¤å›å®¶åä¾¿ä¸å‡ºé—¨äº†ï¼Œåªåœ¨å®¶é—¨å£çš„é™¢å­é‡Œæ™ƒè¡ã€‚</p><p>ä»–ä»¬DISSæˆ‘æˆ¿ï¼Œè½¦ï¼Œå°±æ˜¯æ²¡DISSæˆ‘çš„å·¥ä½œï¼Œæˆ‘æ²¡æœ‰å¾ˆç†è§£ï¼Œä»–ä»¬æœ‰ä»–ä»¬ç‹¬ç‰¹çš„è§è§£ï¼Ÿæˆ–è€…åªæ˜¯æƒ³dissæˆ‘æ¥æ˜¾å¾—ä»–æœ‰è§è¯†ï¼Ÿ</p><p>åæ¥æˆ‘æ˜ç™½äº†ä¸€ç‚¹ï¼Œè¿™ä¸ªä¸–ç•Œï¼Œæ€»ä¼šæœ‰ä¸€äº›äººè®¨åŒä½ ã€‚</p><p>ä»–ä»¬è®¨åŒä½ å¯èƒ½ä¼šæœ‰å¾ˆå¤šåŸå› ï¼Œä½†ä¸»è¦åŸå› è¿˜æ˜¯ï¼šä½ è¿˜ä¸å¤Ÿå¥½ã€‚</p><p>äººåªä¼šè®¨åŒæ¯”è‡ªå·±å¼ºä¸€ä¸¢ä¸¢çš„äººï¼Œè€Œä¸ä¼šè®¨åŒé‚£äº›éœ€è¦ä»°æœ›çš„äººã€‚</p><p>çŸ¥æ™“è¿™ç‚¹åï¼Œæˆ‘ä¾¿ä¸æ€ä¹ˆå»åœ¨æ„ä»–ä»¬åœ¨èƒŒåæ€ä¹ˆè¯´äº†ï¼Œæˆ‘åªéœ€è¦æŠŠè‡ªå·±å˜çš„æ›´å¥½ï¼Œä»–ä»¬è‡ªç„¶ä¼šé—­å˜´ã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1hbhqsuwt7bj32yo1o0b2a.jpg" alt="å¤é£"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºå­¦ä¹ TSçš„ä¸€äº›å‡†å¤‡</title>
    <link href="/2023/02/09/vue-06/"/>
    <url>/2023/02/09/vue-06/</url>
    
    <content type="html"><![CDATA[<p>å®˜ç½‘æ˜¯æœ€å¥½çš„å­¦ä¹ æ–¹æ³•ï¼Œè¿™ç‚¹æ¯‹åº¸ç½®ç–‘ï¼Œå¥ˆä½•è‹±æ–‡æ°´å¹³ä¸å’‹åœ°ï¼Œä¹Ÿä¸èƒ½å»åŸ‹æ€¨ä¸ºä»€ä¹ˆæ²¡æœ‰ä¸­æ–‡æ–‡æ¡£ï¼Œæ–‡å­—çœ‹ä¸å¾ˆæ‡‚ï¼Œä»£ç çœ‹å¾—æ‡‚æ—¥å­ä¹Ÿè¿˜è¿‡å¾—ä¸‹å»è¿™æ ·å­ã€‚</p><p>è¦å»äº†è§£TSä¹‹å‰ï¼Œå¯¹äºJSè¿˜æ˜¯è¦æœ‰ä¸€å®šæ·±åº¦çš„ç†è§£ï¼Œè¿™ä¸ªç†è§£æˆ‘æƒ³è¯´çš„æ˜¯å¯¹äºè¯­è¨€æœ¬èº«çš„ç†è§£ï¼Œè€Œéä¸€äº›æ¡†æ¶çš„ç†è§£ï¼Œæ¡†æ¶ä»Šå¤©è¿™ä¸ªæµè¡Œï¼Œæ˜å¤©é‚£ä¸ªè½åçš„ï¼Œä½†æ˜¯è¿™äº›æ¡†æ¶æ‰€ç”¨çš„è¯­è¨€JS&#x2F;TSï¼Œè½ä¼çš„å¯èƒ½æ€§è¿œè¿œè¦æ¯”æ¡†æ¶è¦ä½ï¼Œæ¡†æ¶å˜æ¥å˜å»ï¼Œæ‰€ä»¥å¯¹äºè¯­è¨€çš„å­¦ä¹ ç†è§£ï¼Œæ˜¯ä¸äºçš„ï¼Œç£¨åˆ€ä¸è¯¯ç æŸ´å·¥çš„é“ç†å§ã€‚</p><p>å·¥å…·çš„å­¦ä¹ å’Œä½¿ç”¨ï¼ŒVsCodeæ— éœ€å¤šè¨€ï¼Œå‰ç«¯å¾¡ç”¨ï¼Œè‡³å°‘ç›®å‰åœ¨ç¼–å†™TSè¿™å—ï¼ŒWebStormä¸å¦‚VsCodeï¼ŒVsCodeçš„åŸºç¡€ç”¨æ³•ä»¥åŠå·¥ä½œåŒºçš„æ¦‚å¿µï¼Œä¸è¿‡ä¹Ÿæ— éœ€è¿‡å¤šæ·±å…¥ï¼Œèƒ½ç”¨å°±è¡Œï¼Œç®€å•ç”¨æ¥å†™å†™å­¦ä¹ çš„DemoæŒºç®€å•ã€‚</p><p>ä¸€äº›ç¯å¢ƒï¼ŒNodeçš„å®‰è£…ï¼Œnpmçš„é…ç½®ï¼Œpnpmï¼ˆæ¨èç”¨è¿™ä¸ªï¼‰çš„é…ç½®ï¼Œä¸é…ç½®ä¹Ÿèƒ½ç”¨ï¼Œé…ç½®äº†ç”¨çš„è¯ä¹Ÿè®¸ä¼šå¥½ç‚¹ï¼Œé…ç½®åŒ…ç®¡ç†å™¨çš„ç¼“å­˜åœ°å€ä¼šç¼“è§£Winç³»ç»ŸCç›˜çš„å ç”¨é—®é¢˜ï¼Œé…ç½®é•œåƒæ˜¯ä¸ºäº†ä¸å»ç©¿é‚£å±‚å¢™ï¼Œä»¥è·å–æ›´å¿«çš„åŒ…ä¸‹è½½é€Ÿåº¦ã€‚å¦‚æœæœ‰äººèƒ½å¤Ÿå¿å—ï¼Ÿï¼Ÿ</p><p><a href="https://wangijun.com/2023/02/09/vue-07/">å‰ç«¯å·¥å…·ä¸€æ¡é¾™</a></p><p>é‡åˆ°é—®é¢˜çš„è¯ï¼Œä¼˜å…ˆå»å®˜ç½‘æŸ¥çœ‹ï¼Œæˆ–è€…é€šè¿‡å…³äºç•Œé¢ä¸­æˆ‘çš„ä¿¡æ¯æ‰¾åˆ°æˆ‘é—®é—®æˆ‘å³å¯ï¼ˆéšç¼˜ï¼‰ã€‚</p><p>ä¸€åˆ‡å‡†å¤‡å°±ç»ªå®Œæˆï¼Œåœ¨Dç›˜æ ¹ç›®å½•æˆ–è€…åˆ«çš„ç›®å½•æ–°å»ºä¸€ä¸ªåä¸º<code>ts_study</code>çš„æ–‡ä»¶å¤¹ï¼Œç„¶åä½¿ç”¨VsCodeæ‰“å¼€ã€‚</p><p>å¥½çš„ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªæ–‡ä»¶å¤¹å½“æˆVsCodeçš„ä¸€ä¸ªå·¥ä½œåŒºï¼Œè¿™ä¸ªæ¦‚å¿µæˆ‘ä¸çŸ¥é“æ€ä¹ˆè§£é‡Šï¼ŒVsCodeæœ‰ä¸ªå·¥ä½œåŒºçš„æ¦‚å¿µï¼Œä¸€èˆ¬æˆ‘ä»¬æ­£å¸¸ä½¿ç”¨å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸€ä¸ªå·¥ä½œåŒºï¼Œæœ‰äº›æ—¶å€™æˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¸€ä¸ªç›®å½•ä¸­æœ‰å¤šä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹ä¹Ÿæ˜¯ä¸ªç‹¬ç«‹çš„å·¥ä½œåŒºæ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦VsCodeä¸­å·¥ä½œç©ºé—´ï¼ˆWorkSpaceï¼‰ï¼Œæ„Ÿå…´è¶£å¯ä»¥è‡ªè¡Œå»äº†è§£äº†è§£ã€‚</p><p>æ–°å»ºstudy.tsæ–‡ä»¶ï¼Œç¼–å†™å¦‚ä¸‹å†…å®¹</p><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    sax<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">UserAccunt</span> <span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    sax<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> sax<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>sax <span class="token operator">=</span> sax<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> user<span class="token operator">:</span> User <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserAccunt</span><span class="token punctuation">(</span><span class="token string">"charAt"</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token string">"ç”·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'23333'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="åˆå§‹åŒ–é¡¹ç›®ä¾èµ–ã€‚"><a href="#åˆå§‹åŒ–é¡¹ç›®ä¾èµ–ã€‚" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®ä¾èµ–ã€‚"></a>åˆå§‹åŒ–é¡¹ç›®ä¾èµ–ã€‚</h2><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># è¿›å…¥çš„åˆ›å»ºçš„æ–‡ä»¶å¤¹ä¸‹åˆå§‹åŒ–package.json</span>pnmm init<span class="token comment"># å®‰è£…å¯¹åº”çš„ä¾èµ–</span><span class="token function">pnpm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> typescript<span class="token function">pnpm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> tslib @types/node<span class="token function">pnpm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> ts-node<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="TSç¼–è¯‘æˆJSå¹¶è¿è¡Œ"><a href="#TSç¼–è¯‘æˆJSå¹¶è¿è¡Œ" class="headerlink" title="TSç¼–è¯‘æˆJSå¹¶è¿è¡Œ"></a>TSç¼–è¯‘æˆJSå¹¶è¿è¡Œ</h2><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¦‚æœæ˜¯å…¨å±€å®‰è£…åˆ™å¯çœç•¥npx</span>npx tsc study.ts<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><p>ä¸æŠ¥é”™ä¼šåœ¨ç›®å½•ä¸‹ç”ŸæˆåŒåçš„jsæ–‡ä»¶</p><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> UserAccunt <span class="token operator">=</span> <span class="token comment">/** @class */</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">function</span> <span class="token function">UserAccunt</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sax</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>sax <span class="token operator">=</span> sax<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> UserAccunt<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserAccunt</span><span class="token punctuation">(</span><span class="token string">"charAt"</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token string">"ç”·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'23333'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># è¿è¡Œæ–‡ä»¶</span><span class="token function">node</span> study.js<span class="token comment"># è¾“å‡º`23333`è¯´æ˜ç¯å¢ƒæ­£å¸¸</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="ä¸ç¼–è¯‘ç›´æ¥è¿è¡Œ"><a href="#ä¸ç¼–è¯‘ç›´æ¥è¿è¡Œ" class="headerlink" title="ä¸ç¼–è¯‘ç›´æ¥è¿è¡Œ"></a>ä¸ç¼–è¯‘ç›´æ¥è¿è¡Œ</h2><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npx ts-node study.ts<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h2 id="è‡ªåŠ¨ç¼–è¯‘"><a href="#è‡ªåŠ¨ç¼–è¯‘" class="headerlink" title="è‡ªåŠ¨ç¼–è¯‘"></a>è‡ªåŠ¨ç¼–è¯‘</h2><ol><li>ç”Ÿæˆtsconfig.jsoné…ç½®æ–‡ä»¶</li></ol><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npx tsc <span class="token parameter variable">--init</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><ol start="2"><li>ä¿®æ”¹ tsconfig.json é…ç½®æ–‡ä»¶</li></ol><figure><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"outDir"</span><span class="token operator">:</span> <span class="token string">"./js"</span> <span class="token comment">/* æŒ‡å®šç¼–è¯‘åçš„è¾“å‡ºç›®å½• */</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><ol start="3"><li>æµ‹è¯•</li></ol><p>VsCodeä¸­</p><p>ç»ˆç«¯ â€“&gt; è¿è¡Œä»»åŠ¡ â€“&gt; é€‰æ‹© tsc:ç›‘è§†-tsconfig.json</p><p>è¿™æ ·åœ¨ä¿®æ”¹ ts æ–‡ä»¶å†…å®¹ï¼Œä¿å­˜æ—¶ä¼šè‡ªåŠ¨ç¼–è¯‘ã€‚</p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1haxbd3oiyfj32yo1qpkjl.jpg" alt="4k ç¾ä¸½æµ·è¾¹æˆ¿å­ åŠ¨æ¼«é£æ™¯ å¤©ç©º"></p>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ts</tag>
      
      <tag>ts-node</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯å¼€å‘ç¯å¢ƒå®‰è£…å’Œå‡†å¤‡</title>
    <link href="/2023/02/09/vue-07/"/>
    <url>/2023/02/09/vue-07/</url>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…Node"><a href="#å®‰è£…Node" class="headerlink" title="å®‰è£…Node"></a>å®‰è£…Node</h2><p>å®‰è£…Nodeæœ‰å¾ˆå¤šæ–¹å¼ï¼Œè¿™è¾¹ä½¿ç”¨<strong>nvm</strong>å®‰è£…å’Œç®¡ç†Nodeï¼Œç¬”è€…å¹³å°æ˜¯win,<a href="https://github.com/coreybutler/nvm-windows/releases">ä¸‹è½½é¡µé¢</a><br>åœ¨ä¸‹è½½é¡µé¢é€‰æ‹© <code>nvm-noinstall.zip</code>æ–‡ä»¶å®‰è£…æ–¹ä¾¿ç®¡ç†ã€‚</p><p>åˆ°è¿™æ­¥ä½ åº”è¯¥å·²ç»æŠŠæ–‡ä»¶ä¸‹è½½ä¸‹æ¥å¹¶è§£å‹çš„åˆ°ä¸€ä¸ªç›®å½•äº†ï¼Œæ¯”å¦‚ï¼š<code>D:\node\nvm</code> æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶å¤¹å°±æ–°å»ºä¸€ä¸ª</p><p>è¿™æ—¶æˆ‘ä»¬å†æ–°å»ºå‡ ä¸ªæ–‡ä»¶å¤¹ï¼Œåé¢ä¼šç”¨å¾—ä¸Šã€‚</p><p><code>D:\node\nodejs</code><br>è¿™ä¸ªä½œä¸ºnodejsçš„æ–‡ä»¶å¤¹</p><p><code>D:\node\npm-global</code></p><p>è¿™ä¸ªä½œä¸ºnpmçš„å…¨å±€å®‰è£…è·¯å¾„</p><p><code>D:\node\npm-cache</code></p><p>è¿™ä¸ªä½œä¸ºnpmçš„ç¼“å­˜è·¯å¾„</p><p><code>D:\node\pnpm-store</code></p><p>è¿™ä¸ªä½œä¸ºpnpmçš„ä»“åº“åœ°å€ï¼Œä¸æ˜ç™½çš„å¯ä»¥å»æŸ¥çœ‹pnpmçš„å®˜ç½‘ã€‚</p><p><code>D:\node\pnpm-cache</code></p><p>è¿™ä¸ªä½œä¸ºpnpmçš„ç¼“å­˜è·¯å¾„</p><h2 id="ç¯å¢ƒå˜é‡è®¾ç½®"><a href="#ç¯å¢ƒå˜é‡è®¾ç½®" class="headerlink" title="ç¯å¢ƒå˜é‡è®¾ç½®"></a>ç¯å¢ƒå˜é‡è®¾ç½®</h2><p>æŠŠ<code>D:\node\nvm</code>ï¼Œ<code>D:\node\nodejs</code>ï¼Œ<code>D:\node\npm-global</code>è¿™ä¸‰ä¸ªä½ç½®æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­çš„<code>Path</code>å±æ€§ä¸­ã€‚</p><p>ç„¶åå†æ–°å»ºç¯å¢ƒç¯å¢ƒå˜é‡ï¼šå˜é‡åç§°ï¼Œå±æ€§</p><ul><li>NVM_HOME      <code>D:\node\nvm</code></li><li>NVM_SYMLINK   <code>D:\node\nodejs</code></li><li>PNPM_HOME     <code>D:\node\npm-global</code></li></ul><p>ç„¶åå†åˆ°<code>D:\node\nvm</code>ç›®å½•ä¸‹æ–°å»º<code>settings.txt</code>æ–‡ä»¶ï¼Œç²˜è´´å¦‚ä¸‹å†…å®¹ï¼Œè¿™é‡Œæ˜¯å’Œä¸Šé¢çš„è·¯å¾„å¯¹åº”çš„ã€‚å¦‚æœä¸Šé¢æ”¹äº†ï¼Œè¿™é‡ŒåŒæ ·éœ€è¦æ”¹ã€‚</p><p><code>arch</code>è¿™ä¸ªå±æ€§æ ¹æ®è‡ªå·±çš„å¹³å°æ¥ï¼Œä¸€èˆ¬éƒ½æ˜¯64ä½ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">root: D:\node\nvmpath: D:\node\nodejsarch: 64proxy: nonenode_mirror: https://npm.taobao.org/mirrors/node/npm_mirror: https://npm.taobao.org/mirrors/npm/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å®‰è£…node-åŠé…ç½®npm-pnpm"><a href="#å®‰è£…node-åŠé…ç½®npm-pnpm" class="headerlink" title="å®‰è£…node,åŠé…ç½®npm,pnpm"></a>å®‰è£…node,åŠé…ç½®npm,pnpm</h2><p>ç°åœ¨ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nvm <span class="token parameter variable">-v</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>æ­£å¸¸è¾“å‡ºç‰ˆæœ¬å·ï¼Œåˆ™è¯´æ˜ç¯å¢ƒæ­£å¸¸ã€‚</p><p>æ¥ç€æ‰§è¡Œå‘½ä»¤</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nvm <span class="token function">install</span> lts<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>è¿™å°†é»˜è®¤å®‰è£…æœ€æ–°çš„ltsç‰ˆæœ¬nodeï¼Œæ— æŠ¥é”™çš„æƒ…å†µä¸‹ï¼Œæ‰§è¡Œ<code>node -v</code>, <code>npm -v</code>èƒ½æ­£ç¡®è¾“å‡ºç‰ˆæœ¬å·ï¼Œåˆ™è¯´æ˜å®‰è£…node,npmä»¥åŠé…ç½®ç¯å¢ƒå˜é‡æˆåŠŸã€‚</p><p>å› ä¸ºnpmæ˜¯nodeè‡ªå¸¦çš„åŒ…ç®¡ç†å™¨ï¼Œæ‰€ä»¥å®‰è£…nodeä¹‹åä¾¿è‡ªå¸¦å®‰è£…äº†Npmï¼Œç„¶åæ˜¯é…ç½®ã€‚</p><p><strong>é…ç½®npm</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config <span class="token builtin class-name">set</span> prefix <span class="token string">"D:<span class="token entity" title="\n">\n</span>ode<span class="token entity" title="\n">\n</span>pm-global"</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> cache <span class="token string">"D:<span class="token entity" title="\n">\n</span>ode<span class="token entity" title="\n">\n</span>pm-cache"</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmmirror.com/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å®‰è£…Pnpm"><a href="#å®‰è£…Pnpm" class="headerlink" title="å®‰è£…Pnpm"></a>å®‰è£…Pnpm</h2><p>æ²¡æœ‰æŠ¥é”™è¯´æ˜æˆåŠŸï¼Œä¾æ¬¡æ‰§è¡Œå®Œæˆä¹‹åï¼Œå®‰è£…pnpm</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> <span class="token function">pnpm</span><span class="token comment"># æ‰§è¡Œæ— æŠ¥é”™æŠ¥å®Œæˆä¹‹åï¼Œæ‰§è¡Œ</span><span class="token function">pnpm</span> <span class="token parameter variable">-v</span><span class="token comment"># æ­£ç¡®è¾“å‡ºç‰ˆæœ¬å·ï¼Œåˆ™è¯´æ˜pnpmå®‰è£…æˆåŠŸã€‚è®¾ç½®pnpmä»“åº“åœ°å€ä»¥åŠç¼“å­˜åœ°å€</span><span class="token function">pnpm</span> config <span class="token builtin class-name">set</span> store-dir D:<span class="token punctuation">\</span>node<span class="token punctuation">\</span>pnpm-store<span class="token function">pnpm</span> config <span class="token builtin class-name">set</span> cache-dir D:<span class="token punctuation">\</span>node<span class="token punctuation">\</span>pnpm-cache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æ­£å¸¸æ— è¯¯çš„æ‰§è¡ŒæˆåŠŸä¹‹åï¼Œè¿™ä¸ªæ—¶å€™å‰ç«¯çš„åŸºç¡€ç¯å¢ƒå·²ç»å®‰è£…å¥½ã€‚</p><p>ç›®å‰å‰ç«¯å°±ä¸‰ä¸ªåŒ…ç®¡ç†å™¨ï¼Œnpm,yarn,pnpmï¼Œè‡³äºä»€ä¹ˆcnpmï¼Œæ‡‚å¾—éƒ½æ‡‚ã€‚å‰©ä¸€ä¸ªyarnæ²¡æœ‰ä»‹ç»ï¼Œè¿™ä¸ªå®‰è£…èµ·æ¥å¹¶ä¸éº»çƒ¦ã€‚ç”±äºyarnè¿™ä¸ªç°åœ¨åœ¨æ…¢æ…¢è¡°äº¡äº†ï¼Œæ‰€ä»¥ï¼Œå°±ä¸è¿‡å¤šå±•å¼€ï¼Œéƒ½æ˜¯ç±»ä¼¼ã€‚ä¸€ä¸ªå…¨å±€å®‰è£…ç›®å½•ï¼Œä¸€ä¸ªç¼“å­˜ç›®å½•ï¼Œä¸€èˆ¬è®¾ç½®æˆéCç›˜å³å¯ã€‚ç„¶åæŠŠå…¨å±€å®‰è£…ç›®å½•æ·»åŠ åˆ°<code>Path</code>ç¯å¢ƒå˜é‡ä¸­ã€‚</p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1haxbfaw5aoj32yo1o07wh.jpg" alt="4k åŸç¥ å¤œå…°"></p>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>pnpm</tag>
      
      <tag>npm</tag>
      
      <tag>node</tag>
      
      <tag>nvm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Postgresqlæ¨¡å¼çš„æ¦‚å¿µä»¥åŠè¿æ¥æ–¹æ³•</title>
    <link href="/2023/01/30/java-17/"/>
    <url>/2023/01/30/java-17/</url>
    
    <content type="html"><![CDATA[<p>æ¨¡å¼schemaï¼Œå¹¶ä¸æ˜¯å…¨éƒ¨æ‰€æœ‰æ•°æ®åº“éƒ½æ”¯æŒï¼Œæ²¡æœ‰å»ç½—åˆ—ï¼Œä»¥MYSQLä¸ºä¾‹ï¼ŒMysqlæ²¡æœ‰æ¨¡å¼è¿™ä¸ªæ¦‚å¿µï¼Œpostgresqlåˆ™æœ‰ã€‚</p><p>Pgsqlçš„æ¨¡å¼å°±å¯¹åº”MySQLé‡Œä¸åŒçš„åº“ã€‚å¯ä»¥ç†è§£æˆMySQLåªæœ‰ä¸€å±‚ï¼Œä½†æ˜¯pgsqlæœ‰äºŒå±‚ã€‚</p><p>MySQLæ˜¯ç›´æ¥é€‰æ‹©å“ªä¸ªåº“ï¼Œè¿›è¡Œè¿æ¥ã€‚</p><p>PGSQLæœ‰ä¸¤å±‚ï¼Œè¿æ¥åº“æ—¶ä¸æŒ‡å®šæ¨¡å¼åˆ™é»˜è®¤é€‰æ‹©publicæ¨¡å¼ï¼Œï¼ˆPGSQLæ–°å»ºæ•°æ®åº“æ—¶ï¼Œä¼šé»˜è®¤æ–°å»ºä¸€ä¸ªpublicæ¨¡å¼ï¼‰æ¨¡å¼å’Œæ¨¡å¼ä¹‹é—´æ˜¯å®Œå…¨éš”ç¦»çš„ã€‚</p><h2 id="è¿æ¥æŒ‡å®šæ¨¡å¼"><a href="#è¿æ¥æŒ‡å®šæ¨¡å¼" class="headerlink" title="è¿æ¥æŒ‡å®šæ¨¡å¼"></a>è¿æ¥æŒ‡å®šæ¨¡å¼</h2><div class="note note-info">            <figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">jdbc:postgresql:l&#x2F;localhost:5432&#x2F;postgresql<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>åœ¨è¿™ç§è¿æ¥æ–¹å¼ä¸‹ï¼Œé»˜è®¤è¿æ¥ä½¿ç”¨çš„æ˜¯postgresqlæ•°æ®åº“çš„publicæ¨¡å¼ã€åœ¨ä¸šåŠ¡åœºæ™¯ä¸­æœ‰æ—¶å…è®¸å¤šä¸ªç”¨æˆ·ä½¿ç”¨ä¸€ä¸ªæ•°æ®åº“å¹¶ä¸”ä¸ä¼šäº’ç›¸å¹²æ‰°ã€‚è¿™æ—¶éœ€è¦åœ¨ä½¿ç”¨åŒä¸€ä¸ªæ•°æ®åº“æ–°å»ºå…¶ä»–æ¨¡å¼è¿›è¡Œè¿æ¥ã€‚è¿™æ—¶åœ¨springbootçš„æ•°æ®æºjdbcé…ç½®æ—¶æ³¨æ„ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">#postgresql-&gt; 9.3åŠä»¥å‰çš„ç‰ˆæœ¬æŒ‡å®šæ–¹å¼spring.datasource.url&#x3D;jdbc:postgresql:&#x2F;localhost:5432&#x2F;postgresql?searchpath&#x3D;newschema<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">#postgresql-&gt; 9.4åŠä»¥åçš„ç‰ˆæœ¬æŒ‡å®šæ–¹å¼spring.datasource.url&#x3D;jdbc:postgresql:&#x2F;&#x2F;localhost:5432&#x2F;postgresql?currentSchema&#x3D;newschema<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure>          </div><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1haltemse87j32yo1o07wi.jpg" alt="åŸç¥ äº‘å ‡"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®åº“</tag>
      
      <tag>POSTGRESQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœ€è¿‘å›¾ç‰‡åŠ è½½ä¸å‡ºæ¥çš„é—®é¢˜</title>
    <link href="/2023/01/03/other-10/"/>
    <url>/2023/01/03/other-10/</url>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘ä¸çŸ¥é“ä»€ä¹ˆåŸå› ï¼Œåšå®¢å¥½å¤šå›¾ç‰‡éƒ½åŠ è½½ä¸å‡ºæ¥äº†ï¼Œä¸çŸ¥é“ä»€ä¹ˆåŸå› å¥½åƒå›¾åºŠæœ‰ç‚¹é—®é¢˜ï¼Œç»Ÿä¸€ä¿®æ”¹äº†ä¸€ä¸‹ã€‚</p><p>å¾®åšå¼€å§‹é™åˆ¶å¤–é“¾äº†ï¼ŒåæœŸä¼šæ”¹å›¾ç‰‡çš„å­˜å‚¨åœ°å€ã€‚</p><p>æš‚ä¸”è¿™æ ·å§ï¼Œä¹Ÿä¸çŸ¥é“èƒ½ç»´æŒå¤šä¹…ï¼Œç›®å‰å›¾ç‰‡å¯ä»¥æŸ¥çœ‹äº†ã€‚</p><p>æ–°å¹´å¿«ä¹ã€‚</p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h9q6kk3pnwj36683h0tw6.jpg" alt="äº‹äº‹é¡ºå¿ƒ å¥½è¿å¸¸åœ¨"></p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å…¶ä»–</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äº2022å¹´</title>
    <link href="/2022/12/26/gossip-18/"/>
    <url>/2022/12/26/gossip-18/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>ä»€ä¹ˆå«å¤šä½™<br>å¤å¤©çš„æ£‰è¢„ï¼Œå†¬å¤©çš„è’²æ‰‡<br>è¿˜æœ‰ç­‰æˆ‘å·²ç»å¿ƒå†·ä¹‹å<br>ä½ çš„æ®·å‹¤ã€‚</p>          </div><p>å…ƒæ—¦ç»“æŸï¼Œå›½åº†èŠ‚å›å®¶åå¤§å·´å¸¦ç»™æˆ‘çš„æƒ¨ç—›å›å¿†ï¼Œè®©æˆ‘èŒç”Ÿäº†ä¹°è½¦çš„æƒ³æ³•ï¼Œé™¤å¤•æ”¾å‡æˆ‘æ˜¯å¼€è½¦å›çš„å®¶ã€‚</p><p>æ˜¥èŠ‚ç»“æŸï¼Œå…ƒå®µèŠ‚å›å®¶æŠŠè½¦ç‰Œè£…ä¸Šï¼Œè‡³æ­¤å°æ±½è½¦çš„äº‹æƒ…å®‰é¡¿å®Œæ¯•ã€‚</p><p>å†å›ä¸Šç­çš„åœ°æ–¹ï¼Œè”ç³»äº†å¤§å­¦é‡Œçš„å¼‚æ€§åŒå­¦ï¼Œæœ‰å¤åˆçš„æƒ³æ³•ï¼Œæˆ‘æ‰¿è®¤å½“æ—¶æœ‰è¿™ç§æƒ³æ³•æ˜¯æˆ‘é£˜äº†ï¼Œå—¯ï¼Œåªæ˜¯ä¸€æ®µæ²¡æœ‰ç„¶åçš„æ•…äº‹ï¼Œæˆ‘ä¹Ÿä¸æƒ³åœ¨æœ‰ç„¶åäº†ã€‚</p><p>è¿‡äº†ä¸¤å¤©æˆ¿å­åˆ°æœŸï¼Œé‚æ¬åˆ°ç«¹å›­ï¼ŒçŸ­ç§Ÿäº†å››ä¸ªæœˆï¼Œè§è¯†äº†åˆç§Ÿå¥³å®¤å‹çš„æƒ…æƒ…çˆ±çˆ±ï¼Œçˆ±çˆ±ä¸ºåŠ¨è¯ã€‚99å¹´çš„å§‘å¨˜ï¼Œä½“è‚²ç”·å‹ï¼Œèˆè¹ˆç”Ÿï¼ŒåŠ å¹¼æ•™ï¼Œå‡ é‡buffï¼ŒæŒºå‰å®³çš„ä¸€ä¸ªå®¤å‹ï¼Œåœ¨åŸå¸‚é‡Œç‹¬è‡ªç”Ÿæ´»çš„å¥³ç”Ÿï¼Œå¤šå°‘æœ‰ç‚¹æœ¬äº‹åœ¨èº«ä¸Šï¼Œç¬‘è´«ä¸ç¬‘å¨¼çš„é£æ°”ï¼Œéƒ½æ˜¯ä¸€ç§ç”Ÿæ´»æ–¹å¼ï¼Œä¹Ÿæ²¡ä»€ä¹ˆã€‚</p><p>æ¸…æ˜ï¼Œå¤–ç”¥æŠ“å‘¨ï¼Œæˆ‘è¿™ä¸ªåšèˆ…èˆ…çš„æ— è®ºå¦‚ä½•è¦å›å»ï¼Œä¸‰å¹´æ—¶é—´ï¼Œç–«æƒ…æ„ˆæ¼”æ„ˆçƒˆï¼ŒåŠå®Œäº‹æƒ…ï¼Œæˆ‘ç”šè‡³æ²¡æœ‰åƒåˆ°ç¬¬äºŒå¤©çš„åˆé¥­ï¼Œä¾¿åŒ†åŒ†å¿™å¿™å›åˆ°å·¥ä½œå¤„ã€‚ç„¶åè€å®¶ä¾¿å°äº†ä¸‰ä¸ªæœˆï¼Œå›æ¥çš„å°åŒºå‘¨å›´çš„é“æ …æ ä¹Ÿç„Šä¸Šäº†ã€‚</p><p>äº”ä¸€å‡æœŸç¬¬ä¸€å¤©ï¼Œæ—©æ™¨æˆ‘è¿˜æ²¡ç¡é†’ï¼Œç”µè¯å“äº†ï¼Œé‡Œé¢ä¼ æ¥è€çˆ¹çš„å£°éŸ³ï¼Œâ€œè‰¯å­ï¼Œäº”ä¸€å›ä¸å›æ¥â€ï¼Œç¬é—´æ¸…é†’ï¼Œä¸‹åºŠç©¿è¡£æ´—æ¼±ï¼Œæ‹¿ä¸Šè½¦é’¥åŒ™ä¾¿ä¸‹æ¥¼ï¼Œå›å®¶åŠè·¯è¢«æˆªèƒ¡ï¼Œæ— å¥ˆè¿”å›ä½å¤„ï¼Œå’Œè€çˆ¹æ‰“äº†ç”µè¯ï¼Œè¯´æ˜æƒ…å†µã€‚äº”ä¸€ï¼Œå±…å®¶èººäº†äº”å¤©ã€‚å”¯ä¸€çš„ä¹å­å°±æ˜¯çœ‹å¥³å®¤å‹å’Œå¥¹å¸¦å›æ¥çš„ç”·æœ‹å‹æœå¤•ç›¸å¤„ï¼Œæˆ‘ä¸€ä¸ªå•èº«ç‹—çœ‹çš„æ´¥æ´¥æœ‰å‘³ã€‚</p><p>è¿™ä¸€å¹´ï¼Œå’Œæœ‹å‹å»äº†ç¥¥æºèŠ±ä¸–ç•Œï¼Œå»äº†å·¢æ¹–è¾¹ä¸Šï¼Œåˆè‚¥çš„KTVï¼Œå•†åœˆï¼Œç­‰ç­‰ï¼Œç²¾é€šå„ä¸ªå•†åœˆé™„è¿‘çš„åœè½¦ä½ç½®ï¼Œç†Ÿç»ƒä½¿ç”¨é«˜å¾·åœ°å›¾æ‰¾åœ°ä¸‹è½¦åº“åœ°å€ï¼Œç²¾é€šå„ç§ä¾§æ–¹åœè½¦ï¼Œä»¥åŠå€’è½¦å…¥åº“ã€‚é…’è¿‡ä¸‰å·¡ï¼Œå„è‡ªè¯´è‡ªå·±çš„ç›¸äº²å¯¹è±¡ä»¥åŠå‘å±•å¯¹è±¡ï¼Œè¯´å‡ºæ¥éƒ½æ˜¯ä¹å­ï¼Œä½†å®é™…ä¸Šæ˜¯ä»€ä¹ˆæ ·ï¼Œåˆæœ‰ä»€ä¹ˆå…³ç³»å‘¢ã€‚å°å¿ƒé”çˆ±ï¼Œå’Œæ— äººæ‰€çˆ±ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ã€‚</p><p>å’Œå¤§å­¦åŒå­¦å¤±å»è”ç³»ï¼Œåœ¨çˆ±æ„çš„ç¬¼ç½©ï¼Œæˆ–è€…æ€§å¸å¼•åŠ›ä¸‹ï¼Œæˆ‘æ˜¯ä¼šå¤±å»ä¸€äº›å®¢è§‚çš„åˆ¤æ–­èƒ½åŠ›ï¼Œæ¢å¤äº†åˆ¤æ–­åŠ›ï¼Œå¥¹æ²¡æœ‰æœ¦æœ¦èƒ§èƒ§çš„ï¼Œæˆ‘çœ‹çš„æ˜ç™½ä¸ä»£è¡¨å°±ä¸€å®šè¦è¯´çš„æ˜ç™½ã€‚æƒ³çš„å¤šçš„ï¼Œè¾“ï¼Œä¸»åŠ¨çš„ï¼Œè¾“ï¼Œä»˜å‡ºå¤šçš„ï¼Œè¾“ï¼Œç»´æŒæ—¶é—´çš„é•¿çŸ­ä¹Ÿè®¸åªæ˜¯èµ¢å®¶å¥½å¥‡è¾“å®¶ä»€ä¹ˆæ—¶å€™è‡ªå·±é€€åœºã€‚</p><p>æ²¡æœ‰æ„å¤–ï¼Œé¡ºå…¶è‡ªç„¶ï¼Œæˆ‘è¯´çš„é¡ºå…¶è‡ªç„¶ï¼Œå¹¶ä¸æ˜¯æˆ‘ä¸¤æ‰‹ä¸€æ‘Šï¼Œè€Œæ˜¯ä»¥æˆ‘çš„èƒ½åŠ›ï¼Œè¿™ä»¶äº‹åªèƒ½è¿™æ ·äº†ï¼Œåœ¨å¾€ä¸‹ä¼šä¸åˆç†ã€‚</p><div class="note note-info">            <p>ä¸œé£å¹äººé†’ï¼Œä¸‡äº‹è—äºå¿ƒï¼Œæˆ‘æ²¡è¯´ä¸å…¬å¹³ï¼Œä¹Ÿæ²¡è¯´æˆ‘è‹¦ï¼Œæˆ‘å°±è¯´ï¼Œæˆ‘çŸ¥é“äº†ã€‚</p>          </div><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h9m60mk05kj32yo1pwu0z.jpg" alt="åŸç¥"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€äº›å…³äºå¿åŸçš„è®°å¿†_äºŒ</title>
    <link href="/2022/12/20/gossip-17/"/>
    <url>/2022/12/20/gossip-17/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>å¿µå¿µä¸å¿˜ï¼Œå¿…æœ‰å›å“ã€‚</p>          </div><p>â€¦</p><p>é£é£å§”å±ˆçš„æ‰‘åˆ°æˆ‘æ€€é‡Œå¤§å“­ï¼Œé‚£ä¸ªæ·±å¤œï¼Œæˆ‘åœ¨è¿™ä¸ªåœ°æ–¹ç¬¬ä¸€æ¬¡æ„Ÿå—åˆ°äº†å½»éª¨çš„å¯’æ„ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯çœ¼æ³ªæ´’åœ¨æˆ‘æ€€é‡Œçš„åŸå› ã€‚</p><p>æœªå®Œå¾…ç»­â€¦</p><p>æ•¬æ·®èµ°äº†ï¼Œé£é£ä¹Ÿæ²¡æœ‰å†æ‰¾å¯¹è±¡ï¼Œæˆ–è®¸æ˜¯å¯¹æ•¬æ·®ä½™æƒ…æœªäº†ï¼Œé£é£è¯´ï¼Œä¸¤ä¸ªäººå¦‚æœæ²¡æœ‰å¥½å¥½é“åˆ«å°±èµ°æ•£çš„ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªäººç»ˆå°†å†æ¬¡é‡é€¢ã€‚</p><p>æˆ‘æ²¡æ›¾æƒ³è¿‡ç»™é£é£ä»‹ç»ç”·æœ‹å‹ï¼Œä½†é£é£å´è¯´è¦ç»™æˆ‘ä»‹ç»ä¸€ä¸ªå¥³æœ‹å‹ã€‚é£é£è¯´è¿™å¥³ç”Ÿæ¸©æŸ”å¤§æ–¹è¿˜æ¼‚äº®ï¼Œè¯´æˆ‘å¦‚æœä¸æŠŠæ¡çš„è¯ï¼Œä½ ç»å¯¹ä¼šåæ‚”ï¼Œå¬é£é£è¯´çš„è¿™ä¹ˆç„ä¹ï¼Œä¾¿å»è§äº†è§ï¼Œå°±è¿™æ ·ç«¥å¯èµ°è¿›äº†æˆ‘çš„ç”Ÿæ´»ï¼Œé™ªä¼´äº†æˆ‘äººç”Ÿæœ€ç¿çƒ‚çš„é‚£å‡ å¹´ã€‚</p><p>ç«¥å¯æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯çˆ±æ‰“ç›´çƒï¼Œä¸ä¼šå’Œæˆ‘å…œåœˆå­ï¼Œè¯´æ€•æŠŠæˆ‘ç»™ç»•æ™•äº†ï¼Œæ¯•ä¸šé‚£ä¼šå„¿æˆ‘æ‰¾ä¸åˆ°åˆé€‚çš„å·¥ä½œï¼Œå¤©å¤©å€Ÿé…’æ¶ˆæ„ï¼Œç«¥å¯ä¸ç¦å¥½ç¬‘ï¼šä½ åˆä¸ä¼šä½œè¯—ï¼Œå­¦ä»€ä¹ˆæç™½å•Šæ•´å¤©é†‰ç”Ÿæ¢¦æ­»çš„ã€‚</p><p>æˆ‘è¯´ï¼šé«˜ç²±æœæ±ï¼Œé«˜ç²±æœæ±ï¼Œä¹Ÿç®—ä¸€ç§é£å‘³é¥®æ–™ã€‚</p><p>æˆ‘é¡¿äº†é¡¿åˆè¯´ï¼šç«¥ï¼Œé™ªæˆ‘å–ä¸€æ¯ï¼Œ</p><p>å¥¹æ‹¿ç€æ¯å­é—­ä¸Šçœ¼ç›çœ¯äº†ä¸€å£ï¼Œè¾£çš„ç›´åèˆŒå¤´ï¼Œæˆ‘ç¬‘ç€è¯´ï¼šä½ å–é…’çš„æ ·å­çœŸæœ‰æ„æ€ï¼Œå†å°ä¸€å£å§ã€‚</p><p>ç«¥å¯éœ²å‡ºè™ç‰™è¯´ï¼šä½ è¦æ˜¯æ¬ é…’å–å°±å»æ‰¾ä½ é‚£ç¾¤å“¥ä»¬å•Šï¼Œåˆ«æƒ³ç€æŠŠæˆ‘çŒé†‰äº†åšåäº‹ã€‚</p><p>æˆ‘å–ä¸‹ä¸€å¤§å£é…’ï¼Œæƒ³èµ·äº†å¾ˆå¤šäº‹ï¼Œå¹äº†å£æ°”è¯´ï¼šè¿™ä¸ªåœ°æ–¹ï¼Œå¥½åƒæ²¡æœ‰èƒ½é™ªæˆ‘å–é…’çš„å“¥ä»¬äº†ã€‚</p><p>ç«¥å¯çœ‹å‡ºæˆ‘ä¸é«˜å…´ï¼Œæ‹¿èµ·é…’ç»™æˆ‘å€’ä¸Šä¸€æ¯ï¼Œç„¶åé™ªæˆ‘å–èµ·æ¥ï¼Œé‚£å¤©æ™šä¸Šæˆ‘ä»¬éƒ½é†‰äº†ï¼Œæˆ‘ä»¬ä¾ååœ¨åºŠä¸Šï¼Œç«¥å¯æ•´ä¸ªè„¸éƒ½çº¢äº†ï¼Œå¥¹æŠŠè„¸åŸ‹åœ¨æˆ‘èƒ¸å‰è¯´ï¼šåˆ«æ€•ï¼Œä½ è¿˜æœ‰æˆ‘å‘¢ã€‚</p><p>å¤–é¢ä¸‹èµ·äº†å¤§é›¨ï¼Œæ»´æ»´ç­”ç­”ï¼Œæˆ‘æŠ±ç€æ€€é‡Œçš„æŸ”è½¯è§‰å¾—è‡ªå·±çœŸçš„è¶³å¤Ÿå¹¸è¿ã€‚</p><p>ç”Ÿæ´»å´æ€»æ˜¯çˆ±å¼€ç©ç¬‘ï¼Œè¶Šæ˜¯æƒ³æŠ“ä½çš„è¶Šæ˜¯å®¹æ˜“æºœèµ°ï¼Œå¹´è½»çš„æ—¶å€™æˆ‘ä»¬ä»¥ä¸ºèƒ½å¤ŸæŒæ¡ä¸€åˆ‡ï¼Œè¿‡åæ‰äº†è§£æœ€ä¸å—æ§åˆ¶çš„å°±æ˜¯è‡ªå·±çš„ç”Ÿæ´»ï¼Œç«¥å¯ä¹Ÿç¦»å¼€äº†æˆ‘çš„ä¸–ç•Œã€‚</p><p>å†è§å·²æ˜¯å¬é—»é£é£ï¼Œç«¥å¯ç»“å©šçš„æ¶ˆæ¯ï¼ŒåŒä¸€å¤©ï¼ŒåŒä¸€é—´é…’åº—ï¼Œè§è¯äº†å¥¹ä»¬æ— ä¸ä¼¦æ¯”çš„å‹è°Šï¼Œæˆ‘å’Œæ•¬æ·®ç©¿çš„è¥¿è£…ç¬”æŒºçš„å»èµ´å®´ï¼Œå½“å¥¹ä»¬èµ°ä¸Šç¤¼å°çš„é‚£ä¸€ç¬ï¼Œæˆ‘å’Œæ•¬æ·®å¹²äº†ä¸€æ¯ï¼Œç”¨è‹¦é…’é¡¶ä½å¤ºçœ¶è€Œå‡ºçš„çœ¼æ³ªã€‚</p><p>æ•£åœºçš„æ—¶å€™æˆ‘ä»¬å››ä¸ªäººç›¸äº’æ‹¥æŠ±ï¼Œé£é£å¯¹æ•¬æ·®è¯´ï¼šå’±ä»¬ä»¥åè¦æ¯”èµ›ï¼Œçœ‹è°è¿‡çš„æ›´å¹¸ç¦ï¼Œä½ å¯ä¸èƒ½è¾“ã€‚</p><p>ç«¥å¯å¹äº†å£æ°”è¯´ï¼šä¸åœ¨ä¸€èµ·å°±ä¸å†ä¸€èµ·å§ï¼Œåæ­£ä¸€è¾ˆå­ä¹Ÿæ²¡æœ‰å¤šé•¿ã€‚</p><p>æˆ‘å’Œæ•¬æ·®çº¢ç€çœ¼ç‚¹äº†ç‚¹å¤´ã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h9cwyyjtiej32yo1o0npd.jpg" alt="é»‘è‰²å£ç½©"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€äº›å…³äºå¿åŸçš„è®°å¿†</title>
    <link href="/2022/12/13/gossip-16/"/>
    <url>/2022/12/13/gossip-16/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>æ‚²ä¼¤æ˜¯å¥¢é¥°å“æˆ‘æ¶ˆå—ä¸èµ·ï¼Œå¿«ä¹åƒå™©æ¢¦æ€»è®©äººæƒŠé†’ã€‚</p>          </div><p>å¯¿å¿æ˜¯ä¸€ä¸ªå……æ»¡é£åœŸäººæƒ…çš„åœ°æ–¹ï¼Œé™¤äº†å—é—¨ï¼Œåˆ«çš„åŸé—¨ä¸­éƒ½æ˜¯çŸ³æ¿é“ºçš„è·¯ï¼Œæœªç»è¿‡ç°ä»£åŒ–å»ºè®¾çš„è·¯ä¸Šå¸ƒæ»¡äº†æ·±æ·±çš„è½¦è¾™ï¼Œæ˜ ç…§å‡ºå®ƒç»å†çš„æ•°ç™¾å¹´å†å²ï¼Œå¯¼æ¸¸ä¸€èˆ¬æ˜¯è¿™æ ·è¯´çš„ã€‚</p><p>å®é™…å¦‚æœæ¯å¤©éƒ½éœ€è¦ç»è¿‡éå—é—¨çš„è¯ï¼Œæ‰çŸ¥é“è¿™æ‰€è°“è§è¯å†å²æ·±æ·±çš„è½¦è¾™æœ‰å¤šçƒ¦äººã€‚éª‘ç”µåŠ¨è½¦ï¼Œè‡ªè¡Œè½¦ï¼Œå¤§å¤šæ•°æ—¶å€™åªèƒ½ä¸‹æ¥æ¨ç€èµ°ï¼Œå› ä¸ºéª‘è½¦çš„è¯ï¼Œè½¦è½®æ»‘è¿›è½¦è¾™é‡Œï¼Œå¾ˆå®¹æ˜“æ‘”å€’ï¼Œä¸€æ–¹é¢ä¹Ÿç®—é™ä½äº†å¿åŸçš„ç”Ÿæ´»èŠ‚å¥å§ã€‚</p><p>æ˜¯å•Šè¿™ä¸ªå¿åŸçš„ç”Ÿæ´»æ˜¯ç¼“æ…¢çš„ï¼Œå› ä¸ºä¸€åˆ‡éƒ½ä¸éœ€è¦ç€æ€¥ï¼Œ20åˆ†é’Ÿç”µåŠ¨è½¦è¡Œé©¶çš„è·¯ç¨‹å¯ä»¥æŠµè¾¾å¿åŸä¸­ä»»æ„ä¸€ä¸ªå··å­ï¼Œæˆ–ä¸€ä¸ªè§’è½ã€‚ä½•å¿…é‚£ä¹ˆç€æ€¥ã€‚èµ°åœ¨å—å¤§è¡—ä¸Šï¼Œæœ‰è“¬å£è¾‰ç…Œçš„å¤§é…’åº—ï¼Œä¹Ÿæœ‰æ¥åœ°æ°”çš„è·¯è¾¹æ‘Šã€‚å¹´è¿ˆå¤«å¦‡åœ¨å··å£å–çƒ§é¥¼ï¼ŒèƒŒç€ä¹¦åŒ…çš„å­¦ç”Ÿåœ¨èœœé›ªå†°åŸå‰ç­‰é¥®æ–™ã€‚è¡—ä¸Šèƒ½çœ‹è§å…‰é²œäº®ä¸½çš„æ—¶å°šå§‘å¨˜ï¼Œä¹Ÿèƒ½çœ‹è§ç¨šæ°”æœªè¤ªçš„é«˜ä¸­ç”Ÿï¼Œä¹°å®Œç‚¸é¸¡æ’çš„å§‘å¨˜è½¬å¤´è·‘åˆ°çƒ§é¥¼æ‘Šå‘æ‘Šä¸»ä¹°ä¸¤ä¸ªçƒ§é¥¼ï¼Œä¹°äº†ä¸¤ä¸ªçƒ§é¥¼çš„å¹´è½»å¤«å¦‡ï¼Œè½¬èº«åè¿›äº†è±ªåè½¿è½¦ï¼Œä¸åŒæ—¶ä»£çš„äº§ç‰©åœ¨è¿™æ¡è¡—ä¸Šå¹¶ä¸å†²çªã€‚</p><div class="note note-info">            <p>æƒ…äººä¸€èµ·çœ‹è¿‡å¤šå°‘æ¬¡æœˆäº®ï¼Œå®ƒåœ¨å¤©ç©ºçœ‹è¿‡å¤šå°‘æ¬¡é—å¿˜ã€‚</p>          </div><p>æˆ‘çœ‹è¿‡äº†è¿™ä¸ªå¿åŸçš„æ˜¥å¤ç§‹å†¬ï¼Œå®ƒä¹Ÿçœ‹äº†æˆ‘å’Œæˆ‘æœ‹å‹ä¸‰å¹´é—´çš„åˆ†åˆ†åˆåˆã€‚</p><p>åœ¨è¿™é‡Œæˆ‘äº¤äº†å¾ˆå¤šæœ‹å‹ï¼Œç„¶åé™†ç»­å„è‡ªåˆ†é“æ‰¬é•³ï¼Œé‡åˆ°äº†ä¸€ç”ŸæŒšçˆ±çš„å§‘å¨˜ï¼Œä¹Ÿåœ¨å…µè’é©¬ä¹±çš„æ—¶æœŸåˆ†æ‰‹ã€‚è¿™ä¸ªåœ°æ–¹ï¼Œè®©æˆ‘å¼€å¿ƒï¼Œä¹Ÿè®©æˆ‘éš¾è¿‡ã€‚</p><p>æ•¬æ·®æ˜¯å’Œæˆ‘ç¡è¿‡ä¸€å¼ åºŠçš„å¥½æœ‹å‹ï¼Œå°è±¡ä¸­å½“æ—¶æ•¬æ·®å¸…çš„åƒæ¼«ç”»ä¸­ç”·ä¸»èµ°å‡ºæ¥çš„ä¸€æ ·ï¼Œæˆ‘ç°åœ¨æ¥å½¢å®¹å°±æ˜¯æ˜¯ç«¥é”¦ç¨‹é‚£æ¬¾çš„ï¼Œé«˜ä¸­é‚£ä¼šæ€»ä¼šæœ‰å§‘å¨˜åœ¨çª—å¤–çœ‹ä»–ï¼Œæ”¾å­¦ä¼šè¢«å§‘å¨˜å µç€å‘Šç™½ï¼Œä½†æ˜¯ä»–å´ä¸åƒç«¥é”¦ç¨‹é‚£æ ·ã€‚</p><p>æ•¬æ·®ä¸æ•¢è°ˆæ‹çˆ±ï¼ŒåŸå› æ˜¯æ•¬æ·®æœ‰ç‚¹ä¼¸ä¸å¼€æ‰‹ï¼Œhe is poorï¼Œä»–çˆ¸çˆ¸æ˜¯å¿«é€’å‘˜ï¼Œä»–å¦ˆå¦ˆåœ¨èœåœºä¸Šå–èœï¼Œæ¯ä¸ªæœˆä¹Ÿåªæœ‰ç´§å·´å·´çš„ç™¾åæ¥å—é’±çš„ç”Ÿæ´»è´¹ã€‚é‚£ä¼šä½“è‚²è¯¾çˆ±è¸¢è¸¢çƒï¼Œä¸€æ¬¡è¸¢çƒï¼Œæ•¬æ·®çš„çƒé‹é‹åº•ç›´æ¥é£äº†å‡ºå»ï¼Œæˆ‘ä»¬ä¸€ç¾¤äººå“ˆå“ˆå¤§ç¬‘ï¼Œæ•¬æ·®ä¹Ÿè·Ÿç€æˆ‘ä»¬ç¬‘ï¼Œè¯´ï¼šä»¥åä½ ä»¬åˆ«æ‰¾æˆ‘è¸¢çƒäº†ï¼Œå› ä¸ºè¿™æ˜¯æˆ‘æœ€åä¸€åŒèƒ½è¸¢çƒçš„é‹äº†ã€‚</p><p>å†åæ¥çš„ä¸€ä¸ªåœ£è¯èŠ‚ï¼Œæ•¬æ·®æ”¶åˆ°ä¸€ä»½åœ£è¯ç¤¼ç‰©ï¼Œæ‰“å¼€ä»¥åçœ‹åˆ°æ˜¯ä¸€åŒå´­æ–°çš„çƒé‹ï¼Œæ•¬æ·®æœ‰ç‚¹å“åˆ°äº†ï¼Œå› ä¸ºè¿™åŒé‹çš„ä»·æ ¼å¯¹äºé«˜ä¸­ç”Ÿæ¥è¯´æ˜¯ç¬”å·¨æ¬¾ã€‚æˆ‘ä»¬éƒ½çŸ¥é“æ˜¯é£é£é€çš„ï¼Œå› ä¸ºé£é£ç‰¹åˆ«å–œæ¬¢æ•¬æ·®ï¼Œè€Œä¸”å®¶å¢ƒå¾ˆå¥½ã€‚æ•¬æ·®æ”¾å­¦åæŠŠçƒé‹è¿˜ç»™é£é£ï¼Œä»–è¯´ï¼Œè¿™ç¤¼ç‰©æœ‰ç‚¹è¶…è¿‡æˆ‘çš„æ¥å—èŒƒå›´äº†ï¼Œå°±æ˜¯å¤ªè´µäº†ï¼Œæˆ‘ä¸èƒ½æ”¶ã€‚</p><p>é£é£å‰ªç€ä¿çš®çš„çŸ­å‘ç¬‘ç€è¯´ï¼šä½ æ€ä¹ˆçŸ¥é“æ˜¯æˆ‘é€çš„ï¼Ÿ</p><p>æ•¬æ·®çº¢ç€è„¸è¯´ï¼šåœ°çƒäººéƒ½çŸ¥é“äº†ã€‚</p><p>é£é£æŠŠçƒé‹å¡å›æ•¬æ·®çš„æ‰‹ä¸­è¯´ï¼Œä½ è¿˜ç»™æˆ‘æˆ‘ä¹Ÿé€€ä¸æ‰å•Šï¼Œå°±å½“é€ä½ äº†ï¼Œå†è¯´æˆ‘çœ‹ä½ ä¹ŸæŒºçˆ±è¸¢çƒçš„ã€‚</p><p>è‡ªé‚£ä»¥åæ•¬æ·®æ¯æ¬¡è¸¢çƒï¼Œé£é£éƒ½ä¼šåœ¨æ—è¾¹ç»™æ•¬æ·®åŠ æ²¹æ‰“æ°”ï¼Œå¤§å–Šï¼Œæ•¬æ·®ï¼Œå°„å•Šï¼</p><p>æ•¬æ·®ä¸€ä¸ªè¶”è¶„ï¼Œå·®ç‚¹æ‘”ä¸ªç‹—å•ƒæ³¥ã€‚é«˜ä¸­ç»“æŸä»–ä»¬ä¸¤ä¸ªå°±åœ¨ä¸€èµ·äº†ï¼Œå› ä¸ºå®¶åº­ç¯å¢ƒä¸åŒï¼Œå¾ˆå¤šè§‚å¿µä¸åŒï¼Œæ‰€ä»¥ä»–ä»¬ç»å¸¸äº‰åµï¼Œé£é£è§‰å¾—æ•¬æ·®è‡ªå°Šå¿ƒå¤ªé‡ï¼Œæ•¬æ·®è§‰å¾—é£é£å¤ªå¨‡æ°”äº†ï¼Œæœ€åè¿˜æ˜¯åˆ†æ‰‹äº†ã€‚æ•¬æ·®å†³å®šå¤–å‡ºæ‰“å·¥ï¼Œå¤–å‡ºçš„å‰ä¸€æ™šï¼Œå¤§å®¶èšåœ¨å¤œæ‘Šå‰ï¼Œç›¸èšæ— è¨€ï¼Œå–é…’å–é…’ï¼Œæˆ‘ä»¬éƒ½ä¸æ˜¯æ“…é•¿è¡¨è¾¾æƒ…ç»ªçš„äººï¼Œä½†æ˜¯é‚£æ™šï¼Œæ‰€æœ‰äººéƒ½æŠŠæƒ…ç»ªå†™åœ¨äº†è„¸ä¸Šï¼Œæ•¬æ·®æ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨å¾®ç¬‘çš„äººï¼Œä»–è¯´ï¼šç­‰æˆ‘åœ¨é‚£è¾¹è¦æ˜¯æ··å¥½äº†ï¼Œæˆ‘å°±å¼€ä¸ªå¤§å…¬å¸ï¼ŒæŠŠå“¥å‡ ä¸ªéƒ½æ‹‰è¿›å»å…»è€ã€‚</p><p>æˆ‘å¼ºé¢œæ¬¢ç¬‘çš„è¯´åˆ°ï¼Œå¥½å•Šï¼Œåˆ°æ—¶å€™è®°å¾—å¼€æ³•æ‹‰åˆ©æ¥æ¥æˆ‘ä»¬ã€‚</p><p>æ•¬æ·®ç«¯èµ·é…’æ¯è¯´ï¼šå¿…é¡»çš„ã€‚ä¾¿ä¸€é¥®è€Œå°½ã€‚</p><p>å¤©ä¸‹æ²¡æœ‰ä¸æ•£çš„å®´å¸­ï¼Œè¨€ç½¢ï¼Œæ•¬æ·®èƒŒç€åŒ…æ‘‡æ‘‡æ™ƒæ™ƒçš„ç«™äº†èµ·æ¥ï¼Œæˆ‘ä»¬æƒ³è¦è¦é€ä»–ï¼Œä»–å´ä¸è®©ï¼Œæ‘†æ‘†æ‰‹ä¸€ä¸ªäººä¾¿èµ°äº†ã€‚æ•¬æ·®èµ°äº†ä¸åˆ°ååˆ†é’Ÿï¼Œé£é£å“­æˆä¸€ä¸ªæ³ªäººè·‘äº†è¿‡æ¥ï¼ŒçŸ¥é“æ•¬æ·®å·²ç»èµ°äº†ï¼Œå¥¹è¹²åœ¨åœ°ä¸Šå“­çš„åƒä¸ªå­©å­ã€‚</p><p>æˆ‘è¿‡å»æƒ³è¦æ‹‰èµ·é£é£ï¼Œæ²¡ç­‰æˆ‘å¼€å£ï¼Œé£é£è¯´ï¼šåˆ«ç¢°æˆ‘ï¼Œæˆ‘åªæ˜¯æœ‰ç‚¹ä¸å¼€å¿ƒï¼Œè®©æˆ‘å“­ä¸€ä¼šã€‚</p><p>æˆ‘åŠå¥¹ï¼Œé£é£ï¼Œå¤§å®¶åšæœ‹å‹å…¶å®ä¹ŸæŒºå¥½çš„ã€‚</p><p>é£é£è¹²åœ¨åœ°ä¸Šæ–œç€è„‘è¢‹çº¢ç€çœ¼ç›çœ‹ç€æˆ‘è¯´ï¼šæˆ‘ï¼Œä¸æ˜¯çœŸçš„è¦ä»–èµ°ï¼Œæˆ‘é‚£åªæ˜¯æ°”è¯è€Œå·²ï¼Œä»–ï¼Œï¼Œå¤ªæ¬ºè´Ÿäººäº†ã€‚</p><p>æ•¬æ·®å’Œé£é£ä¹‹é—´æ˜¯å‘ç”Ÿäº†ä¸€äº›åšæœ‹å‹ä¹Ÿæ²¡åŠæ³•çŸ¥é“çš„äº‹æƒ…ï¼Œè¿™æ˜¯ä»–ä»¬ä¸¤ä¸ªäººä¹‹é—´çš„äº‹ã€‚æˆ‘å†æ¬¡å°è¯•æŠŠé£é£æ‹‰èµ·æ¥ï¼Œè¿™æ¬¡é£é£æ²¡æœ‰æ‹’ç»ã€‚</p><p>é£é£å§”å±ˆçš„æ‰‘åˆ°æˆ‘æ€€é‡Œå¤§å“­ï¼Œé‚£ä¸ªæ·±å¤œï¼Œæˆ‘åœ¨è¿™ä¸ªåœ°æ–¹ç¬¬ä¸€æ¬¡æ„Ÿå—åˆ°äº†å½»éª¨çš„å¯’æ„ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯çœ¼æ³ªæ´’åœ¨æˆ‘æ€€é‡Œçš„åŸå› ã€‚</p><p>æœªå®Œå¾…ç»­â€¦</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h98yi19nsej32yo1o07wh.jpg" alt="å·´å›¾BaTu"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å›å­å½“å¦‚å…°</title>
    <link href="/2022/12/07/gossip-15/"/>
    <url>/2022/12/07/gossip-15/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>æ—©å¹´åŒçª—å§‹ç›¸çŸ¥ï¼Œä¸‰è½½ç¬é€æƒ…å´èŒã€‚å¹´å°‘ä¸çŸ¥æ„æ»‹å‘³ï¼ŒçŠ¹è¯»çº¢è±†ç”Ÿå—å›½ã€‚åˆ«ç¦»æ–¹çŸ¥ç›¸æ€è‹¦ï¼Œå¿ƒç”°çº¢è±†æ ¹ä»¥ç”Ÿã€‚</p>          </div><p>å†å¬å°§åä¸‰ï¼Œä¸€äº›æ­Œå·²ç»æ‰¾ä¸åˆ°äº†ï¼Œå†å›çœ‹éº»æ²¹å¶ï¼Œçœ¼çœ‹ä»–èµ·é«˜æ¥¼ï¼Œçœ¼çœ‹ä»–å®´å®¾å®¢ï¼Œçœ¼çœ‹ä»–æ¥¼å¡Œäº†ã€‚</p><p>æˆ‘ä»¥ä¸ºæˆ‘ä»¬æ²¡æœ‰å½“é¢çš„è¯´å†è§ï¼Œå°±è¯´æ˜æˆ‘ä»¬è¿˜æœ‰å†è§çš„æœºä¼šã€‚</p><p>æˆ‘ä»¥ä¸ºæˆ‘å¥³äººç¼˜å¾ˆå¥½ï¼Œæ˜¯ä¸€ä¸ªè§ä¸€ä¸ªçˆ±ä¸€ä¸ªçš„äººï¼Œæˆ‘è¿˜ä»¥ä¸ºæˆ‘æ˜¯ä¸ªä¼šå¾ˆå®¹æ˜“å»çˆ±ä¸€ä¸ªäººï¼Œç„¶åå¾ˆå¿«çš„æŠŠå¥¹å¿˜æ‰çš„äººã€‚</p><p>æˆ‘ä»¥ä¸ºæˆ‘è‹¦è‹¦å“€æ±‚çš„è¯ï¼Œè¿˜èƒ½æ¢å›å¥¹å†å›å¤´çœ‹æˆ‘ä¸€çœ¼ã€‚</p><p>å…°ï¼Œä½†æœ‰äº›è¯æˆ‘è¿˜æ˜¯æƒ³è¯´ã€‚</p><p>é¦–å…ˆæˆ‘è¦è¯´ï¼Œä½ æŒºè®¨äººåŒçš„ï¼Œä½ å–œæ¬¢çš„æ­ŒæŒºä¿—çš„ï¼Œè€Œä¸”å¤šå°‘éƒ½å¸¦ç‚¹é¢œè‰²ï¼Œä½ å±…ç„¶è·Ÿæˆ‘è¯´ï¼Œè¿™ç§å«åšæ–‡è‰ºï¼Œå«æ°‘è°£ï¼Œä½ æ€»è§‰å¾—è‡ªå·±èº«æå¾ˆå¥½ï¼Œä½ æ²¡å‘ç°ä½ çš„è‚šå­ä¸Šæœ‰èµ˜è‚‰å˜›ï¼Œè€Œä¸”æŒ¤ä¹³æ²Ÿæ˜¯ä¸€ä»¶è™šè£çš„äº‹ï¼Œå°±åƒç”·ç”Ÿçš„è‡ªæ¬ºæ¬ºäººå°ºä¸€æ ·ï¼Œæ˜¯ä¸€ç§æ²¡è‡ªä¿¡çš„è¡¨ç°ã€‚</p><p>ä½ å˜´å·´æŒºå‰å®³ï¼Œè¯´è¯æ€»çˆ±æˆ³äººç—›å¤„ï¼Œä½ è¿˜å–œæ¬¢å’Œæˆ‘è¯´ä½ çš„å‰ä»»ï¼Œä½ è¯´å‰ä»»çš„æ ·å­ï¼ŒçœŸä¸‘ã€‚æˆ‘å½“æ—¶æ˜¯ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œå¯æ˜¯æˆ‘èƒ½æ€ä¹ˆåŠï¼Œæˆ‘å°±ä¸€ä¸ªé«˜ä¸­ç”Ÿï¼Œæ—¥æœ¬åŠ¨æ¼«çœ‹å¤šäº†ï¼Œä»¥ä¸ºé«˜ä¸­ç”Ÿéƒ½èƒ½æ‹¯æ•‘ä¸–ç•Œä¹ˆã€‚</p><p>ä½†ä¸å¾—ä¸è¯´ï¼Œä½ ç¡®å®æ˜¯ä¸ªæŠ€æœ¯é«˜è¶…çš„å¥³ç”Ÿã€‚åä¸ƒå…«å²çš„å¹´çºªï¼Œæˆ‘ä»¬ä»ç´ ä¸ç›¸è¯†ï¼Œåˆ°æ»šåºŠå•åªç”¨äº†åŠä¸ªæœˆçš„æ—¶é—´ï¼Œæ»šå®ŒåºŠå•ï¼Œçœ‹ä½ ä¸€è„¸äº«å—çš„èººåœ¨åºŠä¸Šï¼Œæˆ‘é—®ï¼Œä½ æ€ä¹ˆæ²¡å“­å•Šï¼Œä½ è¯´ï¼Œä½ æ˜¯ä¸æ˜¯è¨€æƒ…å°è¯´çœ‹å¤šäº†ï¼Œå¤„å¥³ä¹Ÿä¸ä¸€å®šä¼šå“­å•Šï¼Œæ›´ä½•å†µæˆ‘å·²ç»ä¸æ˜¯å¤„å¥³äº†ï¼Œç„¶åä¾¿æ­ªè¿‡å¤´ç¡å»ã€‚æˆ‘æ€…ç„¶è‹¥å¤±çš„èººåœ¨åºŠä¸Šï¼Œå‘†å‘†çš„çœ‹ç€å¤©èŠ±æ¿ï¼Œå¾ˆä¹…ä¹Ÿæ²¡ç¡ç€ã€‚</p><p>è™½ç„¶ä½ å¾ˆé…·ï¼Œä½ è¯´è¿™ç§å«é…·ï¼Œä½ åœ¨ä½ å§Šå¦¹é¢å‰é›·å‰é£è¡Œçš„æ ·å­ï¼Œåœ¨æˆ‘é¢å‰éª„å‚²çš„ä¸å¯ä¸€ä¸–çš„æ ·å­ï¼Œå¦‚æœä¸æ˜¯æˆ‘è§è¿‡ä½ å› å§Šå¦¹ä¸ç†è§£ä½ ï¼Œç„¶åå‘ä½ æ— ç†ç”±ä¸”å…‰æ˜æ­£å¤§çš„ç´¢å–çš„æ—¶å€™ï¼Œä½ å§”å±ˆå“­æ³£çš„æ ·å­ï¼Œä¹Ÿæ²¡å¿…è¦ä¸€ç›´ä¼ªè£…åšå¼ºçš„ã€‚</p><p>æ‚²ä¼¤åœ¨ä½ çš„èº«ä¸Šæ°¸è¿œä¸ä¼šåœç•™å¤ªä¹…ï¼Œæ€»æ˜¯ä¼šæœ‰æ–°çš„å¸Œæœ›å’Œå¿«ä¹åœ¨ä½ çš„ç”Ÿæ´»é‡Œç»½æ”¾ã€‚</p><p>ä½ æ€»æ˜¯çƒ­æƒ…æ´‹æº¢çš„é¢å¯¹ç”Ÿæ´»ï¼Œæ´»åŠ›æ»¡æ»¡çš„å»ä¸Šç­ï¼Œèº«å§¿å¦–å¨†çš„å»å¯»æ¬¢ï¼Œä¸ä¼šè®©åˆ«äººçœ‹åˆ°ä½ çš„å­¤ç‹¬å’Œä¸å®‰ã€‚</p><p>æœ€å¼€å§‹æˆ‘æ˜¯ä¸æ€ä¹ˆå–œæ¬¢ä½ çš„ï¼Œå› ä¸ºæˆ‘çœ‹è§çš„å°±æ˜¯ä½ èº«è¾¹å¼‚æ€§å¾ˆå¤šï¼Œä½ ä¼¼ä¹å¾ˆäº«å—è¿™ç§æ„Ÿè§‰ï¼Œè¿˜æœ‰æˆ‘ä¹Ÿä¸æ˜¯å¾ˆå–œæ¬¢ä½ çš„ç©¿è¡£æ‰“æ‰®ï¼Œæœ‰ç‚¹è¿‡äºæˆç†Ÿï¼Œç”šè‡³æœ‰ç‚¹åƒå¤œåº—é£æ ¼ï¼Œåœ¨æ•™å®¤é‡Œæˆ‘ä»¬ä¹Ÿæ˜¯äº’ç›¸çˆ±ç­”ä¸ç†çš„ã€‚ç¬¬ä¸€æ¬¡è¯´è¯åœ¨ç½‘å§é—¨å£ï¼Œæˆ‘æ—©ä¸Šæ— äº‹å»ä¸Šç½‘ï¼Œä½ æ—©æ™¨ä»ç½‘å§é‡Œå‡ºæ¥ï¼Œæˆ‘è¯´å¥ï¼ŒåŒ…å¤œç»“æŸäº†ï¼Ÿä½ ç¾æ¶©ä¸€ç¬‘ï¼Œä¾¿æ“¦èº«è€Œè¿‡ã€‚</p><p>æ•…äº‹å¼€å§‹äºä½ ååˆ°äº†æˆ‘çš„å‰æ¡Œï¼Œå¼€å§‹äºä½ é€’ç»™æˆ‘çš„ç¬¬ä¸€å¼ çº¸æ¡ï¼Œä½ é—®æˆ‘å–œæ¬¢ä»€ä¹ˆæ ·çš„å¥³ç”Ÿï¼Œä½ é—®æˆ‘ä½ å–œæ¬¢æˆ‘å—ï¼Œä½ é—®æˆ‘ä¸ºä»€ä¹ˆä¸ç»™ä½ å›ç­”ï¼Œä½ é—®æˆ‘è¦æƒ³å¤šä¹…ï¼Œä½ è¯´è¿‡äº†è¿™æ‘æ²¡æœ‰è¿™åº—äº†ï¼Œæœ¬å§‘å¨˜ä¹Ÿæ˜¯è¦é¢å­çš„ã€‚</p><p>æˆ‘é€‰æ‹©äº†ä½ ï¼Œä½ é€‰åˆ°äº†æˆ‘ï¼Œå°±è¿™æ ·ï¼ŒåŸæœ¬çœ‹èµ·æ¥æ¯«æ— å…³è”çš„æˆ‘ä»¬ï¼Œèµ°åˆ°äº†ä¸€èµ·ï¼ŒæƒŠå‘†äº†ç­é‡Œä¸€ä¼—åŒå­¦ã€‚</p><p>æˆ‘ä»¬çš„æ•…äº‹æ˜¯ä¸ªæ‚²å‰§ï¼Œè€Œæˆ‘æ˜¯ä¸ªä¸çŸ¥é“å‡ºæ¼”çš„æ˜¯æ‚²å‰§çš„ä¸€ä¸ªæ¼”å‘˜ï¼Œä½ åœ¨ä¸€å¼€å§‹å°±å†™å¥½äº†å‰§æœ¬ï¼Œä½†ä½ ä¸­é€”å…¥æˆå¤ªæ·±ï¼Œä½†å¥½åœ¨ä½ åŠæ—¶æ¸…é†’ã€‚è€Œæˆ‘å´æ²¡èƒ½åŠæ—¶èµ°å‡ºæ¥ï¼Œæˆ‘æŠŠé”™è¯¯æ½åœ¨æˆ‘èº«ä¸Šã€‚</p><p>å…°ï¼Œä½ è¿˜å¥½å—ï¼Ÿ</p><p>å¬è¯´ä½ é‡åˆ°äº†ä¸€ä¸ªå¾ˆå¥½çš„ç”·ç”Ÿï¼Œç›¸å¤„çš„æŒºæ„‰å¿«å§ã€‚</p><p>å¬è¯´ä½ ç©¿ä¸Šäº†æ¼‚äº®çš„å©šçº±ï¼Œåº”è¯¥å¾ˆå¹¸ç¦å§ã€‚</p><p>æœ€åï¼Œæ™šå®‰ã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h8wqjgydsoj33341xdqv5.jpg" alt="å¥³å­©"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è°ä¸æˆ‘</title>
    <link href="/2022/11/29/gossip-14/"/>
    <url>/2022/11/29/gossip-14/</url>
    
    <content type="html"><![CDATA[<p>äººäººéƒ½ä¼šæœ‰åŸåˆ™ï¼Œæˆ‘å¶å°”ä¼šæƒ³äººçš„åŸåˆ™æ˜¯æ€ä¹ˆæ¥çš„ï¼Œä¸€æœ¬ä¹¦ï¼Ÿä¸€ä¸ªæ®µå­ï¼Ÿäº¦æˆ–ä¸€å¥è¯ï¼Ÿ</p><p>ä¸‰ä¸å¨¶çš„åŸåˆ™ï¼Œç¬¬ä¸€æ¬¡çš„åŸåˆ™ï¼Œç©ç©åˆä¸å¨¶çš„åŸåˆ™ï¼Œç»“å©šéœ€æ‰¾åœˆå­å¹²å‡€çš„åŸåˆ™ï¼Œæˆ–è€…ä¸€äº›ä¸å–é…’ï¼Œä¸æŠ½çƒŸçš„åŸåˆ™ï¼Œç­‰ç­‰ã€‚</p><p>ç»£æ˜¥åˆ€ä¸­åŠ é’±å±…å£«è¯´ï¼Œè¿™ä¸ªäººå¯æ˜¯æˆ‘çš„æ‰‹è¶³å…„å¼Ÿï¼Œè‡³çˆ±äº²æœ‹å•Šï¼Œå¾—åŠ é’±ã€‚ä¸€äº›äººçš„åŸåˆ™ä¹Ÿå¥½ä¼¼å¦‚æ­¤ï¼Œæˆ‘æœ‰åŸåˆ™ï¼Œä½†ä»Šå¤©ä¸ºäº†xxxï¼›æˆ‘æ”¾å¼ƒäº†è‡ªå·±çš„åŸåˆ™ï¼Œxxxï¼Œè¿™ç§è¯è¯´å‡ºå£ï¼ŒåŸåˆ™ä¹Ÿå˜æˆäº†ä¸€ä¸ªç­¹ç ï¼Œè€Œä¸”è¿˜æ˜¯æœ€æ²¡æœ‰ä»·å€¼çš„ç­¹ç ï¼Œå“ªæ€•ä½ è‡ªå·±ä»¥ä¸ºå¾ˆå€¼é’±ã€‚</p><p>æˆ‘æ²¡æ–­å¥¶æ—¶æˆ‘çˆ¸å¦ˆå°±æŠŠæˆ‘æ‰”ç»™çˆ·çˆ·å¥¶å¥¶äº†ï¼Œåœ¨æˆ‘ä¸èƒ½è‡ªç†å‰ï¼Œæˆ‘å¯¹çˆ¸å¦ˆæ²¡æœ‰ä»€ä¹ˆå°è±¡ï¼Œå¤§è„‘æ˜¯ä¸ªå¾ˆèªæ˜çš„å™¨å®˜ï¼Œå®ƒåœ¨ä½ å›å¿†è¿‡å»çš„æ—¶å€™ï¼Œæ€»æ˜¯ä¼šæŠŠå¥½çš„å›å¿†ä¿å­˜çš„å¾ˆå®Œå¥½ï¼Œè€Œé‚£äº›ä¼¤ç—›çš„å›å¿†ï¼Œå¤§è„‘ä¼šå¸®ä½ æ…¢æ…¢æ·¡åŒ–ï¼Œæ®è¯´è¿™æ˜¯å¤§è„‘çš„ä¸€ç§ä¿æŠ¤æœºåˆ¶ã€‚</p><p>ç°å®å°±æ˜¯ï¼šå›å¿†çš„å†…å®¹æ˜¯å¤§è„‘å¸®ä½ ç²‰é¥°è¿‡åçš„ï¼Œè¯·ä½ åŠ¡å¿…çœ‹æ¸…å½“ä¸‹ã€‚</p><p>æˆ‘æœ‰ä¸ªå”ï¼Œæ˜¯æˆ‘çˆ¸çš„å¼Ÿå¼Ÿï¼Œæˆ‘æœ€å–œæ¬¢å¬ä»–è¯´çš„å°±æ˜¯ï¼Œèµ°ï¼Œå¸¦ä½ ä¸Šè¡—åƒé¥­ã€‚</p><p>ä»–å’Œæˆ‘çˆ¸å¦ˆä¸€æ ·ï¼Œç”Ÿå®Œå­©å­ä¾¿è¢«è¿«å¤–å‡ºè°‹ç”Ÿï¼Œå› ä¸ºä¸€å®¶äººçªåœ¨è€å®¶ä¸æ˜¯ä¸ªåŠæ³•ï¼Œé‚£ä¸ªå¹´ä»£ï¼Œæ²¡ç»å†è¿‡å¾ˆéš¾å»ä½“ä¼šï¼Œè€Œæˆ‘ä¹Ÿåªèƒ½å°è¯•ç€å»æƒ³è±¡ã€‚</p><p>æˆ‘å”æ¯å¹´è¿‡å¹´å›å®¶æ€»æ˜¯ä¼šå’Œæˆ‘è¯´ï¼Œèµ°ï¼Œå¸¦ä½ ä¸Šè¡—åƒé¥­ã€‚å›ºå®šçš„å¸¦æˆ‘ä»¬ä¸Šè¡—ï¼Œåƒè¡—ä¸Šé‚£å®¶ç‰›è‚‰é¢ï¼Œé‚£å®¶ç‰›è‚‰é¢ï¼Œæˆ‘é•¿å¤§åä¸€ä¸ªäººå»åƒè¿‡ï¼Œä½†è¿˜æ˜¯å°‘äº†ç‚¹ä»€ä¹ˆã€‚</p><p>æˆ‘å”ä»å°æ²¡è¯»ä»€ä¹ˆä¹¦ï¼Œä¸€å¼ ä¸é¥¶äººçš„å˜´è®©æˆ‘å”æ¢å·¥ä½œæ¢çš„å¾ˆå‹¤ï¼Œå’Œäº²æˆšå„ç§æ–­æ¥å¾€ï¼Œæˆ‘çˆ·çˆ·å¸¸å¬åˆ°ä»–ä¸å¥½çš„æ¶ˆæ¯ï¼Œä¹Ÿåªèƒ½æ‰“ç”µè¯è¿‡å»ï¼Œä¸€é€šæ•°è½ï¼Œç„¶åæ— å¥ˆçš„å‚ä¸‹çœ¼ç›ï¼Œåœ¨æŒ‚æ–­ç”µè¯ã€‚</p><p>ä½†å®é™…ä¸Šæˆ‘å”äººå¹¶ä¸åï¼Œåªæ˜¯æ€§å­æ¯”è¾ƒæ€¥ï¼Œæˆå¹´äººçš„å¼¯å¼¯ç»•ç»•ä»–ä¹Ÿæ‡‚ï¼Œä½†æ˜¯ä»–ä¸ä¼šç¼“å’Œç€å’Œåˆ«äººäº¤æµï¼Œæ‰€ä»¥æ€»æ˜¯å¼„å¾—ä¸€å›¢ç³Ÿã€‚</p><p>æˆ‘è®°å¾—æœ‰ä¸€å¹´è¿‡å¹´ï¼Œæˆ‘è¿˜å°ï¼Œæˆ‘å”ç»™æˆ‘å ‚å¼Ÿä¹Ÿå°±æ˜¯ä»–å„¿å­ä¹°äº†é¥æ§è½¦ï¼Œæˆ‘çˆ¸å¦ˆä»€ä¹ˆä¹Ÿæ²¡ç»™æˆ‘ä¹°ï¼Œæˆ‘å½“æ—¶å§”å±ˆçš„å°±å“­äº†ï¼Œç„¶åï¼Œç¬¬äºŒå¤©ä¸€å¤§æ—©ï¼Œæˆ‘å”å°±å¸¦æˆ‘ä¸Šè¡—ä¹°äº†ä¸€ä¸ªé¥æ§è½¦ã€‚</p><p>ä¸Šåˆä¸­åï¼Œæš‘å‡æˆ‘ä¼šåˆ°çˆ¸å¦ˆé‚£è¾¹è¿‡ä¸€é˜µå­ï¼Œæˆ‘æ€»æ˜¯å–œæ¬¢åˆ°æˆ‘å”å®¶ç”Ÿæ´»ï¼Œå› ä¸ºå”å®¶å½“æ—¶æœ‰å†°ç®±ï¼Œåšèœä¹Ÿå¥½åƒï¼Œæˆ‘å”ä¹Ÿæ˜¯ä¸ªæœ‰è¶£çš„äººï¼Œä»–æ™šä¸Šä¸‹ç­ä¼šå¸¦æˆ‘ä»¬åˆ°å„ç§ç¤¾åŒºæ´»åŠ¨ç‚¹ç©ï¼›æ¯å¹´æš‘å‡ä»–ä¹Ÿä¼šæƒ³æ–¹è®¾æ³•å¾—å¸¦æˆ‘ä»¬å‡ºå»ç©ä¸€åœˆï¼Œä»–è¯´è¦å¸¦å­©å­ä»¬è§è§ä¸–é¢ï¼Œä½†å…¶å®æˆ‘å”ä¸€ä¸ªäººå´ä»æ¥èˆä¸å¾—å‡ºå»ç©ï¼Œä»–çš„ä¸åœ¨æ„ï¼Œè®©æˆ‘ä»¥ä¸ºå½“æ—¶çš„ä»–æŒºæœ‰é’±çš„ï¼Œå›çœ‹ï¼Œä¸‡ç§æ€ç»ªï¼Œå´ä¸çŸ¥ä»ä½•è¯´èµ·ã€‚</p><p>åæ¥å¼€çªäº†ç‚¹ï¼ŒçŸ¥é“è‡ªå·±ä¸é€‚åˆè¿›å‚ï¼Œç„¶åè‡ªå·±è€ƒäº†ä¸€ä¸ªé©¾ç…§ï¼Œç„¶åæå‡ºè‡ªå·±çš„ç§¯è“„ï¼Œä¹°äº†ä¸ªå°æ±½è½¦ï¼Œåœ¨å¤§åŸå¸‚è·‘é»‘è½¦ï¼Œä¸€ä¸¤å¹´é‡Œåˆ°ä¹Ÿæ··çš„é£ç”Ÿæ°´èµ·ï¼Œè¿‡å¹´å›å®¶æ—¶ä»åŒ…é‡Œæå‡ºä¸€æ²“ä¸€æ²“çš„äººæ°‘å¸ï¼Œä¸¤çœ¼æ”¾å…‰çš„å¯¹æˆ‘è¯´ï¼Œçœ‹çœ‹ï¼Œå”ä»Šå¹´èµšäº†è¿™ä¹ˆå¤šé’±ã€‚</p><p>ä½†è¿™è¡Œæ€»å½’ä¸æ˜¯ä¸€ä¸ªæ­£ç»è¡Œå½“ï¼Œåæ¥çš„å¹´å¤´å…‰æ™¯ä¸å¥½ï¼ŒåŠ ä¸Šå¤§åŸå¸‚å¯¹éæ³•è¥è¿è½¦è¾†çš„æŸ¥ç½šåŠ›åº¦å˜å¤§ï¼Œå”çš„æ—¥å­ä¸å¥½è¿‡ï¼Œé€†å¢ƒä¹‹ä¸‹çš„ä»–å¥½åƒå˜äº†ä¸€ä¸ªäººï¼Œå¼€å§‹å¯¹èº«è¾¹çš„äººæŠ±æœ‰å¾ˆå¤§çš„æ¶æ„ã€‚</p><p>æœ‰æ¬¡è¿‡å¹´å›å®¶ï¼Œæˆ‘åœ¨é‚£é‡Œæ‰“ç‰Œï¼Œæˆ‘å”åœ¨æˆ‘åé¢ï¼Œä¸€ä¼šä¸€å¥ï¼Œæ€ä¹ˆèƒ½è¿™æ ·æ‰“å‘¢ï¼Œè¿™äº›å¹´ä¹¦éƒ½ç™½å¿µäº†ï¼Œä½ è¿™ç‰Œæ‰“çš„ï¼Œå¿µè¿™ä¹ˆå¤šä¹¦æœ‰å•¥ç”¨ï¼Œæˆ‘ç”Ÿæ°”ç›´æ¥æŠŠç‰Œä¸€æ‘”ï¼Œè¯´ï¼Œå”ä½ æ¥ï¼Œä½ æ¥ï¼Œæˆ‘å”ä¹Ÿè®¸åªæ˜¯éšæ„æ‹äº†ä¸€ä¸‹æˆ‘è¯´ï¼Œäººä¸å¤§è„¾æ°”è¿˜ä¸å°ï¼Œæ‘”ç»™è°çœ‹ï¼Œæˆ‘çš„ç«ä¸€ä¸‹å°±è¢«ç‚¹ç€äº†ï¼Œæˆ‘å¾ˆå¤§åŠ›çš„æ¨äº†ä»–ä¸€ä¸‹ï¼Œä»–è¸‰è¸‰è·„è·„çš„åé€€ç›´åˆ°é åœ¨å¢™ä¸Šï¼Œæˆ‘è¯´ï¼Œå”ä½ æ˜¯ä¸æ˜¯æœ‰ç—…ï¼Œæˆ‘å”æ°”ä¹Ÿä¸Šæ¥äº†ï¼Œæ‹èµ·è¢–å­å°±è¦æ‰“æˆ‘ï¼Œè¢«å®¶é‡Œäººæ‹‰ä½ï¼Œæ‹‰ä½æ—¶ï¼Œå”è¿˜å˜Ÿå›”ç€ï¼Œè¿™å­©å­æ•¢å†²æˆ‘å‘è„¾æ°”ã€‚</p><p>æˆ‘ä¸€å¤©å¤©é•¿å¤§ï¼Œæ¯•ä¸šå·¥ä½œï¼Œè¿˜ç®—æ··çš„ä¸€ä¸ªä¸é”™çš„è¡Œå½“ï¼Œå†è§æˆ‘å”æ—¶ï¼Œæˆ‘å”æ²¡äº†é‚£ä¹ˆå¤šçš„å‚²æ°”ï¼Œæ˜¯æ¥è¦æˆ‘ç»™æˆ‘å ‚å¼Ÿçœ‹ä¸ªç”µè„‘ï¼Œæˆ‘å”è¯´ï¼Œç»™ä½ å¼Ÿçœ‹ä¸ªåˆé€‚çš„ç”µè„‘ï¼Œå·®ä¸å¤šå°±è¡Œï¼Œä¸è¦å¤ªå¥½ä¹Ÿä¸è¦å¤ªæ¬¡ï¼Œæˆ‘ä¸æ‡‚ï¼Œä½ æ‡‚ï¼Œä½ ç»™å¸®å¿™çœ‹çœ‹ï¼Œæˆ‘è¯´ï¼Œå¥½ï¼Œæˆ‘çŸ¥é“äº†ï¼Œæˆ‘ç»™çœ‹çœ‹ã€‚</p><p>æœ€è¿‘ä¸€æ¬¡è”ç³»æ˜¯è®©æˆ‘ç»™ä»–ä¹°æ‰‹æœºï¼Œå› ä¸ºæˆ‘æ‡‚ï¼Œè¯´ä¸è¦å¤ªè´µäº†ï¼Œå¤ªè´µçš„ç”¨åäº†å¿ƒç–¼ï¼Œä¸ƒå…«ç™¾å—é’±çš„å°±è¡Œäº†ï¼Œé¥æƒ³ï¼Œå½“æ—¶æˆ‘å”ä»–å¯æ˜¯ç”¨è¿‡ç¬¬ä¸€ä»£è‹¹æœæ‰‹æœºçš„ã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h8olcze9iij323w23wnpd.jpg" alt="ä¸­å›½é£ æ¢…èŠ±"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å†è§ä¸è§</title>
    <link href="/2022/11/16/gossip-13/"/>
    <url>/2022/11/16/gossip-13/</url>
    
    <content type="html"><![CDATA[<p>ä»¥æˆ‘çš„æˆç»©è¿›æˆ‘é«˜ä¸­çš„å®éªŒç­ï¼Œè¯´æ˜è¿™ä¸ªå­¦æ ¡å¥½å¥½è¯»ä¹¦çš„äººå¹¶ä¸å¤šï¼Œæˆ‘çš„åˆ¤æ–­æ ‡å‡†æ˜¯å› ä¸ºåƒæˆ‘æˆ‘è¿™æ ·ä¸å¥½å¥½å­¦ä¹ çš„äººä¹Ÿèƒ½è¿›å®éªŒç­ã€‚</p><p>é‚£å±Šé«˜ä¸­åˆ†äº†24ä¸ªç­ã€‚è¿™ä¸ªå­¦æ ¡åœ¨æˆ‘è€å®¶çš„å¿åŸé‡Œï¼Œæ˜¯æ‰€å…¬ç«‹é«˜ä¸­ã€‚</p><p>æˆ‘å¯¹å­¦æ ¡çš„è®¤çŸ¥éšç€æˆ‘çš„å­¦å†æ”¹å˜è€Œæ”¹å˜ï¼Œè¯»å°å­¦ï¼Œä¸€ä¸ªå¹´çº§ä¸€ä¸ªç­ï¼Œå…­ä¸ªå¹´çº§å¹³å‡ä¸‹æ¥ä¸€ä¸ªç­ä¸è¶…è¿‡35äººã€‚è¯»åˆä¸­ï¼Œä¸€ä¸ªå¹´çº§åˆ†äº†ä¸‰ä¸ªç­ï¼Œæ¯ä¸ªç­ä¸è¶…è¿‡50äººï¼Œè€Œåˆ°é«˜ä¸­ï¼ŒåŸæ¥ä¸€ä¸ªå¹´çº§æ˜¯å¯ä»¥åˆ†ä¸º24ä¸ªç­çš„ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ¥åˆ°è¿™ä¹ˆ<strong>å¤§</strong>çš„å­¦æ ¡ã€‚</p><p>ä»¥æˆ‘ç°åœ¨çš„ç»å†æˆ‘ä¾ç„¶ä¸èƒ½å¤Ÿç†è§£é«˜ä¸­å†›è®­çš„æ„ä¹‰ï¼Œä¸€ç¾¤åˆä¸­æ¯•ä¸šçš„æ¯›å­©ï¼Œä¸€ä¸ªäºŒbçš„æ•™å®˜ï¼Œé£é£ç«ç«çš„æ“ç»ƒä¸€ä¸ªæ˜ŸæœŸï¼Œæœ€åä»¥ç±»ä¼¼æ±‡æ¼”çš„èŠ‚ç›®ç»“æŸï¼Œé¢†å¯¼ååœ¨é¢†å¯¼å¸­ä¸Šçœ‹ç€å°ä¸‹çš„æˆ‘ä»¬ç‚¹ç‚¹å¤´ï¼Œç„¶åæ‹¿èµ·è¯ç­’ï¼Œç®€å•çš„è¯´ä¸¤å¥ã€‚é¼“é¼“æŒã€‚</p><p>å› ä¸ºå¤§å®¶éƒ½è¿™æ ·ï¼Œæ‰€ä»¥å°±è¿™æ ·ã€‚</p><p>æ®å†›è®­ç»“æŸè¿‡äº†ä¸€å‘¨çš„æ—¶é—´ï¼Œä»å†›è®­ç¼“è¿‡æ¥çš„æˆ‘ï¼Œä¸‹æ™šè‡ªä¹ ï¼Œèµ°å‡ºæ•™å®¤ï¼ŒæŠ»æŠ»è¢–å­ï¼Œç¼©ç¼©è„–å­å¾€å®¿èˆèµ°ï¼Œè¾¹èµ°è¾¹æƒ³ï¼Œè¿™ä¸ªå­¦æ ¡æŒºå¤§ï¼Œå¯è¿™å®¿èˆä¹Ÿå¿’å¯’æºäº†ï¼Œ</p><p>åæ¥æˆ‘çœ‹äº†ä¸€ç”µå½±ï¼Œç†è§£äº†ï¼Œå­¦æ ¡æŒ£é’±å˜›ï¼Œå­¦ç”Ÿä¸å¯’æºã€‚</p><p>å¤§æ°´æ± å¼€æ”¾å¼æ´—æ¼±é—´ï¼Œä¸€æ¡é¾™è¿è´¯å«ç”Ÿé—´ï¼ŒåŠ ä¸Šäº”æ¯›é’±ä¸€ç“¶çš„çƒ­æ°´ï¼Œè®©æˆ‘æ„ŸåŠ¨çš„è½äº†æ³ªã€‚</p><p>æƒ³èµ·äº†å½“æ—¶ä¸çŸ¥é“åœ¨å“ªå®¶ä¹¦åº—çœ‹çš„æ·˜å®çš„å‘å®¶å²ï¼Œé‡Œé¢çš„ä¸€å¥è¯ï¼Œå¤ªè®©æˆ‘å°è±¡æ·±åˆ»äº†ï¼Œä»¥è‡³äºæ•´æœ¬ä¹¦æˆ‘éƒ½å¿˜å®Œäº†ï¼Œå°±è®°å¾—è¿™ä¸€å¥ã€‚äº”æ¯›é’±çš„çƒ­æ°´ï¼Œä¸€åŠæ³¡è„šï¼Œä¸€åŠæ³¡é¢ï¼Œè¯´å½“æ—¶æ·˜å®åˆå§‹ä¹‹æ—¶ï¼Œå½“æ—¶è´Ÿè´£åœ°é¢æ¨é”€çš„å‘˜å·¥ï¼Œæ¯å¤©æ™šä¸Šï¼Œäº”æ¯›é’±çš„çƒ­æ°´ï¼Œä¸€åŠæ³¡è„šï¼Œä¸€åŠæ³¡é¢ã€‚æˆ‘è¿™ä¹Ÿå·®ä¸å¤šã€‚</p><p>å¯’çª—è‹¦è¯»ï¼Œæ²¡æœ‰è®©æˆ‘æˆç»©å˜å¥½ï¼Œé—´æ¥çš„æå‡äº†æˆ‘çš„éŸ§æ€§ï¼Œå› ä¸ºæ˜¯å¯’çª—æ˜¯çœŸçš„å¯’ï¼Œå¶å°”æ‰“çš„çƒ­æ°´ä¸çƒ­ï¼Œå†¬å¤©çš„è¡£æœç©¿äº†å¾ˆä¹…ï¼Œäº”å—é’±è¿˜æ˜¯å››å—é’±æ´—ä¸€æ¬¡çš„æ´—è¡£æœºé‡Œæ ¹æœ¬æ´—ä¸å¹²å‡€ï¼Œå­¦æ ¡æŒ£é’±å˜›ï¼Œä¸å¯’æºï¼Œæˆ‘å°±å‘¨æœ«æ‰“å¾ˆå¤šçƒ­æ°´ï¼Œæ³¡ä¸€æ³¡è‡ªå·±æ‰‹æ“ã€‚å¹²ä¸å¹²å‡€ä¸æ¸…æ¥šï¼Œæ¯”æ´—è¡£æœºæ´—çš„å¹²å‡€ã€‚</p><p>é«˜ä¸­ä¸‰å¹´é‡åˆ°ä¸¤å›æ£€æŸ¥å®¿èˆçš„ï¼Œå›æƒ³å¤šå°‘æœ‰ç‚¹å˜²è®½ï¼Œå½“æ—¶æˆ‘å‡­å€Ÿç€åˆä¸­ç‰©ç†å­¦çš„å¥½ï¼Œåœ¨å®¶æ¥è¿‡ç”µï¼Œåœ¨å®¿èˆé‡Œæ‹‰äº†æ ¹ç”µçº¿ï¼Œè£…äº†ä¸ªæ’åº§ï¼Œå¹³æ—¶æ‰‹æœºå……ç”µé—®é¢˜è§£å†³äº†ï¼Œçƒ­æ°´é—®é¢˜ä¹Ÿè§£å†³äº†ï¼Œå†æ²¡æ£€æŸ¥å®¿èˆä¹‹å‰ã€‚</p><p>å‘¨æœ«å›å®¿èˆè¿Ÿäº†ï¼Œå–Šå®¿ç®¡å¤§çˆ·å¼€é—¨ï¼Œå®¿ç®¡å¤§çˆ·æ²¡è¯´è¯ï¼Œå®¿ç®¡å¤§å¦ˆå¼€å§‹éª‚éª‚å’§å’§ï¼Œå¯’å†¬è…Šæœˆï¼Œå¤§çˆ·èµ·åºŠç»™å†»åäº†ä½ ä»¬è´Ÿè´£å˜›ï¼Œè‡ªé‚£ä»¥åï¼Œå›æ¥çš„æ—¶å€™æˆ‘çœ‹å®¿ç®¡å¤§çˆ·å¤§å¦ˆæˆ¿é—´ç¯ç†„äº†ï¼Œæˆ‘å°±ç¿»å¢™è¿›å»äº†ï¼Œå› ä¸ºæˆ‘è§‰å¾—å¤§å¦ˆè¯´çš„æœ‰é“ç†ã€‚</p><p>æ‰‹æœºå……ä¸€æ¬¡ç”µäº”æ¯›é’±ï¼Œå……ç”µå®åœ¨é‚£æ—¶å€™æ˜¯ä¸ªç´§ä¿ç©æ„ï¼Œæ‰‹æœºçš„ç”µæ± è¿˜æ˜¯å¯æ‹†å¸æ›´æ¢çš„ï¼Œé›·å†›çš„å°ç±³æ‰‹æœº1999è¿˜æ˜¯äº¤ä¸ªæœ‹å‹çš„å¹´ä»£ã€‚</p><div class="note note-info">            <p>æˆ‘å¤šé£å…‰ï¼Œä½ åˆ«é—¯å…¥æˆ‘å›´å¢™ã€‚</p>          </div><p>é—¯è¿›æ¥çš„æ˜¯æˆ‘åˆä¸­åŒå­¦å®‰å®‰ï¼Œå®‰å®‰æ˜¯æˆ‘åˆä¸­ç•™çº§ä¹‹åé‚£ä¸ªç­é‡Œçš„åŒå­¦ï¼Œç™½çš®è‚¤ï¼Œé¹…è›‹è„¸ï¼Œèº«æå¨‡å°ä½†åŒ€ç§°ã€‚</p><p>å½“æ—¶å®‰å®‰åæˆ‘å‰æ¡Œï¼Œç»å¸¸æ‰¾æˆ‘é—®é¢˜ç›®ï¼Œå…¶å®å°±æ˜¯è½¬ä¸ªèº«çš„äº‹ï¼Œå½“æ—¶è¯´æ˜¯é—®ï¼Œä½†æ›´å¤šåƒæ˜¯å‘½ä»¤ã€‚</p><p>æŠŠè¿™é¢˜ç»™æˆ‘è®²è®²ï¼Œè¯´å®Œè¿™å¥è¯çš„å®‰å®‰ï¼Œä¸ä¼šè¶…è¿‡ä¸‰ç§’ï¼Œå®‰å®‰çš„ä¹ é¢˜æœ¬å°±ä¼šå‡ºç°åœ¨æˆ‘çš„æ¡Œå­ä¸Šï¼Œæ²¡çœ‹é¢˜ç›®æˆ‘å°±è¯´ï¼Œè¿™é¢˜ç®€å•ï¼Œå€Ÿæ‹¿å¥¹æ‰‹é‡Œç¬”çš„ç¼˜ç”±ï¼Œå¸¦ç€ä¸€è„¸è´±ç¬‘æˆ‘çš„çˆªå­å‘å¥¹çš„æ‰‹ä¼¸è¿‡å»ï¼Œæˆ‘è¿˜æ²¡ååº”è¿‡æ¥ï¼Œå•ªä¸€å£°ï¼Œæ‰‹å°±è¢«æˆ‘éš”å£æ¡Œçš„å¥³ç”Ÿæ‰“æ–­äº†ã€‚</p><p>æ˜¯åæˆ‘éš”å£æ¡ŒHå§ï¼ŒHå§ä¹‰æ­£è¨€è¾çš„è¯´ï¼šæˆ‘ä¸€çœ‹ä½ å°±ä¸æ˜¯ä¸ªå¥½äººï¼Œè‡ªå·±æ²¡æœ‰ç¬”ä¹ˆï¼Œæˆ‘æ¨æ¨çš„è¯´ä¸€å¥ï¼Œæœ‰ï¼Œæˆ‘æœ‰ã€‚çœ‹åˆ°Hå§å¾—é€çš„ç¬‘å®¹ï¼Œæˆ‘æ›´æ°”äº†ã€‚</p><p>å®‰å®‰è¯´ï¼Œå¿«ç‚¹ç»™æˆ‘è®²è®²ï¼Œè‡ªç„¶çš„æŠŠæ‰‹é‡Œçš„ç¬”é€’ç»™æˆ‘äº†ï¼Œæˆ‘æ¥è¿‡äº†ç¬”ã€‚æˆ‘åˆå›äº†Hå§ä¸€ä¸ªå¾—æ„çš„ç¬‘å®¹ï¼Œä½†Hå§çªç„¶å°±æ”¶èµ·äº†ç¬‘å®¹ï¼Œå®‰é™äº†ä¸‹æ¥ã€‚</p><p>å½“æ—¶çš„ç‰©ç†é¢˜æ— éæ˜¯ç®—ç®—å¯†åº¦ï¼Œç®—ç®—é€Ÿåº¦ï¼Œç”»ç”»ç”µè·¯å›¾ï¼Œæˆ‘ä¸ç†è§£ä¸ºä»€ä¹ˆè¦æŠŠä¸€ä¸ªç©ºå¿ƒçƒä½“æ‰”æ°´é‡Œç®—å¯†åº¦ï¼Œå°±å¥½åƒæ•°å­¦ä¸­ä¸€è¾¹æ”¾æ°´ï¼Œä¸€è¾¹è¿›æ°´çš„æ¸¸æ³³æ± ä¸€æ ·ã€‚</p><p>ä¸Šé«˜ä¸­ä¹‹åæˆ‘å’Œå®‰å®‰çš„è”ç³»ä¾¿å¤šäº†èµ·æ¥ï¼Œç”¨å®‰å®‰çš„è¯è¯´ï¼Œæˆ‘æ˜¯åªæ˜¯å¶å°”æ¥è€Œå·²ï¼Œç„¶åç»å¸¸å¶å°”ã€‚</p><p>å®‰å®‰æ¯æ¬¡æ¥çœ‹æˆ‘ï¼Œç”¨ç€æ¥å¿åŸé‡Œä¹°ç‚¹ä¸œè¥¿çš„å€Ÿå£ï¼Œä¸ºä»€ä¹ˆè¯´æ˜¯å€Ÿå£ï¼Œå› ä¸ºæˆ‘è§‰å¾—æ¥ä¹°ä¸œè¥¿åº”è¯¥ä¸ä¼šè¿˜ç»™æˆ‘å¸¦å„ç§å„æ ·çš„ä¸œè¥¿ã€‚æ¯å­ï¼Œå›´è„–ï¼Œæ‰‹å¥—ï¼Œç­‰ç­‰ï¼Œæˆ‘åœ¨å¥¹çš„æ³¨è§†ä¸‹ï¼Œè£¹ä¸Šå›´è„–ï¼Œå¸¦ä¸Šæ‰‹å¥—ï¼Œè…‹ä¸‹å¤¹ä¸ªæ¯å­ï¼Œå®‰å®‰ç«™åœ¨é›ªåœ°ä¸Šå¼€å¿ƒçš„æ‹ç€æ‰‹ï¼Œç¬‘ç€è¯´ï¼Œè¿™æ ·å¥½ï¼Œçœ‹èµ·æ¥ç²¾ç¥ï¼Œ</p><p>ç„¶åæ ¡å›­é‡Œå°±å¼€å§‹æµä¼ ï¼Œå‡ºç°äº†ä¸€ä¸ªè£¹ç€ç²‰è‰²å›´è„–ï¼Œå¸¦ç€ç²‰è‰²æ‰‹å¥—å…³é”®è¿˜ç”¨ç²‰è‰²ä¿æ¸©æ¯çš„å˜æ€ç”·ã€‚</p><p>å®‰å®‰æ˜¯ä¸ªæ¼‚äº®çš„å¥³å­©ï¼Œè¿›å…¥é«˜ä¸­çš„å¥¹ï¼Œè¶Šå‘å‡ºè½ï¼Œåœ¨å†¬è¡£çš„åŒ…è£¹ä¸‹ï¼Œèº«æä¾æ—§å‡¹å‡¸æœ‰è‡´ï¼Œæˆ‘æ—¶å¸¸æ‰“è¶£ï¼Œä½ ç°åœ¨è¶Šå˜è¶Šæ¼‚äº®ï¼Œèº«è¾¹çš„è¿½æ±‚è€…ä¼šä¸ä¼šå¾ˆå¤šå•Šï¼Œå®‰å®‰åˆ°ä¹Ÿæ¯«ä¸é¿è®³ï¼Œå¤šå•Šï¼Œä½†æ˜¯ä¸‰åƒè‹¥æ°´ï¼Œæˆ‘åªå–ä½ è¿™ä¸€ç“¢ã€‚æˆ‘è¯´ï¼Œè‹¥æ°´ä¸æ˜¯å½¢å®¹å¥³ç”Ÿçš„ä¹ˆï¼Œå“ªæœ‰æ‹¿è‹¥æ°´å½¢å®¹ç”·ç”Ÿçš„ï¼Œå®‰å®‰è¯´ï¼Œä¹Ÿå¯¹å“¦ï¼Œä½ æ˜¯ç”·ç”Ÿï¼Œåº”è¯¥æ¯”å¥³ç”Ÿé‡ä¸€ç‚¹ï¼Œä½ è‡³å°‘æ˜¯ä¸¤ç“¢ã€‚</p><p>å®‰å®‰æ˜¯ä¸ªå¥½å¥³å­©ï¼Œå¯æˆ‘ä¸æ˜¯ä¸ªå¥½ç”·å­©ã€‚</p><p>æˆ‘ç†Ÿæ‚‰ç¯å¢ƒåå¼€å§‹æ²‰è¿·äºç½‘ç»œæ¸¸æˆï¼Œæµè¿äºå½“æ—¶å‡ºäº†åçš„ç½‘å§ä¸€æ¡è¡—ï¼Œå¯¹äºå¥¹æˆ‘ä¹Ÿæ˜¯çˆ±ç­”ä¸ç†ï¼Œå› ä¸ºæˆ‘å½“æ—¶å¿™ç€åœ¨å¬å”¤å¸ˆå³¡è°·é‡Œå¾æˆ˜ã€‚å¶å°”æ¥æ‰¾æˆ‘ï¼Œè¦ä¹ˆæˆ‘é¡¶ä¸ªç†ŠçŒ«çœ¼ï¼Œå“ˆæ¬ è¿å¤©çš„é™ªå¥¹é€›è¡—ï¼Œè¦ä¹ˆæˆ‘å°±ç›´æ¥è¯´ï¼Œæˆ‘ç™½å¤©è¦ç¡è§‰ï¼Œä¸‹æ¬¡å†æ¥å§ã€‚</p><div class="note note-info">            <p>åˆ†åˆ«æ€»æ˜¯åœ¨ä¹æœˆï¼Œ</p>          </div><p>æ–°çš„ä¸€å¹´å¼€å­¦å­£ï¼Œå®‰å®‰åˆæ¥æ‰¾æˆ‘ï¼Œå®‰å®‰è¯´ï¼Œä½ è¿˜è®°å¾—ï¼Œæˆ‘å½“æ—¶å‘ä½ è¡¨ç™½æ˜¯å†™çš„å°ä½œæ–‡å˜›ï¼Œæˆ‘å“ªè®°å¾—ä½ï¼Œæˆ‘è¯´ï¼Œæˆ‘åªè®°å¾—â€˜æˆ‘çš„åå­—+æˆ‘çˆ±ä½ â€™è¿™å…­ä¸ªå­—ï¼Œå®‰å®‰è¯´ï¼Œå—¯ï¼Œä»ä»Šå¤©å¼€å§‹ï¼Œè¿™å…­ä¸ªå­—ä¹Ÿå¯ä»¥å¿˜äº†ã€‚</p><p>æ—¶å¤„ä¹æœˆï¼Œèº«å¤„é•¿æ±Ÿä¸æ·®æ²³ä¹‹é—´çš„å°å¿åŸå¤©æ°”å¹¶æœªè½¬å‡‰ï¼Œæˆ‘å›å»çš„è·¯ä¸Šå´æ„Ÿè§‰åˆ°ä¸ä¸å‡‰æ„ã€‚</p><p>å†åæ¥çš„è”ç³»å®‰å®‰è¯´äº†å¥ï¼Œåœ¨ä¸€èµ·æ—¶ä¸çæƒœï¼Œåˆ†å¼€ä¹‹åè£…æ·±æƒ…ï¼Œåšæƒ…åœ£ï¼Œæˆ‘å¾ˆè®¨åŒä½ è¿™æ ·çš„äººã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h880ptpdh8j32yo1o0hdu.jpg" alt="åšæ¶‚ç”» "></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºpnpm</title>
    <link href="/2022/11/08/other-09/"/>
    <url>/2022/11/08/other-09/</url>
    
    <content type="html"><![CDATA[<p>pnpmæ˜¯å‰ç«¯çš„åŒ…ç®¡ç†å™¨ï¼Œå’Œyarnï¼Œnpmæ˜¯ä¸€ç§ä¸œè¥¿ã€‚</p><p>ä¸çŸ¥é“æ˜¯å‰ç«¯çš„åŸå› ï¼Œè¿˜æ˜¯ä»€ä¹ˆåŸå› ï¼Œä¸‡æ¶çš„node_modulesï¼Œè²Œä¼¼æ˜¯ä¸ªå‰ç«¯æˆ–ç±»ä¼¼æˆ‘è¿™ç§åŠåŠå­å‰ç«¯éƒ½è¦ä¸Šå‰å–·ä¸¤å¥ï¼Œæˆ‘å–·è¿™ä¸ªçš„åŸå› å°±æ˜¯è¿™ä¸œè¥¿å¤ªå¤šäº†ï¼Œåœ¨æˆ‘ä¸ä¼šå¿«é€Ÿåˆ é™¤æ—¶ï¼Œåˆšæ¥è§¦Vueå·¥ç¨‹é¡¹ç›®æ—¶ï¼Œä¸€ä¸ªé¡¹ç›®åˆ é™¤æ—¶å¯ä»¥è€—æ—¶åå‡ åˆ†é’Ÿç”šè‡³åŠä¸ªå°æ—¶ï¼Œæˆ‘å½“æ—¶å°±æ„Ÿè§‰è¿™ä¸œè¥¿å¤šå°‘æœ‰ç‚¹å¸ƒç›’é‡Œï¼Œå½“æ—¶è¿˜æ˜¯å¤„äºä¸€ä¸ªè™šå¿ƒæ±‚æ•™çš„å¿ƒç†ï¼Œ</p><p>æ„Ÿè§‰è¿™æ˜¯ç‰¹æ€§ï¼Œå‰ç«¯å¼€å‘çš„ç‰¹æ€§ã€‚</p><p>çœ‹ç€pnpmçš„å…´èµ·ï¼Œæˆ‘æ„Ÿè§‰è¿™ä¸ªç‰¹æ€§å¯èƒ½ä¸èƒ½ç§°ä¹‹ä¸ºç‰¹æ€§äº†ï¼Œå¯ä»¥è¯´æ˜¯ç¼ºé™·äº†ã€‚</p><h2 id="pnpmä»‹ç»"><a href="#pnpmä»‹ç»" class="headerlink" title="pnpmä»‹ç»"></a>pnpmä»‹ç»</h2><p>å¿«é€Ÿçš„ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´çš„åŒ…ç®¡ç†å·¥å…·ã€‚</p><h2 id="pnpmçš„ç‰¹ç‚¹"><a href="#pnpmçš„ç‰¹ç‚¹" class="headerlink" title="pnpmçš„ç‰¹ç‚¹"></a>pnpmçš„ç‰¹ç‚¹</h2><h3 id="å¿«é€Ÿ"><a href="#å¿«é€Ÿ" class="headerlink" title="å¿«é€Ÿ"></a>å¿«é€Ÿ</h3><p>pnpmæ¯”å…¶ä»–åŒ…ç®¡ç†å™¨å¿«2å€ã€‚</p><h3 id="é«˜æ•ˆ"><a href="#é«˜æ•ˆ" class="headerlink" title="é«˜æ•ˆ"></a>é«˜æ•ˆ</h3><p>node_modules ä¸­çš„æ–‡ä»¶ä¸ºå¤åˆ¶æˆ–é“¾æ¥è‡ªç‰¹å®šçš„å†…å®¹å¯»å€å­˜å‚¨åº“ã€‚</p><h3 id="æ”¯æŒmonorepos"><a href="#æ”¯æŒmonorepos" class="headerlink" title="æ”¯æŒmonorepos"></a>æ”¯æŒmonorepos</h3><p>pnpmå†…ç½®æ”¯æŒå•ä»“å¤šåŒ…ã€‚</p><h3 id="ä¸¥æ ¼"><a href="#ä¸¥æ ¼" class="headerlink" title="ä¸¥æ ¼"></a>ä¸¥æ ¼</h3><p>pnpm é»˜è®¤åˆ›å»ºäº†ä¸€ä¸ªéå¹³é“ºçš„ node_modulesï¼Œå› æ­¤ä»£ç æ— æ³•è®¿é—®ä»»æ„åŒ…ã€‚</p><h2 id="pnpmåˆ°åº•åšäº†ä»€ä¹ˆ"><a href="#pnpmåˆ°åº•åšäº†ä»€ä¹ˆ" class="headerlink" title="pnpmåˆ°åº•åšäº†ä»€ä¹ˆ"></a>pnpmåˆ°åº•åšäº†ä»€ä¹ˆ</h2><ul><li><p>å½“ä½¿ç”¨npmæˆ–yarnæ—¶ï¼Œå¦‚æœä½ æœ‰100ä¸ªé¡¹ç›®ï¼Œå¹¶ä¸”æ‰€æœ‰é¡¹ç›®éƒ½æœ‰ä¸€ä¸ªç›¸åŒçš„ä¾èµ–åŒ…ï¼Œé‚£ä¹ˆï¼Œä½ åœ¨ç¡¬ç›˜ä¸Šå°±éœ€è¦ä¿å­˜100ä»½è¯¥ç›¸åŒä¾èµ–åŒ…çš„å‰¯æœ¬ã€‚</p></li><li><p>å¦‚æœæ˜¯ä½¿ç”¨pnpm,ä¾èµ–åŒ…å°†è¢«å­˜æ”¾åœ¨ä¸€ä¸ªç»Ÿä¸€çš„ä½ç½®ï¼Œå› æ­¤ï¼š</p><ul><li>å¦‚æœä½ å¯¹åŒä¸€ä¾èµ–åŒ…ä½¿ç”¨ç›¸åŒçš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆç£ç›˜ä¸Šåªæœ‰è¿™ä¸ªä¾èµ–åŒ…çš„ä¸€ä»½æ–‡ä»¶ï¼›</li><li>å¦‚æœä½ å¯¹åŒä¸€ä¾èµ–åŒ…éœ€è¦ä½¿ç”¨ä¸åŒçš„ç‰ˆæœ¬ï¼Œåˆ™ä»…æœ‰ç‰ˆæœ¬ä¹‹é—´ä¸åŒçš„æ–‡ä»¶ä¼šè¢«å­˜å‚¨èµ·æ¥ï¼›</li><li>æ‰€æœ‰æ–‡ä»¶éƒ½ä¿å­˜åœ¨ç¡¬ç›˜çš„ç»Ÿä¸€çš„ä½ç½®ï¼š</li><li>å½“å®‰è£…è½¯ä»¶åŒ…æ—¶ï¼Œå…¶åŒ…å«çš„æ‰€æœ‰æ–‡ä»¶éƒ½ä¼šç¡¬é“¾æ¥åˆ°æ­¤ä½ç½®ï¼Œè€Œä¸ä¼šå ç”¨è€Œå¤–çš„ç¡¬ç›˜ç©ºé—´ï¼›</li></ul></li><li><p>è¿™è®©ä½ å¯ä»¥åœ¨é¡¹ç›®ä¹‹é—´æ–¹ä¾¿åœ°å…±äº«ç›¸åŒç‰ˆæœ¬çš„ä¾èµ–åŒ…ã€‚</p></li></ul><h2 id="pnpmåˆ›å»ºéå¹³é“ºçš„node-modulesç›®å½•"><a href="#pnpmåˆ›å»ºéå¹³é“ºçš„node-modulesç›®å½•" class="headerlink" title="pnpmåˆ›å»ºéå¹³é“ºçš„node_modulesç›®å½•"></a>pnpmåˆ›å»ºéå¹³é“ºçš„node_modulesç›®å½•</h2><h3 id="npmå’Œyarn"><a href="#npmå’Œyarn" class="headerlink" title="npmå’Œyarn"></a>npmå’Œyarn</h3><p>å½“ä½¿ç”¨npmæˆ–yarnå®‰è£…ä¾èµ–åŒ…æ—¶ï¼Œæ‰€ä»¥è½¯ä»¶åŒ…éƒ½è¢«æå‡åˆ°node_modulesçš„æ ¹ç›®å½•ä¸‹ï¼›<br>å…¶ç»“æœæ˜¯ï¼Œæºç å¯ä»¥è®¿é—®æœ¬ä¸å±äºå½“å‰é¡¹ç›®æ‰€è®¾å®šçš„ä¾èµ–åŒ…ã€‚</p><h3 id="pnpm"><a href="#pnpm" class="headerlink" title="pnpm"></a>pnpm</h3><p>ä½¿ç”¨pnpmå®‰è£…ä¾èµ–åŒ…æ—¶ï¼Œåªæœ‰å®‰è£…çš„é‚£ä¸ªåŒ…ä¼šåœ¨node_modulesçš„æ ¹ç›®å½•ä¸‹ï¼Œå¹¶ä¸”ä»¥è½¯é“¾æ¥(ç¬¦å·é“¾æ¥)çš„æ–¹å¼å­˜åœ¨ï¼›</p><p>åœ¨node_modulesçš„æ ¹ç›®å½•ä¸‹åŒæ—¶è¿˜ä¼šæœ‰ä¸€ä¸ª.pnpmæ–‡ä»¶ï¼Œé‡Œé¢ä¿å­˜çš„æ˜¯æ‰€æœ‰åŒ…çš„ç¡¬é“¾æ¥ï¼›å…¶ç»“æœæ˜¯ï¼Œæºç ä¸å¯ä»¥è®¿é—®æœ¬ä¸å±äºå½“å‰é¡¹ç›®æ‰€è®¾å®šçš„ä¾èµ–åŒ…ã€‚</p><h3 id="npmä¸pnpmå‘½ä»¤å¯¹æ¯”"><a href="#npmä¸pnpmå‘½ä»¤å¯¹æ¯”" class="headerlink" title="npmä¸pnpmå‘½ä»¤å¯¹æ¯”"></a>npmä¸pnpmå‘½ä»¤å¯¹æ¯”</h3><table><thead><tr><th>npmå‘½ä»¤</th><th>pnpmç­‰ä»·å‘½ä»¤</th></tr></thead><tbody><tr><td>npm install</td><td>pnpm install</td></tr><tr><td>npm install åŒ…å</td><td>pnpm add åŒ…å</td></tr><tr><td>npm uninstall åŒ…å</td><td>pnpm remove åŒ…å</td></tr><tr><td>npm run è„šæœ¬</td><td>pnpm è„šæœ¬</td></tr></tbody></table><h3 id="pnpmå¸¸ç”¨å‘½ä»¤"><a href="#pnpmå¸¸ç”¨å‘½ä»¤" class="headerlink" title="pnpmå¸¸ç”¨å‘½ä»¤"></a>pnpmå¸¸ç”¨å‘½ä»¤</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">pnpm</span> store path  // è·å–åŒ…ä»“åº“åœ°å€ï¼ˆpnpmçš„ä»“åº“ä¸èƒ½è·¨ç£ç›˜ï¼‰<span class="token function">pnpm</span> store prune  // ä»storeä¸­åˆ é™¤å½“å‰æœªè¢«å¼•ç”¨çš„åŒ…æ¥é‡Šæ”¾storeçš„ç©ºé—´<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><h3 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h3><p>æ–‡ä¸­å¯¹äºè½¯é“¾æ¥å’Œç¡¬é“¾æ¥ç­‰æ¦‚å¿µï¼ˆæ“ä½œç³»ç»Ÿé‡Œé¢çš„æ¦‚å¿µï¼‰å¹¶æ²¡æœ‰è¿‡å¤šè§£é‡Šï¼Œä½†æ˜¯è¿™äº›æ¦‚å¿µå¯¹äºç†è§£pnpmçš„ç‰¹ç‚¹å´åˆè‡³å…³é‡è¦ï¼Œå»ºè®®å…ˆå»äº†è§£ä¸€ä¸‹ã€‚<br>æƒ³è¦äº†è§£æ›´å¤šï¼Œè¯·ç§»æ­¥å®˜ç½‘ï¼š<a href="https://www.pnpm.cn/">pnpmä¸­æ–‡å®˜ç½‘é“¾æ¥</a></p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h7y11f3rwvj33341w0u0y.jpg" alt="4k é•¿è¾«å­å¥³å­© è€³ç¯ ä¾§è„¸ å”¯ç¾ æ¢…èŠ± çº¢è‰²èƒŒå½±"></p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>pnpm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€å£°å¹æ¯</title>
    <link href="/2022/11/07/gossip-12/"/>
    <url>/2022/11/07/gossip-12/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>ä½ åšäº†ä¸€ä¸ªç¾æ¢¦ï¼Œæ‰€ä»¥ä½ ä¸æ„¿æ„é†’æ¥ã€‚</p><p>ä½†æ˜¯ç°å®æ€»ä¼šç»™ä½ ä¸€å·´æŒï¼ŒæŠŠä½ ç¡¬ç”Ÿç”Ÿæ‰“é†’ã€‚</p>          </div><p>ç»“æŸäº†å°å­¦çš„å…­å¹´ä¹‰åŠ¡æ•™è‚²ï¼Œæˆ‘é¡ºåˆ©çš„è¿›å…¥äº†åä¸‰å¹´çš„ä¹‰åŠ¡æ•™è‚²ï¼Œä¸€ç›´ç”Ÿæ´»åœ¨æ‘é‡Œçš„æˆ‘æ¥åˆ°äº†é•‡ä¸Šä¸Šåˆä¸­ï¼Œè€Œåœ¨å†œæ‘è¯»å°å­¦çš„æˆ‘æ¥åˆ°é•‡ä¸Šå’Œåœ¨é•‡ä¸Šè¯»å°å­¦çš„åŒå­¦åšåŒå­¦ ï¼Œæˆ‘æ˜æ˜¾çš„æ„Ÿè§‰æˆ‘ç•¥æ˜¾çº¯çœŸï¼Œä»–ä»¬è¯´çš„ç©çš„åšçš„ï¼Œæˆ‘éƒ½ä¸ä¼šï¼Œéƒ½ä¸æ‡‚ï¼Œæˆ‘ä¸ºäº†å¼„æ‡‚è¿™äº›èŠ±äº†å¾ˆé•¿æ—¶é—´ï¼Œç„¶åå°±ï¼Œæˆ‘å¥½åƒå¿˜äº†æˆ‘æ¥å­¦æ ¡æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œæˆ‘è¿˜ä»¥ä¸ºåˆä¸­ä¹Ÿå’Œå°å­¦ä¸€æ ·ï¼Œå°±é‚£å‡ é—¨è¯¾ï¼Œéšæ„å‘æŒ¥å³å¯ã€‚</p><p>ç¬¬ä¸€æ¬¡è€ƒè¯•å¾ˆå£®çƒˆã€‚ç¬¬ä¸€é—¨è¯­æ–‡ä½œæ–‡ç›´æ¥æ²¡å†™ï¼Œå…¶å®ä¹Ÿä¸æ€ªæˆ‘ï¼Œä»–ä»¬éƒ½ä»¥ä¸ºæˆ‘çŸ¥é“è¿™å­¦æ ¡çš„é“ƒå£°æ˜¯æ€ä¹ˆå“çš„ï¼Œä½†å®é™…æˆ‘ä¸çŸ¥é“ï¼Œæˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡å‚åŠ æœˆè€ƒï¼Œå› ä¸ºæˆ‘çš„å°å­¦ä¸€å­¦æœŸåªè€ƒä¸¤æ¬¡è¯•ã€‚ä¸‡äº‹å¼€å¤´éš¾çš„å¤´æ²¡å¼€å¥½çš„æˆ‘ï¼Œç»“æœä¹Ÿå°±ä¸ç”¨è¯´äº†ã€‚</p><p>åˆä¸­ç¬¬ä¸€ä»»ç­ä¸»ä»»ç¡®å®æœ‰ç‚¹é‚ªé—¨ï¼Œé‚£å±Šåˆ†äº†ä¸‰ä¸ªç­ï¼Œæˆ‘åœ¨äºŒç­ï¼Œç­ä¸»ä»»ä¹Ÿæ˜¯ç¬¬ä¸€å¹´å½“ç­ä¸»ä»»ï¼Œå‰å‡ æ¬¡æœˆè€ƒè¿˜æœ‰å‡ äººèƒ½è¿›å‰äºŒåï¼Œå†å¾€åå‡ æ¬¡å°±ä¸€ä¸ªéƒ½æ²¡æœ‰äº†ï¼Œè¿™ä¸ªç­çº§å¯¹äºå­¦æ ¡çš„å”¯ä¸€å­˜åœ¨æ„Ÿå¯èƒ½å°±åªæ˜¯è¢«å½“æˆåé¢æ•™æã€‚æˆ‘ä¸€å¼€å§‹æ˜¯ä»¥ä¸ºå­¦ç”Ÿçš„åŸå› ï¼Œå†åæ¥æˆ‘å¬å¾ˆå¤šå±Šå­¦ç”Ÿè¯´ï¼Œé‚£ä¸ªç­ä¸»ä»»é‚£å±Šå¸¦ç­å¥½åƒéƒ½ä¸è¡Œï¼Œè¿™ç­ä¸»ä»»å¤šå°‘æ˜¯æœ‰ç‚¹é—®é¢˜åœ¨èº«ä¸Šçš„ã€‚</p><p>å½“æ—¶åˆäºŒæ—¶ï¼Œæˆ‘å®¶é‡Œäººçœ‹æˆ‘å¥½åƒç¡®å®ä¸è¡Œäº†ï¼Œç„¶åä¸»å¼ ç»™æˆ‘ç•™äº†ä¸€çº§ï¼Œç•™äº†ä¸€çº§ï¼Œä¾¿é‡åˆ°äº†æˆ‘çš„æ„ä¹‰ä¸Šçš„åˆæ‹ã€‚åˆæ‹ï¼Œæ˜¯ä¸€ä¸ªå¤§èƒ¸å¦¹å­ï¼Œæš‚ä¸”ç§°ä¹‹ä¸ºHå§ï¼Œæ˜¯å¥¹ä¸»åŠ¨è¿½çš„æˆ‘ï¼ŒæŒºæ¼‚äº®ä¸€å§‘å¨˜ï¼Œç¬‘èµ·æ¥çœ¼ç›ä¼šå˜æœˆç‰™ï¼Œæ€»çˆ±ç©¿ä¸ªå¤¹å…‹ï¼Œèµ°è·¯å¸¦é£ï¼Œå½“æ—¶æˆç»©ä¹Ÿæ¯”æˆ‘å¥½ã€‚</p><p>Hå§æ˜¯ä¸ªå¾ˆè‡ªä¿¡çš„äººï¼Œä»å¥¹è¿½æˆ‘æ¥çœ‹ï¼Œä¸€ä¸ªç­‰å¾…ä¸Šæ™šè‡ªä¹ çš„å¤å¤©å‚æ™šï¼Œå¥¹å–Šäº†å‡ ä¸ªå§ä»¬ï¼ŒæŠŠæˆ‘å µåœ¨æ•™å®¤ï¼Œç„¶åæŠŠæ•™å®¤é—¨å µç€ä¸è®©åˆ«äººè¿›æ¥ã€‚</p><p>æ•™å®¤é‡Œåªå‰©æˆ‘å’Œå¥¹ï¼Œå¥¹å¼€é—¨è§å±±çš„æˆ‘é—®ä¸€å¥ï¼Œä½ è§‰å¾—æˆ‘è¿™äººæ€ä¹ˆæ ·ï¼Ÿ</p><p>æˆ‘è¯´ï¼šè¿˜è¡Œï¼Œèƒ¸å¾ˆå¤§ï¼Œåœ¨å¥¹çš„æ‰‹æ…¢æ…¢ä¸¾è¿‡æˆ‘çš„å¤´é¡¶æ—¶ï¼Œæˆ‘è¿å¿™æ­£ç»èµ·æ¥æ¥ç€è¯´ï¼Œæ€ä¹ˆé—®è¿™ä¸ªï¼Œä½ äººå¾ˆå¥½ï¼Œè„¾æ°”å¥½ï¼Œæˆç»©ä¹Ÿå¥½ï¼Œ</p><p>å¥¹æ‹¿ç€å½“æ—¶ä¸Šè¯¾ç”¨çš„ä¸‰è§’æ¿ï¼Œå‘æˆ‘èµ°æ¥ï¼Œç„¶åç«‹åœ¨æˆ‘é¢å‰çš„è¯¾æ¡Œä¸Šè¯´ï¼Œæˆ‘åšä½ å¥³æœ‹å‹ï¼Œä½ æ„Ÿè§‰å¦‚ä½•ï¼Œ</p><p>æˆ‘å½“æ—¶æœ‰ç‚¹æ‡µï¼Œå¬åˆ°æ„Ÿè§‰ä¸¤ä¸ªå­—ï¼Œæˆ‘è¯´æ„Ÿè§‰è¿˜è¡Œã€‚</p><p>è¿™å°±æ˜¯Hå§çš„è¡¨ç™½ã€‚å†åæ¥å°±æ˜¯ä¸€èµ·ä¸Šè¯¾ä¸‹è¯¾ï¼Œä¸€èµ·åƒé¥­ï¼Œä¸€èµ·è¿‡ç”Ÿæ—¥ã€‚</p><p>åˆ†æ‰‹æ˜¯åœ¨ä¸€ä¸ªç‚çƒ­çš„æš‘å‡ï¼Œå½“æ—¶åˆ†æ‰‹åå…¶å®è¿˜èƒ½å†è§çš„ï¼Œå› ä¸ºæš‘å‡ç»“æŸè¿˜åœ¨ä¸€ä¸ªç­ã€‚</p><p>å†åæ¥Hå§å°±è½¬å­¦äº†ï¼Œæ•…äº‹ä¹Ÿç»ˆäº†äº†ï¼Œå†å¾€åå¬åˆ°çš„ç‚¹ç‚¹æ˜Ÿæ˜Ÿçš„æ¶ˆæ¯ï¼Œå°±æ˜¯Hå§èƒ¸è¿˜æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯æˆ‘ä»¬å†ä¹Ÿæ²¡æœ‰è§è¿‡é¢äº†ã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h7wv3ddewfj32yo1o0hdt.jpg" alt="4K é˜¿ç‹¸ cosplay æ¼‚äº®çš„è„¸"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€ä¸ªå‰ç«¯UIæ¡†æ¶ï¼ŒjavaexUI</title>
    <link href="/2022/11/04/other-08/"/>
    <url>/2022/11/04/other-08/</url>
    
    <content type="html"><![CDATA[<p>æ— èŠåˆ·å›½å†…çš„å¼€æºç¤¾åŒºæ—¶ï¼Œå‘ç°çš„ä¸€ä¸ªUIæ¡†æ¶ï¼Œçœ‹ä»“åº“ä¸­çš„ä»‹ç»æ˜¯åŸºäºJqueryçš„ï¼Œå½“æ—¶éƒ½ä¸æ‰“ç®—å¾€ä¸‹çœ‹äº†ï¼Œçœ‹è§æœ‰ä¸ªæ–‡æ¡£åœ°å€ï¼Œå¯»æ€æ—¢ç„¶éƒ½ç»´æŠ¤æ–‡æ¡£äº†ï¼Œåº”è¯¥å·®ä¸åˆ°å“ªé‡Œå»ã€‚</p><p>è¿›å»çœ‹äº†ä¹‹åï¼Œè™½ç„¶è¿™ä¸ªæ–‡æ¡£Elementé‡ŒElementæ°”çš„ï¼Œä½†æ˜¯ç»„ä»¶çš„è´¨é‡çœ‹èµ·æ¥ä¸é”™çš„æ ·å­ï¼Œç»„ä»¶çš„é£æ ¼ä¹Ÿååˆ†çš„æ¸…æ–°ï¼Œæˆ‘ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯å½“æˆä¸€ä¸ªLayuiæ¥çœ‹çš„ï¼Œçœ‹äº†ä¹‹åï¼Œå¥½åƒæ¯”Layuiè¦å¥½çœ‹ç‚¹ï¼Œç»„ä»¶ä¹Ÿå¤šäº†ä¸å°‘ï¼Œè‡³äºä½¿ç”¨ä½“éªŒï¼Œå¤§è‡´çœ‹äº†Crudä»”ç”¨çš„è¾ƒå¤šçš„è¡¨æ ¼ç»„ä»¶ï¼Œè²Œä¼¼å¼‚æ­¥æ¸²æŸ“çš„åŠŸèƒ½ï¼Œç›®å‰è¿˜ä¸æ”¯æŒã€‚è¿™ä¸ªå¯èƒ½ä¼šé™åˆ¶ä¸€éƒ¨åˆ†ç”¨æˆ·ï¼Œå› ä¸ºç°åœ¨å“ªè¿˜æœ‰è‡ªå·±ç»˜åˆ¶è¡¨æ ¼çš„ï¼Œå¤§å¤šæ•°å°±æ˜¯å†™ä¸ªæ¥å£ï¼Œé…ç½®ä¸ªå­—æ®µIdï¼Œç„¶åè¿”å›æ•°æ®é‡Œå°±åŒ…å«äº†ä¸»ä½“æ•°æ®åŠåˆ†é¡µå‚æ•°ï¼Œç„¶åä¸€ä¸ªè¡¨æ ¼å°±å¯ä»¥äº†ç”¨äº†ã€‚</p><p>å°±æ˜¯å¦‚æœé‡åº¦ä½¿ç”¨è¡¨æ ¼ç»„ä»¶çš„è¯ï¼Œä¸å»ºè®®ç”¨è¿™ä¸ªæ¡†æ¶ï¼Œå¦‚æœæ˜¯å‰åç«¯ä¸åˆ†ç¦»ï¼Œç”¨è¿™ä¸ªæ¡†æ¶ä½“éªŒå¯èƒ½ä¼šå¾ˆå¥½ã€‚è¿™ä¸ªæ¡†æ¶çš„è¡¨æ ¼ç»„ä»¶è¿˜éœ€åœ¨è¿›è¡Œå°è£…ä¸€ä¸‹ï¼Œè‡³å°‘æ”¯æŒé€šè¿‡çº¯JSæ¸²æŸ“è¡¨æ ¼ã€‚</p><p>ä¸€äº›ç»„ä»¶æˆªå›¾ï¼Œæ›´å¤šè¯¦æƒ…è¿˜éœ€å»<a href="https://javaex.javaex.cn/">å®˜ç½‘</a>æŸ¥çœ‹ã€‚</p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h7tbc9lfvwj318e0tdn9x.jpg" alt="image1"></p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h7tbo7zi0pj31bp0vsn8n.jpg" alt="image2"></p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h7tbp5ytasj31bv0uv42k.jpg" alt="image3"></p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h7tbpruzn3j36683h0u0x.jpg" alt="æ—©å®‰ æ‰“å·¥äºº å¯çˆ± æ¡Œé¢åˆ†åŒº"></p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>jquery</tag>
      
      <tag>javaexUI</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‚²å¯’</title>
    <link href="/2022/11/02/gossip-11/"/>
    <url>/2022/11/02/gossip-11/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>å‚²å¯’ï¼Œæˆ‘ä»¬ç»“å©šï¼Œåœ¨ç¨»åŸå†°é›ªèåŒ–çš„æ—©æ™¨ã€‚</p>          </div><div class="note note-secondary">            <p>åœ¨å¿ƒç†å­¦é‡Œæœ‰ä¸ªè¯å«lithromanticï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œç‰ˆç”»å¼æµªæ¼«â€ï¼Œä¸€ä¸ªä½ å–œæ¬¢çš„äººï¼Œçªç„¶å˜å¾—å’Œä½ äº²è¿‘åï¼Œä½ åè€Œå˜å¾—ä¸æ•¢å–œæ¬¢å¥¹ï¼Œä¸€ä¸ªä½ ä¸å–œæ¬¢çš„äººï¼Œçªç„¶å’Œä½ å˜å¾—ç–è¿œäº†ï¼Œä½ æƒ³èµ·çš„å´æ˜¯å¥¹çš„å„ç§å¥½ã€‚è¿™ç§äººå¾€å¾€æ— æ³•å’Œåˆ«äººå»ºç«‹äº²å¯†å…³ç³»ï¼ŒåŸå› æ˜¯å†…å¿ƒå­¤ç‹¬ææƒ§ï¼Œä»–å®³æ€•ä¸€ä¸å°å¿ƒï¼Œå°±ä¼¤å®³åˆ°é‚£ä¸ªæœ€åœ¨ä¹çš„äººã€‚</p>          </div><p>98å¹´å‡ºç”Ÿï¼Œå‡ºç”Ÿé‚£å¹´å®‰å¾½æ°´ç¾æŒºä¸¥é‡çš„ï¼Œæˆ‘çš„æ€§æ ¼å¯èƒ½ä¹Ÿå¦‚æ°´ä¸€èˆ¬ï¼Œè¯´èµ·æ°´ï¼Œæˆ‘ä¸ç¦æƒ³èµ·æ³°æˆˆå°”çš„ä¸€å¥åè¨€ï¼Œä½¿åµçŸ³è‡»äºå®Œç¾çš„ä¸æ˜¯é”¤çš„æ•²æ‰“ï¼Œè€Œæ˜¯æ°´çš„è½½æ­Œè½½èˆã€‚</p><p>ä»å°åœ¨å†œæ‘é•¿å¤§ï¼Œåƒå–å€’æ˜¯ä¸æ„ï¼Œä½†æ˜¯æƒ³åƒå¥½è¿˜æ˜¯ä¸€ä»¶æŒºéš¾çš„äº‹ï¼Œå›æƒ³èµ·æ¥ï¼Œæˆ‘å®¶é‡Œåœ¨æˆ‘å°æ—¶å€™ï¼Œæ˜¯å€Ÿé’±è¿‡æ—¥å­çš„ã€‚å½“æ—¶çš„æˆ‘å½“ç„¶å¹¶æ„Ÿè§‰ä¸åˆ°è¿™äº›ã€‚æˆ‘çˆ·çˆ·å¥¶å¥¶å¸®ä»–ä»¬çš„å„¿å­åœ¨è€å®¶å¸¦å­©å­ï¼Œå½“æ—¶å®¶é‡Œé¢å››ä¸ªå°å­©ã€‚å—¯ã€‚</p><p>æˆ‘ä»å°å°±å¯¹åƒå–ä¸æ„Ÿå…´è¶£ï¼Œå¯¹ä¸€äº›ç©å…·ï¼Œå°æ±½è½¦ä»€ä¹ˆçš„ï¼Œéå¸¸æ„Ÿå…´è¶£ã€‚å¯ä»¥å¾ˆç®€ç•¥çš„è¯´ï¼Œä¸çˆ±åƒé¥­ï¼Œè´ªç©ã€‚é‚£æ—¶æˆ‘è®¤ä¸ºåœ¨å¤–é¢ä¸Šç­çš„çˆ¸çˆ¸å¦ˆå¦ˆè¶…çº§å‰å®³ï¼Œå¯èƒ½å°±æ˜¯æš‘å‡æ—¶ï¼Œåç€é•¿é€”å¤§å·´ï¼Œé€è¿‡è½¦çª—çœ‹ç€è·¯ä¸Šçš„è·¯ç¯æˆ‘éƒ½ä¼šå¤§å‘¼å°å«ç€è¯´è·¯ç¯å¥½çœ‹ï¼Œå¦‚æœçœ‹åˆ°éœ“è™¹ç¯ï¼Œæˆ‘æ¨ä¸å¾—æƒ³è®©å…¨ä¸–ç•Œéƒ½çŸ¥é“ï¼Œæˆ‘çœ‹è¿‡è¿™ç§éœ“è™¹ç¯ã€‚åŸå¸‚å¥½å•Šï¼Œæœ‰å¥½å¤§å¥½å¤§çš„è¶…å¸‚ï¼Œæœ‰å„ç§å„æ ·çš„é›¶é£Ÿï¼Œå½©è‰²ç”µè§†æœºé‡Œæœ‰çœ‹ä¸å®Œçš„å–œç¾Šç¾Šï¼Œè¯´å¥è§è¯å†å²çš„ï¼Œä»™å‰‘å¥‡ä¾ ä¼ ä¸‰ï¼Œæˆ‘çœ‹çš„ç¬¬ä¸€éæ˜¯åœ¨é»‘ç™½ç”µè§†æœºä¸Šçœ‹çš„ã€‚</p><p>å†å›æƒ³å…¶å®å½“æ—¶çˆ¸å¦ˆåˆšå‡ºæ¥æ—¶ï¼Œæ—¥å­ä¹Ÿä¸ä¼šå¥½è¿‡ï¼Œæˆ‘ä»æˆ‘å¦ˆé›¶ç¢çš„è¯­è¨€å¬è¿‡ï¼Œåˆšæ¥æ—¶ï¼Œæ˜¯çœŸçš„æ²¡å¾—åƒï¼Œæ˜¯çš„æ˜¯æ²¡é’±åƒé¥­ï¼Œä½†å½“æ—¶åœ¨è€å®¶èµ·ç æœ‰çš„åƒã€‚å½“æ—¶å‡ºå»æ‰“å·¥å®é™…æ˜¯æ— å¥ˆä¹‹ä¸¾ï¼Œä¸€å¤§å®¶å¤§çš„å°çš„ï¼Œåå‡ å£äººï¼Œä¸€å¥å®è¯ï¼Œå½“æ—¶è€å®¶é‚£å‡ é—´åœŸæˆ¿å­ï¼Œå¯èƒ½éƒ½ä½ä¸ä¸‹ï¼Œæ›´åˆ«æåƒå–äº†ã€‚å½“æˆ‘å¤–å‡ºæ‰“å·¥æ—¶ï¼Œæˆ‘æ‰çŸ¥é“æˆ‘çˆ¸å¦ˆä»–ä»¬çš„ä¸å®¹æ˜“ï¼Œæˆ‘æ¡ä»¶æ¯”å½“æ—¶çš„çˆ¶è¾ˆå¥½å¤šäº†ï¼Œçˆ¸å¦ˆä»–ä»¬æ²¡æœ‰ä¸€æŠ€ä¹‹é•¿ï¼Œæˆ‘è¿˜ç®—æœ‰ä¸€æŠ€ä¹‹é•¿ï¼Œçˆ¸å¦ˆä»–ä»¬æ²¡è¯»è¿‡ä»€ä¹ˆä¹¦ï¼Œæˆ‘å¤§å·®ä¸å·®ä¹Ÿç®—å—åˆ°äº†ä¸€ä¸ªå®Œæ•´çš„æ•™è‚²ã€‚æˆ‘åœ¨æˆ‘å·¥ä½œçš„åŸå¸‚è¿˜è¯»äº†å‡ å¹´ä¹¦ï¼Œè€Œæˆ‘çš„çˆ¸å¦ˆï¼Œæ˜¯å®æ‰“å®çš„å†œæ‘ç”·å¥³ã€‚è€Œæˆ‘å¿ƒç†å‹åŠ›è¿œè¿œå¤§äºç°å®ç»™æˆ‘çš„å‹åŠ›ï¼Œå› ä¸ºæˆ‘çŸ¥é“ï¼Œå®åœ¨ä¸è¡Œï¼Œæˆ‘è¿˜èƒ½å›å®¶ï¼Œçˆ¸å¦ˆé‚£ä¸ªå¹´çºªå¯èƒ½å¹¶æ²¡æœ‰å›å¤´è·¯ã€‚</p><p>æˆ‘çœ‹ä¸èµ·é‚£äº›æ‹¿ç€çˆ¸å¦ˆç»™ä½ æä¾›çš„èµ„æºï¼Œç«™åœ¨ä»–ä»¬çš„è‚©è†€ä¸Šçœ‹åˆ°äº†çˆ¶è¾ˆæ²¡çœ‹è¿‡çš„ä¸–ç•Œï¼Œå°±æ„Ÿè§‰è‡ªå·±æ€ä¹ˆæ€ä¹ˆæ ·äº†ï¼Œåˆ°æœ€åè¿˜å»å«Œå¼ƒä»–ä»¬çš„ç¬¨æ‹™ã€‚</p><p>ä¸çŸ¥æ˜¯ä»å°å¤©èµ„èªæ…§ï¼Œå°å­¦æˆ‘è¿‡çš„é¡ºé£é¡ºæ°´ï¼Œå½“æ—¶åœ¨è€å®¶å°å­¦è¯»ä¹¦ï¼Œå‹åŠ›æ²¡æœ‰ç°åœ¨é‚£ä¹ˆå¤§ï¼Œå°±ä¸¤é—¨è¯¾ï¼Œè¯­æ–‡æ•°å­¦ï¼Œéšä¾¿å­¦ä¸€å­¦ï¼ŒæœŸæœ«è€ƒè¯•ï¼Œä¸€è€ƒå°±æ˜¯ç¬¬ä¸€ï¼Œå¯èƒ½æ˜¯æˆ‘å°æ—¶å€™ä¸çˆ±å’Œä»–ä»¬é‚£ç¾¤æ‰€è°“æˆç»©å¥½çš„ç©å§ï¼Œä»–ä»¬æ¯æ¬¡è€ƒè¯•å–œæ¬¢â€œå›¢ç»“åˆä½œâ€ï¼Œè€Œæˆ‘ä¸å—ä»–ä»¬çš„å–œæ¬¢ï¼Œå¹³æ—¶è€ƒè¯•ï¼Œæˆ‘åªæ˜¯å½“æˆå’Œå¹³æ—¶å†™ä½œä¸šä¸€æ ·ï¼Œå¯¹äºè€ƒè¯•æ²¡æœ‰ä»€ä¹ˆæ¦‚å¿µï¼Œæˆ–è€…è¯´æˆ‘å¯¹ä¸Šå­¦éƒ½æ²¡ä»€ä¹ˆæ¦‚å¿µã€‚</p><p>æˆ‘å®¶ç¦»å­¦æ ¡æ¯”è¾ƒè¿‘ï¼Œé‚£ä¸ªå¹´çºªå¯¹å¤–ç•Œäº‹ç‰©æ¯”è¾ƒå¥½å¥‡ï¼Œå½“æ—¶æˆ‘è¿˜æ²¡ä¸Šå­¦ï¼Œæˆ‘æºœè¿›å­¦æ ¡è¶´åœ¨æ•™å®¤å¤–é¢å¾€é‡Œé¢çœ‹ï¼Œç„¶åè¢«é‡Œé¢è€å¸ˆçœ‹è§äº†ï¼Œææºœè€³æœµå°±ç»™æˆ‘æ‹½è¿›äº†æ•™å®¤ï¼Œç„¶åæˆ‘å°±è¢«è¿«ä¸Šäº†æˆ‘äººç”Ÿçš„ç¬¬ä¸€å ‚è¯¾ã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h7qs2a87spj32yo1o0hdt.jpg" alt="ç´«è‰²çœ¼ç›å¥³å­©"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åä¸€æœˆ</title>
    <link href="/2022/11/01/gossip-10/"/>
    <url>/2022/11/01/gossip-10/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>å‡å¦‚ç”Ÿæ´»æ¬ºéª—äº†ä½ ï¼Œé‚£ä½ å°±è¦å˜å¾—èªæ˜ä¸€ç‚¹ï¼Œç”Ÿæ´»åªçˆ±éª—è ¢è´§ï¼Œå¤§æ¦‚å°±æ˜¯è¿™æ ·ã€‚</p>          </div><p>æˆ‘ä¸‰å²çš„æ—¶å€™ï¼Œæˆ‘çˆ¸å¦ˆå°±ä¸¢ä¸‹æˆ‘ä»¬å»ä¸Šæµ·æ‰“å·¥äº†ï¼Œåœ¨æˆ‘è®°äº‹ä»¥å‰ï¼Œæˆ‘å¯¹æˆ‘çˆ¸å¦ˆæ²¡æœ‰ä»€ä¹ˆè¿‡å¤šçš„å°è±¡ï¼Œåœ¨ä¸Šå°å­¦çš„æ—¶å€™ï¼Œæˆ‘å’Œæˆ‘çˆ¸å¦ˆä¸æ€ä¹ˆç†Ÿï¼Œè¿‡å¹´å›å®¶çš„æ—¶å€™ï¼Œæˆ‘ç”šè‡³æœ‰ç‚¹æ€•æˆ‘çˆ¸ã€‚</p><p>æˆ‘å’Œçˆ·çˆ·å¥¶å¥¶ç”Ÿæ´»çš„æ—¶é—´å æ®æˆ‘ç»å¤§éƒ¨åˆ†çš„ç«¥å¹´ï¼Œæˆ‘çˆ·çˆ·æ˜¯ä¸ªéå¸¸åœ°é“çš„å†œæ°‘ï¼Œé‡åˆ°è¦é¥­çš„ä¹Ÿä¸ä¼šæŠŠäººèµ¶èµ°ï¼Œæˆ‘å¥¶å¥¶ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¼€æ˜çš„äººï¼Œåƒå–ä¸Šé¢ä»æ¥ä¸åå•¬ã€‚ä»–ä»¬æ•™ä¸äº†æˆ‘ä»€ä¹ˆï¼Œæˆ‘ä¹Ÿä¸æ˜¯ä¸ªé‚£ä¹ˆå®¹æ˜“è¢«æ•™åŒ–çš„äººï¼Œæˆ‘æœ¬è´¨é‡Œä¸æ˜¯ä¸€ä¸ªå¬è¯çš„å°å­©ï¼Œä½†æ˜¯æˆ‘ä¹Ÿç®—ä»å°è€³ç†ç›®æŸ“ï¼Œæˆ‘å¯¹äººæˆ–å¯¹äº‹ä¸Šï¼Œå¤šå¤šå°‘å°‘æœ‰æˆ‘çˆ·çˆ·å¥¶å¥¶çš„å½±å­ã€‚</p><p>å°Šé‡æ¯ä¸ªäººï¼Œæ— è®ºå¯¹æ–¹æ˜¯CEOè¿˜æ˜¯èŒå‘˜ï¼Œæˆ–è€…æ˜¯ä¿æ´é˜¿å§¨ï¼ŒèŒä½è™½æœ‰é«˜ä½ï¼Œä½†äººæ ¼æ— é«˜ä½è´µè´±ï¼Œè¿™ä¸ªä¹ æƒ¯é™ªäº†æˆ‘å¾ˆå¤šå¹´ã€‚</p><p>ç¡¬å†™æ–‡å­—å¤ªéš¾å—äº†ï¼Œåƒæ˜¯ä»è„‘è¢‹é‡Œé¢åˆ®ä¸œè¥¿ä¸€æ ·ï¼Œåˆ®å¾—å‘¼å‘¼å“ï¼Œè¿˜åˆ®ä¸å‡ºæ¥ä¸œè¥¿ï¼Œè¿˜å¾—å¤šå¤šè¯»ä¹¦ï¼Œå¤šå¤šçœ‹æ®µå­æ‰è¡Œï¼Œä¸ç„¶å†™ä¸ªæ—¥å¯„éƒ½å†™ä¸å¥½ã€‚</p><p>åä¸€æœˆäº†ï¼Œå¸Œæœ›ç–«æƒ…æ—©ç‚¹ç»“æŸï¼Œä¸€åˆ‡ç”Ÿæ´»éƒ½æ­¥å…¥æ­£è½¨å§ï¼Œæˆ‘åœ¨è¿™é‡Œå¾…å¾—è¯´ä¸æ€¥æ˜¯å‡çš„ï¼Œæˆ‘æƒ³å›æˆ‘çš„ç§Ÿæˆ¿äº†ã€‚å¸Œæœ›èƒ½æŠ“ä½22å¹´çš„å°¾å·´ï¼Œå‘ç”Ÿä¸€ç‚¹ä¸ä¸€æ ·çš„äº‹å§ã€‚ç¥ˆç¥·ï¼Œ</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h7pws6buxmj32yo1o07wi.jpg" alt="cosplay é¬¼åˆ€ ç¾å¥³ çº¢è‰²è£™å­"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‚æ™šæ—¥å¯„</title>
    <link href="/2022/10/31/gossip-09/"/>
    <url>/2022/10/31/gossip-09/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <p>æˆ‘ä»¬éƒ½æ˜¯å­¤å²›ï¼Œåƒå¸†ç«Ÿè¿‡ï¼Œå†…å¿ƒä»æœªè¢«äººè¸è¶³ã€‚</p>          </div><div class="note note-info">            <p>â€œå¯æ˜¯æˆ‘å¿˜ä¸äº†ä¸œæµ·æ°´ï¼Œå¿˜ä¸äº†èŠ±æœå±±ï¼Œå¿˜ä¸äº†è¥¿å¤©è·¯ï¼Œå¿˜ä¸äº†è·¯ä¸Šçš„äººã€‚â€</p>          </div><p>å¶å°”åˆ·ä¸€åˆ·çŸ¥ä¹ï¼Œçœ‹ä¸€äº›â€œæ®µå­æ‰‹â€å†™çš„æ–‡ç« ï¼Œä¸€äº›å¤§ä½¬å†™çš„å›ç­”ï¼Œå—¯ï¼Œä¸çœ‹ä¸€å¤©éš¾å—ï¼Œçœ‹äº†éš¾å—ä¸€å¤©ã€‚</p><p>å›ç­”çš„å¤§éƒ¨åˆ†åŸºè°ƒæ— éä¸¤ä¸ªæ ¸å¿ƒï¼Œä¸€ä¸ªæ˜¯çˆ±ï¼Œå¦ä¸€ä¸ªæ˜¯æ€§ã€‚åœ¨è¿™ä¸ªçˆ±è€Œä¸å¾—ï¼Œå¾—è€Œä¸æƒœçš„æ—¶ä»£ï¼Œè¿™ä¸¤ä¸ªè¯é¢˜æ€»æ˜¯èƒ½å¼•èµ·äººä»¬çš„å…±é¸£ã€‚åŒ…æ‹¬æˆ‘ã€‚</p><div class="note note-info">            <p>å¯¹äºçˆ±ï¼Œæ— æ³•æŠ•å…¥ã€‚<br>å¯¹äºæ€§ï¼Œæ¥è€…ä¸æ‹’ã€‚</p>          </div><p>æˆ‘ä¸€ç›´è®°çš„ã€Šåæ¥çš„æˆ‘ä»¬ã€‹ä¸­çš„ä¸€å¥å°è¯â€œä½ ä¸€ç‚¹éƒ½æ²¡å˜â€ï¼Œæˆ‘æƒ³æ‰¾åˆ°æˆªå›¾ï¼Œå‘ä¸ªæœ‹å‹åœˆçš„ï¼Œåœ¨æ‹‰è¿›åº¦æ¡æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹ï¼Œæˆ‘åˆé‡æ–°çœ‹äº†ä¸€éã€‚åŸæ¥ï¼Œæˆ‘è®°é”™äº†ã€‚è®°é”™äº†è¿™ä¹ˆå¤šå¹´ã€‚åŸæœ¬çš„å°è¯æ˜¯ï¼Œâ€œä½ ä¸€ç‚¹éƒ½æ²¡é•¿å¤§ï¼Œä¸€ç‚¹éƒ½æ²¡è®©æˆ‘åˆ®ç›®ç›¸çœ‹â€ã€‚å’Œæˆ‘è„‘æµ·ä¸­çš„ç”»é¢æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿä¸ä¸€æ ·ã€‚åŸæ¥åªæ˜¯æˆ‘çš„å¹»æƒ³ã€‚</p><p>æ–‡è‰ºç”µå½±å’ŒçŸ¥ä¹ä¸Šçš„æ–‡è‰ºæ–‡ç« æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä¸€ä¸ªä¸€ä¸ªä¿—å¥—å´ç°å®çš„æƒ…èŠ‚ï¼Œä¸€æ®µä¸€æ®µç±»ä¼¼ä¼¤ç—›æ–‡å­¦ä½†æ˜¯å´èµ°å¿ƒçš„å°è¯ï¼Œå¯¹è¯ã€‚å‡‘å‡ºä¸€ä¸ªé›¶ç¢ä¸”é—æ†¾çš„çˆ±æƒ…æ•…äº‹ï¼Œä½†ååè¿™ä¸ªçˆ±æƒ…æ•…äº‹ï¼Œäººä»¬æˆ–å¤šæˆ–å°‘éƒ½æœ‰è¿‡ç±»ä¼¼ç»å†ï¼Œä¸å®Œç¾çš„çˆ±æƒ…ï¼ŒçœŸçš„å¾ˆå¸¸è§ã€‚å¦‚æœxxxï¼Œå‡å¦‚xxxï¼Œå¯æƒœæ²¡å¦‚æœã€‚ã€‚</p><div class="note note-info">            <p>å¹¸ç¦ä¸æ˜¯æ•…äº‹ï¼Œä¸å¹¸æ‰æ˜¯ã€‚</p>          </div><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h7orjvpdi4j32yo1o04qp.jpg" alt="æ™šéœ å¥³å­©"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å°æ§æ—¥å¯„</title>
    <link href="/2022/10/28/gossip-08/"/>
    <url>/2022/10/28/gossip-08/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>ã€€ã€€â€œè¿™ä¸ªä¸–ç•Œæœ‰å¤šå¤§ï¼Œå–å†³äºä½ è®¤è¯†å¤šå°‘äººï¼Œä½ æ¯è®¤è¯†ä¸€ä¸ªäººï¼Œä¸–ç•Œå¯¹ä½ æ¥è¯´å°±ä¼šå˜å¤§ä¸€äº›ã€‚è¿™ä¸ªä¸–ç•Œä¸Šæœ‰å¾ˆå¤šåŸå¸‚ï¼Œæœ‰ä¸œäº¬ã€å·´é»ã€å¼€ç½—ã€ä¼¦æ•¦ã€ä¼Šæ–¯å¦å¸ƒå°”â€¦â€¦ä½†å¾ˆå¤šåŸå¸‚å¯¹ä½ æ¥è¯´åªæ˜¯åå­—ç½¢äº†ï¼Œä½ æ²¡å»è¿‡é‚£é‡Œï¼Œé‚£é‡Œä¹Ÿæ²¡æœ‰ä½ æƒ³è¦æ‹œè®¿çš„äººï¼Œæ‰€ä»¥å®ƒä»¬å…¶å®ä¸å±äºä½ çš„ä¸–ç•Œã€‚è¿™ä¸ªä¸–ç•Œä¸Šè¿˜æœ‰å¾ˆå¤šå¾ˆå¤šçš„äººï¼Œä½†ä½ ä¸è®¤è¯†ä»–ä»¬ï¼Œä»–ä»¬ä¹Ÿä¸å±äºä½ çš„ä¸–ç•Œã€‚è¿™ä¸ªä¸–ç•Œä¸Šè¿˜æœ‰å¾ˆå¤šå¥½åƒçš„å¥½ç©çš„å¥½çœ‹çš„ä¸œè¥¿ï¼Œå¯çœŸæ­£å±äºä½ çš„ä¸–ç•Œå…¶å®æ˜¯å¾ˆå°çš„ï¼Œåªæ˜¯ä½ å»è¿‡çš„åœ°æ–¹åƒè¿‡çš„ä¸œè¥¿å’Œè§è¿‡çš„è½æ—¥ï¼Œè¿˜æœ‰ä¼šåœ¨ä¹ä½ æ­»æ´»çš„æœ‹å‹ã€‚â€</p>          </div><p>ä½åœ¨å›­åŒºçš„ç¬¬äºŒå¤©ï¼ŒæŒºä½©æœä¸Šæµ·å°äº†ä¸¤ä¸‰ä¸ªæœˆçš„ï¼Œå­¤å®¶å¯¡äººçš„å°æ§çœŸçš„æ²¡æœ‰äººå‡ºç°ä»€ä¹ˆç²¾ç¥é—®é¢˜ä¹ˆï¼Œåœ¨å±‹å­é‡Œé¢å¾…äº†ä¸€å¤©ï¼Œä¹‹åçš„å¿ƒæƒ…æœ‰ç‚¹éš¾ä»¥è¨€å–»ï¼Œå‹æŠ‘ï¼Œè¿˜ä½åœ¨ä¸æ˜¯è‡ªå·±çš„ç§Ÿæˆ¿é‡Œé¢æ—¶ï¼Œä¸€ç§å­¤ç‹¬å’Œè¢«é—å¿˜çš„å¿ƒå¢ƒï¼Œæˆ‘æ•²ï¼ï¼ï¼</p><p>è¿‘æ—¥ä»ç½‘ä¸Šæ•é£æ å½±ä¸€äº›éƒ‘å·ç–«æƒ…çš„æ¶ˆæ¯ï¼Œè®©æˆ‘æ„Ÿè§‰è¿™ä¸ªä¸–ç•ŒçœŸçš„ä¸ä¼šå¥½äº†ã€‚ä¸€ä¸ªå¯Œå£«åº·ï¼Œä¸Šä¸‡äººï¼Œç„¶åæ²¡åŠæ³•åªèƒ½è®©äººå‡ºå»é€ƒå‘½ï¼Ÿï¼Ÿï¼Ÿï¼Ÿå¾’æ­¥å›å®¶ï¼Ÿï¼Ÿä¸Šç™¾å…¬é‡Œï¼Œèµ·ç å¾—ç»™ä¸ªè±ªçˆµ125å§ã€‚æ²³å—äººï¼ŒğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”</p><p>æ–°å»ºè¿™ä¸ªæ–‡ä»¶çš„æ—¶é—´1028ï¼Œç°åœ¨æ—¶é—´æ˜¯1030ï¼Œåæ­£åˆä¸æ€¥ï¼ŒåŠ ä¸Šç­‰åˆ°ç´§æ€¥çš„æ—¶å€™ï¼Œä¸€å¥â€œè¿™æ—¶å€™äº†ï¼Œæ€¥ä¹Ÿæ²¡ç”¨â€ï¼Œå¯åº”å¯¹å„ç§æƒ…å†µï¼Œæ€»ä¹‹å°±æ˜¯ï¼Œæˆ‘çŸ¥é“ä½ å¾ˆæ€¥ï¼Œä½†æ˜¯å…ˆåˆ«æ€¥ã€‚</p><p>ç½‘ä¸Šçœ‹åˆ°ä¸€ä¸ªæ–°é—»æç¬‘çš„</p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h7n23fwismj310f0xj7nj.jpg" alt="åˆš"></p><p>å¾®åšçœ‹çœ‹åŒåŸï¼Œçœ‹ä»–ä»¬åˆ†äº«çš„ä¸€äº›ã€‚å› ä¸ºç¦»çš„ä¸è¿œï¼Œå¯èƒ½éƒ½æ˜¯ä¸€äº›å»è¿‡åœ°æ–¹ï¼Œæ„Ÿè§‰å°±è¿˜è¡Œï¼Œæœ‰ç§äº‘å‡ºæ¸¸çš„æ„Ÿè§‰ã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h7n2o54s7vj32yo1o04qp.jpg" alt="4k å­¤ç‹¬çš„æ ‘"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç½‘ç»œæ¡†æ¶ä¸‰ä¸¤è¨€</title>
    <link href="/2022/10/25/net-05/"/>
    <url>/2022/10/25/net-05/</url>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h7hkhmspx0j30hs0cogpj.jpg" alt="å¤æ´›"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¯´èµ·æœ€è¿‘åšæ¢¦åˆæ˜¯å‰å¥³å‹åˆæ˜¯åˆä¸­åŒå­¦çš„ï¼Œé“å¿ƒä¹±äº†ï¼Œä¹±äº†ã€‚</p><p>2022å¹´ä¹Ÿæ¥è¿‘å°¾å£°äº†ï¼Œè¿™å‘¨æ—¥10æœˆ30å·ï¼Œæˆ‘èº«ä»½è¯ä¸Šçš„ç”Ÿæ—¥ï¼Œè¿‡å®Œæˆ‘ä¹Ÿå°±æ­£å¼æ­¥å…¥24å‘¨å²äº†ã€‚</p><p>å›è¿‡å¤´æ¥ï¼Œé‚£å¥ä½†è¡Œå¥½äº‹ï¼Œè«é—®å‰ç¨‹ï¼Œå¥½äº‹åšæ²¡åšä¸çŸ¥é“ï¼Œè¯´å¥æ²¡åšåäº‹ï¼Œç®—ä¸ç®—åšäº†å¥½äº‹ã€‚å‰ç¨‹ï¼Ÿä¸Šç­ä¹Ÿç®—å‰ç¨‹çš„ä¹ˆã€‚</p><p>æˆ‘æ„Ÿè§‰æˆ‘å¤©å¤©éª‘ä¸ªç”µåŠ¨è½¦ï¼Œæ™ƒè¡æ™ƒè¡çš„æ¥ï¼Œæ™ƒè¡æ™ƒè¡çš„å›ï¼Œè¿˜æŒºæœ‰æ„æ€çš„ã€‚</p><p>æ™šé¥­åƒäº†å‡ å¤©çš„æ¦¨èœï¼Œç»™çˆ·åƒåäº†ï¼Œäºæ˜¯ä¹ï¼Œå†³å®šåœ¨é£Ÿå ‚åƒé¥­å§ï¼Œå¯æ˜¯å®¶é‡Œç”µé¥­é”…é‡Œé¢è¿˜æœ‰ç…®å¥½çš„é¥­ï¼Œæ‰“è¿™æ®µè¯æ—¶ï¼Œæ‰“äº†ä¸€ä¸ªå–·åšï¼Œéœ‡å¾—æˆ‘å±è‚¡ç–¼ï¼Œç«¯èµ·ä¿æ¸©æ¯èµ¶ç´§å–äº†ä¸¤å£çƒ­æ°´ï¼Œä½“è´¨ä¸‹é™æ˜¯ä¸ªä¸äº‰çš„äº‹å®ã€‚</p><p>å¸¦çŠ¶ç–±ç—‡ç¼ äº†æˆ‘ä¸¤ä¸‰å‘¨äº†ï¼Œå°½ç®¡æˆ‘åšåˆ°æ—©ç¡æ—©èµ·ï¼Œè§„å¾‹ä½œæ¯ï¼Œç”±äºæˆ‘å¯¹åƒé¥­ä¸å¤ªè®²ç©¶çš„åŸå› ï¼Œä¾æ—§æ˜¯ç˜¦äº†ã€‚</p><h2 id="ç½‘ç»œæ¡†æ¶"><a href="#ç½‘ç»œæ¡†æ¶" class="headerlink" title="ç½‘ç»œæ¡†æ¶"></a>ç½‘ç»œæ¡†æ¶</h2><p>è¯´äº†æŒºå¤šçš„é—²è¯ï¼Œè¯¥è¯´è¯´æ­£äº‹äº†ï¼Œç°åœ¨ä¸»æµçš„ç½‘ç»œæ¡†æ¶åœ¨Javaé¢†åŸŸä¸­èƒ½æ‹¿çš„å‡ºæ‰‹çš„å®é™…ä¸Šåªæœ‰Nettyã€‚</p><p>ç°åœ¨åŸºäºAIOçš„ç½‘ç»œæ¡†æ¶ æ€ä¹ˆè¯´å‘¢ï¼Œæˆ‘åªèƒ½è¯´ï¼Œä½ çŒœä¸ºä»€ä¹ˆNetty5.0é¸½äº†ã€‚</p><p>Nettyå®é™…ä¸Šå·®ä¸å¤šæ˜¯è‡ªå·±å®ç°äº†JDKçš„AIOä¸”æ¯”JDKä¸­çš„AIOè¦æ›´ç¨³å®šï¼Œå½“ç„¶è¯´è¿™è¯çš„æ—¶å€™ï¼Œæˆ‘æ²¡æœ‰å»æµ‹è¯•ï¼Œè¿™ä¸ªä¸œè¥¿å•æœºç™¾ä¸‡é•¿è¿æ¥çš„æµ‹è¯•ï¼Œæ²¡ç‚¹æŠ€æœ¯æµ‹ä¸äº†çš„ï¼Œæœ‰å¾ˆå¤šé™åˆ¶ï¼Œæ¯”å¦‚Windowçš„ç³»ç»Ÿæµ‹ä¸äº†ï¼Œå¿…é¡»æ˜¯Linuxç³»ç»Ÿï¼Œè€Œä¸”Linuxç³»ç»Ÿæˆ‘è®°å¾—è¿˜æœ‰ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„ä»€ä¹ˆé™åˆ¶è¦è§£é™¤æ‰èƒ½æµ‹ï¼ŒLinuxä¸­ä¸€ä¸ªè¿æ¥å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå•æœºç™¾ä¸‡ï¼Œå°±æ˜¯ç™¾ä¸‡ä¸ªæ–‡ä»¶ã€‚</p><p>Nettyå¹å®Œäº†ï¼Œå†æ¥çœ‹çœ‹å›½äº§çš„ç½‘ç»œç¼–ç¨‹æ¡†æ¶ï¼Œå¦‚æœä½ æƒ³å†™ä¸ªIMç³»ç»Ÿç»ƒç»ƒæ‰‹ï¼Œä»¥åŠæƒ³æ·±å…¥ä¸€ä¸‹ç½‘ç»œç¼–ç¨‹ï¼Œå»ºè®®TIOï¼Œè¿™ä¸ªæ¡†æ¶è¿­ä»£äº†å¾ˆé•¿æ—¶é—´ï¼Œåˆå†™äº†å¾ˆå¤šå·¥å…·æ–¹æ³•ä¾¿äºäººä»¬ä½¿ç”¨ã€‚</p><p>å¦‚æœæƒ³ç”¨æ¥å®è·µï¼Œä½†æ˜¯å¹¶ä¸æ˜¯ç”¨æ¥å†™é‚£ç§è´Ÿè·éå¸¸é‡çš„çŸ­è¿æ¥ï¼Œä½†æ˜¯åˆä¸æƒ³å»ç”¨æ€§èƒ½éå¸¸ä½çš„BIOå¯ä»¥ç”¨smart-socketã€‚ä¸ªäººæ¨èï¼Œæ— ä¼˜åŠ£ä¹‹åˆ†ï¼Œæœ€é€‚åˆè‡ªå·±ä¸šåŠ¡çš„æ‰æ˜¯æœ€å¥½çš„ã€‚å¹¶ä¸å»ºè®®ä¸ä½¿ç”¨æ¡†æ¶ï¼Œèƒ½ç”¨æ¡†æ¶è¿˜æ˜¯ç”¨æ¡†æ¶çš„å¥½ã€‚</p><h2 id="ç½‘ç»œç¼–ç¨‹æ¦‚å¿µ"><a href="#ç½‘ç»œç¼–ç¨‹æ¦‚å¿µ" class="headerlink" title="ç½‘ç»œç¼–ç¨‹æ¦‚å¿µ"></a>ç½‘ç»œç¼–ç¨‹æ¦‚å¿µ</h2><p>è¯´ä¸€åƒï¼Œåˆ°ä¸€ä¸‡ï¼Œæœ¬è´¨å°±æ˜¯é¢å‘åè®®ç¼–ç¨‹ï¼Œå¯¹å­—èŠ‚ç¼–è§£ç çš„è§„åˆ™ï¼Œè¢«ç§°ä¹‹ä¸ºåè®®ã€‚</p><p>Webç¼–ç¨‹ï¼Œæ˜¯ç½‘ç»œç¼–ç¨‹çš„ä¸€æ”¯ï¼ŒWebç¼–ç¨‹å¯¹å­—èŠ‚ç¼–è§£ç çš„åè®®å«åšHttpåè®®ï¼Œå…¶ä¸»è¦åŸå› è¿˜æ˜¯æµè§ˆå™¨ç‰µå¤´çš„ï¼Œæµè§ˆå™¨æ”¯æŒHttpåè®®ï¼ŒWebç¼–ç¨‹ä¹Ÿèƒ½è¯´æˆé¢å‘æµè§ˆå™¨ç¼–ç¨‹ã€‚</p><p>åœ¨å¤„ç†åœ¨æœåŠ¡å’ŒæœåŠ¡ä¹‹é—´çš„ç½‘ç»œé€šä¿¡ï¼ŒHttpåè®®æ˜¾å¾—æœ‰ç‚¹é‡äº†ï¼Œå› ä¸ºHttpåè®®æºå¸¦äº†å¤ªå¤šæˆ‘ä»¬ä¸éœ€è¦çš„ä¸œè¥¿ï¼Œç„¶åhttpé»˜è®¤çš„çŸ­è¿æ¥ï¼Œé¢‘ç¹çš„æŒ¥æ‰‹æ¡æ‰‹ï¼Œä¸¥é‡çš„å½±å“æ€§èƒ½ã€‚</p><p>è¿™ä¸ªæ—¶å€™å°±éœ€è¦å•ç‹¬å®šåˆ¶åè®®ä»¥åŠä½¿ç”¨é•¿è¿æ¥äº†ï¼Œè‡ªå·±å®šåˆ¶åè®®ï¼Œè¿™ä¸ªå°±äº”èŠ±å…«é—¨äº†ï¼Œæœ¬è´¨å°±æ˜¯å¯¹å­—èŠ‚ç¼–è§£ç ï¼Œç¼–è§£ç çš„å­—èŠ‚ä¸€èˆ¬ç”¨Bufferæ¥æ“ä½œï¼ŒBufferçš„åŸºç¡€æ“ä½œä¹Ÿæ˜¯ç½‘ç»œç¼–ç¨‹çš„å…¥é—¨ã€‚ç”¨è¿™ä¸ªæ“ä½œå­—èŠ‚æ¯”è¾ƒæ–¹ä¾¿ã€‚</p><p>ç»´æŒé•¿è¿æ¥çš„è¿æ¥ä¸ªæ•°ï¼Œè¿™æ˜¯ç½‘ç»œæ¡†æ¶çš„ä¸€ä¸ªé‡è¦æ ‡å‡†ã€‚æˆ‘çœ‹ç½‘ç»œæ¡†æ¶åŠ¨ä¸åŠ¨éƒ½æ˜¯å•æœºç™¾ä¸‡ï¼Œç»´æŠ¤äº†ç™¾ä¸‡ä¸ªé•¿è¿æ¥çš„æœåŠ¡å™¨ä¸å®¢æˆ·ç®—è¿›è¡Œæ•°æ®äº¤äº’ä¼šæ˜¯ä¸ªä»€ä¹ˆæƒ…å†µã€‚è¿™ä¸ªå°±éœ€è¦ä¸“ä¸šçš„æµ‹è¯•æ¥æ“ä½œäº†ã€‚</p><p>ç½‘ç»œå¼€å‘çš„éš¾ç‚¹ä¸€èˆ¬å°±æ˜¯åœ¨äºé•¿è¿æ¥ï¼ŒçŸ­è¿æ¥åˆ°ä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¤æ‚çš„éš¾åº¦ï¼Œå› ä¸ºéƒ½ç”¨çŸ­è¿æ¥äº†ï¼Œç¬¬ä¸€å¹¶å‘é«˜ä¸åˆ°å“ªé‡Œå»ï¼Œç¬¬äºŒï¼Œä¸éœ€è¦åŒæ–¹ç»´æŒä¸€ä¸ªåŒæ­¥çŠ¶æ€ï¼ŒæœåŠ¡å™¨å°±å¾ˆè½»æ¾ã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h7hkg63d3uj33341xgx6p.jpg" alt="æ¼‚äº®å°‘æ•°æ°‘æ—ç¾å¥³"></p>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œç¼–ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>netty</tag>
      
      <tag>tio</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸Šç­æ—¥å¯„</title>
    <link href="/2022/10/19/gossip-07/"/>
    <url>/2022/10/19/gossip-07/</url>
    
    <content type="html"><![CDATA[<p>å‡ºå»é—²é€›ï¼Œæ·±ç§‹åŠ ä¸Šåˆåçš„é˜³å…‰ï¼Œç…§åœ¨èº«ä¸Šè¿˜æœ‰ç‚¹ç‚çƒ­ï¼Œæƒ³èµ·åœ¨è€å®¶æ”¶è·çš„çˆ¹çˆ¹å¥¶å¥¶ï¼Œæˆ‘ç¼“æ…¢æ­¥è¡Œéƒ½æœ‰äº›è®¸çš„ç‡¥çƒ­ï¼Œå¦‚æœåœ¨è¿™ä¸ªå¤©æ°”ä¸‹è¿›è¡Œä½“åŠ›åŠ³ä½œï¼Œåº”è¯¥ä¼šæµæ±—çš„ã€‚å›ä¸å»ï¼Œè¯´ä¸ªæ­£èƒ½é‡çš„äº‹ï¼Œæ ¸é…¸æ£€æµ‹ï¼Œä»¥åŠæ–°å† ç–«è‹—ã€‚</p><p>ä»Šæ—¥æ ¸é…¸ï¼šâœ”ï¸</p><p>è¯´èµ·ä¸€ä¸ªæœ‹å‹ï¼Œåšæ¢¦æ¢¦è§æˆ‘å’Œå‰å¥³å‹å¤åˆäº†ï¼Œæˆ‘è¯´ä¸å¯èƒ½å¤åˆäº†ï¼Œäºæ˜¯å½“æ™šæˆ‘è‡ªå·±ä¹Ÿæ¢¦è§å¤åˆäº†ï¼Œæ¢¦çš„çœŸå‡ï¼Œæ­£åï¼Œæˆ‘éƒ½ä¸å…³æ³¨ï¼Œæˆ‘å…³æ³¨çš„æ˜¯æˆ‘å¥½ä¹…æ²¡æœ‰æ¢¦è§å¥¹äº†ï¼Œä¹Ÿè®¸æ˜¯äººæèµ·çš„ç¼˜æ•…ã€‚æ²¡æœ‰çº ç»“ä»€ä¹ˆï¼Œå°±å½“ä¸å­˜åœ¨å°±å¥½ã€‚</p><p>åˆ»æ„å»é—å¿˜æ€»æ˜¯äº‹ä¸æ„¿è¿ï¼Œä½œä¸ºå¤©é€‰æ‰“å·¥äººï¼Œåœ¨hfè¿™é‡Œå·¥ä½œå…¶å®æŒºå¥½ï¼Œå°äº†æŒºå¤šåŒºçš„æˆ‘ï¼Œå¹¶æ²¡æœ‰å—åˆ°å½±å“ï¼Œç–«æƒ…ä»¥æ¥å”¯ä¸€è¢«å°å‘ç”Ÿåœ¨ä¸Šå‘¨ï¼Œä¸Šåˆå°äº†ï¼Œä¸‹åˆè§£äº†ï¼Œä¹ƒè‡³äºæˆ‘å¹¶æ²¡æœ‰å¤šå°‘æ„Ÿè§‰ã€‚æˆ‘çš„æœ‹å‹å°±æ¯”è¾ƒå°´å°¬äº†ï¼Œå°å°åŒºçš„å°å°åŒºï¼Œä»¥ç›®å‰ç–«æƒ…çš„å½¢å¼ï¼Œåªèƒ½è¯´ï¼Œåšæ ¸é…¸çš„å§å§ä»¬æ…å–‰å’™æ—¶æ‰‹åŠ²ä¹Ÿé€æ¸ç»µåšï¼Œå¤±å»äº†ä¹‹å‰çš„èœ»èœ“ç‚¹æ°´èˆ¬çš„ä¼˜é›…ã€‚</p><p>ç–«æƒ…å½¢åŠ¿ï¼Œé£å£°é¹¤å”³ï¼Œè¿˜æœ‰è¯´zfåœ¨è—ä¸œè¥¿ï¼Œæ€•åˆ°æ—¶æœ‰é’±ä¹Ÿä¹°ä¸åˆ°ä¸œè¥¿åƒçš„å¢ƒåœ°ï¼Œæˆ‘ä¹Ÿå±¯äº†ç‚¹å¹²ç²®ã€‚ä»¥é˜²ä¸æ—¶ä¹‹éœ€ã€‚æ¦¨èœï¼Œå’¸é¸­è›‹ï¼Œå’¸è›‹è¶…äººã€‚åˆä¼‘æ— èŠæ—¶æ‰“äº†å‡ ç›˜lolmï¼Œæ€ä¹ˆæ‰“å°±æ˜¯è¾“ä¸äº†ï¼Œä¸€è·¯kukuå¿«ä¸Šé’»çŸ³äº†ï¼Œå°±æ˜¯æƒ³æ‰åˆ†çš„ï¼Œæˆ‘ä»¥ä¸ºæˆ‘ç©çš„å¤ŸæŠ½è±¡äº†ï¼Œæ²¡æƒ³åˆ°å¯¹é¢æ˜¾ç„¶å®åŠ›æ›´å¼ºï¼Œç©äº†å››ç›˜ï¼Œè¾“äº†ä¸‰ç›˜ï¼Œè¿˜ä¸Šäº†ä¸€é¢—æ˜Ÿï¼Œè¿™ä¸ªæ¸¸æˆå°±æ˜¯æŠŠä½ æ‹½ä¸Šé’»çŸ³æ®µä½ï¼Œä½†æ˜¯æˆ‘åªæƒ³æ‰“ä¸Šä¸Šåˆ°é“‚é‡‘æ®µä½ã€‚åŠ æ²¹ä¸‹åˆ†ã€‚</p><p>æ— äº‹æœŸé—´ä¹°äº†ä¸€ä¸ªç”µåŠ¨è½¦ï¼Œå¤©å¤©ä¸Šç­æ‰¾å•è½¦æ‰«ç æ‰«çƒ¦äº†ï¼Œå“ˆç½—å•è½¦ä»€ä¹ˆçš„ï¼Œæ„Ÿè§‰ä¹Ÿå¹¶ä¸éœ€è¦äº†ï¼Œä½†æ˜¯æˆ‘ä¹°çš„åŠå¹´çš„å¡è¿˜æœ‰ä¸¤ä¸ªæœˆï¼Œå­¦ç‚¹ç”µåŠ¨è½¦è½¦æŠ€ä¹Ÿæ˜¯å¥½äº‹ï¼Œç»™ä»¥åé€å¤–å–åšç‚¹å‡†å¤‡ã€‚æœªé›¨ç»¸ç¼ªäº†å±äºæ˜¯ã€‚</p><p>åŒå­¦ç»“å©šçš„ç»“å©šï¼Œè€Œæˆ‘è¿˜è¿˜åªèƒ½é æ¢¦é‡Œå’Œå‰å¥³å‹å¤åˆï¼Œä½ è¯´è¿™å«ä»€ä¹ˆäº‹ã€‚çœ‹äº†çœ¼é¡¹ç›®ä»£ç ï¼Œå·¥ä½œé¡¹ç›®æˆ–è€…è‡ªå·±å†™çš„é¡¹ç›®ï¼Œè¿˜æ˜¯å¤ªæ‡’ï¼Œæ‡’åˆ°æè‡´è‡ªç„¶çƒ‚ï¼Œç¥æ‘†è€Œå½¢ä¸æ‘†ï¼Œä¸€è¾¹è®°ï¼Œä¸€è¾¹Gã€‚ã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h7gg8s9onnj32yo1o0e82.jpg" alt="åŒé©¬å°¾è¾«"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mysqlå®‰è£…8.0+ç‰ˆæœ¬,ä»¥åŠä¸»ä»å¤åˆ¶çš„é…ç½®ã€‚</title>
    <link href="/2022/08/23/other-07/"/>
    <url>/2022/08/23/other-07/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p><a href="https://dev.mysql.com/downloads/mysql/">ä¸‹è½½åœ°å€</a></p><p>è¿™é‡Œä¸‹è½½è½¯ä»¶æ˜¯å‹ç¼©åŒ…å½¢å¼çš„ï¼Œç”±äºæˆ‘ä»¬éœ€è¦æ­å»ºä¸»ä»å¤åˆ¶ï¼Œæ‰€æœ‰æˆ‘ä»¬éœ€è¦å®‰è£…å¤šä¸ªMysqlå®ä¾‹ï¼Œä½¿ç”¨å‹ç¼©åŒ…å½¢å¼çš„ä¾¿äºç®¡ç†å’Œå®‰è£…ã€‚</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>è§£å‹ä¸‹è½½æ–‡ä»¶ï¼ŒåŒ…å«binç›®å½•çš„ä¸ºæ ¹ç›®å½•ï¼Œåœ¨æ ¹ç›®å½•ä¸‹é¢æ–°å»º<code>my.ini</code>æ–‡ä»¶ï¼Œ<br>æ–‡ä»¶å†…å®¹</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span><span class="token comment"># è®¾ç½®3306ç«¯å£</span><span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token number">3308</span><span class="token comment"># è®¾ç½®mysqlçš„å®‰è£…ç›®å½•</span><span class="token assign-left variable">basedir</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>Software<span class="token punctuation">\</span>mysql<span class="token punctuation">\</span>mysql-8.0.30-winx6422<span class="token comment"># è®¾ç½®mysqlæ•°æ®åº“çš„æ•°æ®çš„å­˜æ”¾ç›®å½•</span><span class="token assign-left variable">datadir</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>Software<span class="token punctuation">\</span>mysql<span class="token punctuation">\</span>mysql-8.0.30-winx6422<span class="token punctuation">\</span>data<span class="token comment"># æ­¤å¤„åŒä¸Š</span><span class="token comment"># å…è®¸æœ€å¤§è¿æ¥æ•°</span><span class="token assign-left variable">max_connections</span><span class="token operator">=</span><span class="token number">200</span><span class="token comment"># å…è®¸è¿æ¥å¤±è´¥çš„æ¬¡æ•°ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢æœ‰äººä»è¯¥ä¸»æœºè¯•å›¾æ”»å‡»æ•°æ®åº“ç³»ç»Ÿ</span><span class="token assign-left variable">max_connect_errors</span><span class="token operator">=</span><span class="token number">10</span><span class="token comment"># æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸ºUTF8</span>character-set-server<span class="token operator">=</span>utf8mb4collation-server <span class="token operator">=</span> utf8mb4_unicode_ci<span class="token comment"># åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“</span>default-storage-engine<span class="token operator">=</span>INNODB<span class="token comment"># é»˜è®¤ä½¿ç”¨â€œmysql_native_passwordâ€æ’ä»¶è®¤è¯</span><span class="token assign-left variable">default_authentication_plugin</span><span class="token operator">=</span>mysql_native_password<span class="token punctuation">[</span>mysql<span class="token punctuation">]</span><span class="token comment"># è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†</span>default-character-set<span class="token operator">=</span>utf8mb4<span class="token punctuation">[</span>client<span class="token punctuation">]</span><span class="token comment"># è®¾ç½®mysqlå®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯æ—¶é»˜è®¤ä½¿ç”¨çš„ç«¯å£</span><span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token number">3308</span>default-character-set<span class="token operator">=</span>utf8mb4<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è§£é‡Šä¸€ä¸‹ï¼Œç«¯å£ä¸æ˜¯3306æ˜¯å› ä¸ºæˆ‘éœ€è¦åœ¨ç”µè„‘ä¸Šè£…å¤šä¸ªMysqlï¼Œå®‰è£…ä½ç½®å’Œæ•°æ®å­˜å‚¨ä½ç½®ï¼Œè‡ªå·±ä¿®æ”¹ã€‚</p><p>ä¸‹é¢å°±å°±æ˜¯æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼Œä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€cmd,ç„¶åè¿›å…¥æ ¹ç›®å½•ä¸­çš„binç›®å½•ä¸‹ï¼Œæ‰§è¡Œ,<code>mysqld install mysql_11</code>å‘½ä»¤,æœ€åä¸ºæœåŠ¡åç§°ï¼Œå°±æ˜¯æˆ‘ä»¬æ‰§è¡Œ<code>net start</code> å‘½ä»¤æ—¶å¯åŠ¨çš„æœåŠ¡ï¼Œæˆ‘è¿™é‡Œè®¾ç½®æˆäº†<code>mysql_11</code>,é‚£ä¹ˆæˆ‘æ‰§è¡Œçš„å‘½ä»¤å¯åŠ¨å‘½ä»¤å°±åº”è¯¥æ˜¯ï¼Œ<code>net start mysql</code>ã€‚</p><p>è¿˜æ˜¯ åœ¨è¿™ä¸ªç›®å½•ä¸‹æ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤ <code>mysqld --initialize --console</code>ï¼Œç•™æ„åŒ…å«è¿™æ ·å†…å®¹çš„è¾“å‡ºå†…å®¹ã€‚<code>[Server] A temporary password is generated for root@localhost: è¿™é‡Œæ˜¯ä¸´æ—¶å¯†ç éœ€è¦ä¿å­˜èµ·æ¥</code></p><p>æ“ä½œæ— è¯¯æ—¶è¿™ä¸ªæ—¶å€™å°±å¯ä»¥å¯åŠ¨æœåŠ¡äº†ï¼Œå‘½ä»¤ï¼š<code>net start mysql_11</code>, å¿…é¡»ä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€cmdæ‰§è¡Œå‘½ä»¤ï¼Œè¾“å‡ºæˆåŠŸå¯åŠ¨ï¼Œåˆ™å¯ä»¥ç™»é™†</p><h2 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h2><p>å‘½ä»¤ï¼š<code>mysql -uroot -p</code><br>æŒ‰å›è½¦ä¹‹åç„¶åä¼šæç¤ºä½ è¾“å…¥å¯†ç ï¼š<br>ç™»å½•<code>mysql</code><br>ä¹Ÿå¯ä»¥å°†å¯†ç ç›´æ¥å¡«å†™åœ¨<code>-p</code>åé¢ã€‚ä¾‹å¦‚ï¼šå¯¹äºç”¨æˆ·åä¸º<code>root</code>ï¼Œå¯†ç ä¸º<code>abcd</code>çš„è´¦å·ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼ç™»å½•ï¼š<br><code>mysql -uroot -pabcd</code>ã€‚æ³¨æ„ï¼š<code>-u</code>å’Œç”¨æˆ·åï¼Œ<code>-p</code>å’Œå¯†ç ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ã€‚<br>mysqlçš„ä¸€äº›å‚æ•°ï¼š</p><p><code>-u</code>æŒ‡å®šç”¨æˆ·åã€‚<br><code>-p</code>æŒ‡å®šå¯†ç ã€‚<br><code>-h</code>æŒ‡å®šä¸»æœºåœ°å€ã€‚é»˜è®¤ä¸ºlocalhost<br><code>-P</code>æŒ‡å®šç«¯å£å·ï¼Œé»˜è®¤ä¸º3306ï¼ˆmysqlæœåŠ¡é»˜è®¤çš„å¯åŠ¨ç«¯å£ä¸º3306ï¼‰ã€‚ä¾‹å¦‚ï¼š-P13306è¡¨ç¤ºè¿æ¥ç«¯å£å·ä¸º13306çš„MySQLæœåŠ¡å™¨ã€‚ï¼ˆæ³¨æ„ï¼šå¯†ç ä¸ºå°å†™çš„pï¼Œç«¯å£å·ä¸ºå¤§å†™çš„Pï¼‰<br>å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå¯åŠ¨çš„ç«¯å£å·ã€‚</p><h2 id="ä¿®æ”¹å¯†ç "><a href="#ä¿®æ”¹å¯†ç " class="headerlink" title="ä¿®æ”¹å¯†ç "></a>ä¿®æ”¹å¯†ç </h2><p>ç™»å½•ä¹‹åï¼Œåœ¨è¾“å…¥å‘½ä»¤æ—¶ï¼Œå‰é¢çš„æç¤ºç¬¦ä¸ºï¼š<code>mysql</code> &gt;åœ¨è¿™åé¢è¾“å…¥çš„è¯­å¥ä¸­ï¼Œé»˜è®¤æäº¤ç¬¦å·ä¸ºåˆ†å·<code>ï¼ˆ;ï¼‰</code>ã€‚æŒ‰å›è½¦æ—¶åªä¼šæ¢è¡Œï¼Œå¹¶ä¸ä¼šæäº¤è¯­å¥ã€‚ä¹‹åè¾“å…¥<code>;</code>ä¹‹åæŒ‰å›è½¦æ‰ä¼šæäº¤è¯­å¥ã€‚</p><p>å¦‚æœå‰é¢å¯¹<code>mysql</code>è¿›è¡Œåˆå§‹åŒ–ä½¿ç”¨çš„æ˜¯<code>--initialize-insecure</code>å‘½ä»¤ï¼Œåˆ™å¯†ç ä¸ºç©ºï¼Œåœ¨è¾“å…¥å¯†ç æ—¶ç›´æ¥æŒ‰å›è½¦å³å¯ã€‚ç™»å½•ä¹‹åï¼Œä¸ç”¨ä¿®æ”¹å¯†ç å³å¯ç›´æ¥ä½¿ç”¨<code>MySQL</code>ã€‚ä¾‹å¦‚ï¼šåˆ›å»ºæ•°æ®åº“ç­‰æ“ä½œã€‚<br>å¦‚æœå‰é¢å¯¹<code>mysql</code>è¿›è¡Œåˆå§‹åŒ–ä½¿ç”¨çš„æ˜¯<code>--initialize</code>å‘½ä»¤ï¼Œåˆ™å¯†ç ä¸ºç³»ç»Ÿéšæœºç”Ÿæˆçš„ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ç™»å½•ä¹‹åéœ€è¦ä¿®æ”¹å¯†ç æ‰èƒ½ä½¿ç”¨ã€‚<br>è‹¥ä¸ä¿®æ”¹å¯†ç ï¼Œç›´æ¥æ“ä½œæ•°æ®åº“ï¼Œä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š<br><code>ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.</code><br>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ä¿®æ”¹å¯†ç ï¼š<br><code>set password=&#39;new_password&#39;;</code>æ³¨æ„ï¼šæ–°çš„å¯†ç å‰åæœ‰å•å¼•å·ã€‚åœ¨<code>mysql</code>ä¸­ï¼Œå•å¼•å·ä¹‹é—´è¡¨ç¤ºçš„æ˜¯å­—ç¬¦ä¸²ã€‚<br><code>alter user &#39;root&#39;@&#39;localhost&#39; password expire never;</code>è®¾ç½®å¯†ç æ°¸ä¸è¿‡æœŸã€‚<br><code>flush privileges;</code>åˆ·æ–°æƒé™ã€‚<br>ä¹‹åé€€å‡ºï¼ˆä½¿ç”¨<code>q</code>ï¼Œæˆ–è€…<code>exit</code>æˆ–è€…<code>quit</code>éƒ½å¯ä»¥é€€å‡ºï¼‰ï¼Œç„¶åé‡æ–°ç™»å½•å³å¯ã€‚<br>è‡³æ­¤ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨MySQLäº†ã€‚</p><h2 id="å®‰è£…å¤šä¸ª"><a href="#å®‰è£…å¤šä¸ª" class="headerlink" title="å®‰è£…å¤šä¸ª"></a>å®‰è£…å¤šä¸ª</h2><p>ç«¯å£ä¸èƒ½ä¸€è‡´ï¼Œç„¶å<code>mysql install [æœåŠ¡å]</code>ï¼ŒæœåŠ¡åä¸èƒ½ä¸€è‡´ã€‚å°±é…±ã€‚</p><h2 id="ä¸»ä»å¤åˆ¶é…ç½®"><a href="#ä¸»ä»å¤åˆ¶é…ç½®" class="headerlink" title="ä¸»ä»å¤åˆ¶é…ç½®"></a>ä¸»ä»å¤åˆ¶é…ç½®</h2><h3 id="å®‰è£…å¤šä¸ªæ•°æ®åº“"><a href="#å®‰è£…å¤šä¸ªæ•°æ®åº“" class="headerlink" title="å®‰è£…å¤šä¸ªæ•°æ®åº“"></a>å®‰è£…å¤šä¸ªæ•°æ®åº“</h3><p>å®‰è£…æ•™ç¨‹å°±æ˜¯ä¸Šé¢åœ¨é‡æ–°è£…ä¸€ä¸ªå³å¯ï¼Œæ”¹ä¸€ä¸‹ç«¯å£å·ä»¥åŠæœåŠ¡çš„åç§°å³å¯ã€‚å½“ç„¶è¿™æ˜¯åœ¨ä¸€å°æœºå™¨ä¸Šï¼Œå®é™…ä¸Šä¸»ä»å¤åˆ¶åº”è¯¥æ˜¯åœ¨ä¸åŒæœºå™¨ä¸Šè¿›è¡Œçš„æ“ä½œã€‚</p><h3 id="é…ç½®ä¸»åº“"><a href="#é…ç½®ä¸»åº“" class="headerlink" title="é…ç½®ä¸»åº“"></a>é…ç½®ä¸»åº“</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#åœ¨mysqldä¸‹å¢åŠ é…ç½®</span><span class="token comment">#æœåŠ¡å™¨IDæ ‡å¿—ï¼Œå¿…é¡»é…ç½®ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸åŒ</span><span class="token assign-left variable">server_id</span><span class="token operator">=</span><span class="token number">1</span><span class="token comment">#å¼€å¯bin logæ—¥å¿—æ–‡ä»¶ï¼Œæ–‡ä»¶åä¸ºmysql-binçš„å‰ç¼€</span>log-bin<span class="token operator">=</span>mysql-bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>é‡å¯ä¸»åº“</p><p>æŸ¥çœ‹ä¸»åº“çŠ¶æ€</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">show master status<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>ä¸»è¦å…³æ³¨<code>File</code> å’Œ <code>Position</code>å­—æ®µ</p><h3 id="è®¾ç½®ä»åº“"><a href="#è®¾ç½®ä»åº“" class="headerlink" title="è®¾ç½®ä»åº“"></a>è®¾ç½®ä»åº“</h3><p>ä»åº“è®¾ç½®<code>server_id</code>å’Œä¸»åº“ä¸ä¸€æ ·å°±è¡Œäº†ï¼Œè®¾ç½®åé‡å¯ã€‚</p><p>å¦‚æœéœ€è¦è®¾ç½®ä»åº“åªè¯»åˆ™åŠ ä¸Šè¿™ä¸¤è¡Œ</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">read_only</span><span class="token operator">=</span><span class="token number">1</span> <span class="token comment">#é™å®šæ™®é€šç”¨æˆ·åªè¯»</span><span class="token assign-left variable">super_read_only</span><span class="token operator">=</span>on <span class="token comment">#é™å®šrootåªè¯»</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><p>ç„¶ååœ¨ä»åº“å®¢æˆ·ç«¯é…ç½®è¿æ¥ä¸»åº“ç›¸å…³ä¿¡æ¯ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">change master <span class="token keyword">to</span>     master_host <span class="token operator">=</span> <span class="token string">'192.168.127.147'</span><span class="token punctuation">,</span>     master_user <span class="token operator">=</span> <span class="token string">'replica'</span><span class="token punctuation">,</span>     master_port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span>     master_password<span class="token operator">=</span><span class="token string">'123456'</span><span class="token punctuation">,</span>     master_log_file <span class="token operator">=</span> <span class="token string">'mysql-bin.000001'</span><span class="token punctuation">,</span>     master_log_pos<span class="token operator">=</span><span class="token number">156</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>é‡Œé¢çš„å†…å®¹è‡ªå·±ä¿®æ”¹æˆå¯¹åº”çš„ä¸»åº“åœ°å€ç”¨æˆ·ä»¥åŠå¯†ç ã€‚</p><p>å¼€å¯ä¸»ä»å¤åˆ¶</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">start</span> slave<span class="token punctuation">;</span><span class="token keyword">show</span> slave <span class="token keyword">status</span>\G<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><div class="note note-info">            <p>è¿™æ¬¡æ“ä½œåªæ˜¯ç®€å•çš„æ¼”ç¤ºäº†ä¸€ä¸‹ï¼Œä¸»ä»æ“ä½œï¼Œè¿˜æœ‰å¾ˆå¤šæƒ…å†µå¹¶æœªä¸€ä¸€è¯¦è¿°ï¼Œæ¯”å¦‚ä¸»åº“ä¸­æœ‰æ•°æ®æ—¶æ€ä¹ˆå¤„ç†ï¼Œåˆæˆ–è€…åªåŒæ­¥ä¸€ä¸ªåº“åº”è¯¥æ€ä¹ˆé…ç½®ï¼Œè¿˜æœ‰å¦‚ä½•è®¾ç½®ä»åº“åªè¯»ï¼Œç­‰ç­‰ï¼Œè¿™äº›éƒ½éœ€è¦å¤šå¤šå»å­¦ä¹ ï¼Œå»æ“ä½œã€‚</p>          </div><h2 id="å¸è½½"><a href="#å¸è½½" class="headerlink" title="å¸è½½"></a>å¸è½½</h2><p>è§£å‹ç‰ˆçš„å¸è½½å¾ˆç®€å•å•Šï¼Œé¦–å…ˆåœæ­¢æœåŠ¡<code>net stop mysql</code>,åœ¨æ‰§è¡Œå‘½ä»¤<code>mysqld -remove [æœåŠ¡å]</code>   å¦‚ <code>mysqld -remove MySQL</code>, æœ€ååˆ é™¤æ–‡ä»¶å³å¯ã€‚è§£å‹ç‰ˆçš„ä¸éœ€è¦æ¸…ç†æ³¨å†Œè¡¨ã€‚</p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h5gm5kyihnj32yo1tdaz9.jpg" alt="éº»åŒª å¥³å­© è„¸ çº¢è‰²çš„èŠ± å”¯ç¾"></p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>mysql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TCPç²˜åŒ…å’Œæ‹†åŒ…</title>
    <link href="/2022/08/08/net-04/"/>
    <url>/2022/08/08/net-04/</url>
    
    <content type="html"><![CDATA[<p>è¿™ä¸ªä¸œè¥¿åœ¨ç½‘ç»œç¼–ç¨‹ä¸­è€ç”Ÿå¸¸è°ˆçš„ä¸€ä¸ªé—®é¢˜äº†ï¼Œç½‘ä¸Šè¿™ä¸ªç›¸å…³çš„çŸ¥è¯†éå¸¸ä¹‹å¤šã€‚å¤šåˆ°æˆ‘å…³äºè¿™æ–¹ä¾¿å¤šæ‰“ä¸€ä¸ªå­—ï¼Œéƒ½æ˜¯é‡å¤çš„é‚£ç§ï¼Œå“ˆå“ˆå“ˆã€‚è¿˜æ˜¯ä»¥ç†è§£ä¸ºä¸»ã€‚</p><h2 id="TCP-x2F-IPåè®®åˆ†å±‚æ¨¡å‹"><a href="#TCP-x2F-IPåè®®åˆ†å±‚æ¨¡å‹" class="headerlink" title="TCP&#x2F;IPåè®®åˆ†å±‚æ¨¡å‹"></a>TCP&#x2F;IPåè®®åˆ†å±‚æ¨¡å‹</h2><p>ç½‘ç»œåˆ°åº•åˆ†å‡ å±‚ï¼Œæœ‰åˆ†ä¸ƒå±‚çš„ï¼Œæœ‰åˆ†å››å±‚çš„ï¼Œä¹Ÿæœ‰åˆ†äº”å±‚çš„ã€‚ä¸é’»ç‰›è§’å°–å“ˆï¼Œå¤§è‡´çœ‹ä¸€ä¸‹ã€‚</p><div class="note note-info">            <p>å¤§å­¦æ•™ç§‘ä¹¦ä¸­æœ‰è¯´åˆ†æˆ7å±‚ï¼Œä¹Ÿæœ‰è¯´åˆ†æˆ4å±‚çš„ï¼Œç¬”è€…è§‰å¾—4å±‚æ›´åˆé€‚ä¸€äº›ï¼Œåƒä¸ƒå±‚ä¸­çš„ç¬¬5ã€6å±‚å®Œå…¨ä¸æ˜¯å¿…é¡»çš„ï¼Œå°±ç®—æœ‰ä¹Ÿæ˜¯å„è‡ªåˆ¶å®šåè®®ï¼Œè€Œåˆ¶å®šåè®®çš„äººåŸºæœ¬ä¸ä¼šå»è€ƒè™‘ç¬¬5å±‚å«ä¼šè¯å±‚ç¬¬6å±‚å«è¡¨ç¤ºå±‚ï¼Œåœ¨ç§æœ‰åº”ç”¨å±‚åè®®ä¸­ï¼Œæ›´å¤šçš„æ˜¯ä¼šç§å®šä¸€ä¸ªæ¡æ‰‹äº’ä¿¡åè®®ï¼Œä»¥è¡¨ç¤ºé€šè®¯åŒæ–¹æ˜¯äº’ä¿¡çš„</p>          </div><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h4z73s0oplj32yo1o01kx.jpg" alt="ç½‘ç»œé€šä¿¡åè®®åˆ†å±‚å›¾"></p><h3 id="åº”ç”¨å±‚"><a href="#åº”ç”¨å±‚" class="headerlink" title="åº”ç”¨å±‚"></a>åº”ç”¨å±‚</h3><ul><li>ä½ æƒ³ç”¨javaå†™ä¸€ä¸ªç½‘ç»œç¨‹åºï¼Œä½ å†™çš„è¿™ä¸ªç¨‹åºå°±æ˜¯åº”ç”¨å±‚</li><li>æ‰€ä»¥QQã€å¾®ä¿¡ã€ä»¥åŠä½ æ­£åœ¨ä½¿ç”¨çš„æµè§ˆå™¨ï¼Œéƒ½æ˜¯åº”ç”¨å±‚</li></ul><p>è¿™å±‚å°±æ˜¯æˆ‘ä»¬ä¸»è¦å…³æ³¨çš„ï¼Œæˆ‘ä»¬å†™çš„ç»å¤§éƒ¨åˆ†ä»£ç å†™çš„ä¹Ÿå°±æ˜¯è¿™å±‚ã€‚</p><h3 id="ä¼ è¾“å±‚"><a href="#ä¼ è¾“å±‚" class="headerlink" title="ä¼ è¾“å±‚"></a>ä¼ è¾“å±‚</h3><ul><li>ä¼ è¾“å±‚è¦ä¹ˆèµ°TCPåè®®ï¼Œè¦ä¹ˆèµ°UDPåè®®ï¼Œæ²¡æœ‰ç¬¬ä¸‰ç§åè®®ã€‚</li><li>TCPåè®®çš„é€šä¿¡åŒæ–¹ï¼Œéœ€è¦çŸ¥é“å½¼æ­¤éƒ½åœ¨å®¶å‘†ç€ï¼Œä¸”ç”±å®¢æˆ·ç«¯ä¸»åŠ¨å‘èµ·è¿æ¥ã€‚</li><li>UDPåè®®ï¼Œå®¢æˆ·ç«¯çŸ¥é“æœåŠ¡å™¨å®¶ä½åœ¨å“ªï¼Œä½†å¹¶ä¸çŸ¥é“æœåŠ¡å™¨åœ¨ä¸åœ¨å®¶ï¼Œæ‰”æ¡æ¶ˆæ¯å»æœåŠ¡å™¨å®¶ï¼Œå¦‚æœæœåŠ¡å™¨ä¸åœ¨å®¶è¿™æ¡æ¶ˆæ¯å°±è¢«ä¸¢äº†ã€‚</li></ul><h3 id="å…¶ä»–çš„"><a href="#å…¶ä»–çš„" class="headerlink" title="å…¶ä»–çš„"></a>å…¶ä»–çš„</h3><p>å¤ªè¿‡åº•å±‚çš„æˆ‘ä»¬æ¥è§¦ä¸åˆ°ï¼Œç¼–ç¨‹è¯­è¨€å·²ç»å°è£…å¥½äº†ã€‚å†æˆ–è€…å¯èƒ½æ“ä½œç³»ç»Ÿä¹Ÿç»™ä½ å°è£…å¥½äº†ã€‚ç”¨å°±è¡Œäº†ã€‚</p><h2 id="ç²˜åŒ…å’Œæ‹†åŒ…æ˜¯æ€ä¹ˆäº§ç”Ÿçš„"><a href="#ç²˜åŒ…å’Œæ‹†åŒ…æ˜¯æ€ä¹ˆäº§ç”Ÿçš„" class="headerlink" title="ç²˜åŒ…å’Œæ‹†åŒ…æ˜¯æ€ä¹ˆäº§ç”Ÿçš„"></a>ç²˜åŒ…å’Œæ‹†åŒ…æ˜¯æ€ä¹ˆäº§ç”Ÿçš„</h2><p>å½’æ ¹ç»“åº•ï¼Œå°±æ˜¯TCPæ˜¯ä¸ªâ€œæµâ€åè®®ï¼Œæ²¡æœ‰ç•Œé™çš„ä¸€ä¸²æ•°æ®ã€‚TCPåº•å±‚å¹¶ä¸äº†è§£ä¸Šå±‚ä¸šåŠ¡æ•°æ®çš„å…·ä½“å«ä¹‰ï¼Œå®ƒä¼šæ ¹æ®TCPç¼“å†²åŒºçš„å®é™…æƒ…å†µè¿›è¡ŒåŒ…çš„åˆ’åˆ†ï¼Œæ‰€ä»¥åœ¨ä¸šåŠ¡ä¸Šè®¤ä¸ºï¼Œä¸€ä¸ªå®Œæ•´çš„åŒ…å¯èƒ½ä¼šè¢«TCPæ‹†åˆ†æˆå¤šä¸ªåŒ…è¿›è¡Œå‘é€ï¼Œä¹Ÿæœ‰å¯èƒ½æŠŠå¤šä¸ªå°çš„åŒ…å°è£…æˆä¸€ä¸ªå¤§çš„æ•°æ®åŒ…å‘é€ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„TCPç²˜åŒ…å’Œæ‹†åŒ…é—®é¢˜ã€‚è¿™æ ·è¯´å¯èƒ½ä¸å¤ªç†è§£ï¼Œéšä¾¿æœç´¢ä¸€ä¸‹ä¸€å¤§å †ï¼Œçœ‹å‡ ç¯‡å°±å°±ç†è§£äº†ã€‚</p><h2 id="å¦‚ä½•è§£å†³"><a href="#å¦‚ä½•è§£å†³" class="headerlink" title="å¦‚ä½•è§£å†³"></a>å¦‚ä½•è§£å†³</h2><p>ä¸Šé¢è¯´äº†ï¼Œæ˜¯ä¸€ä¸ªæ²¡æœ‰ç•Œé™ä¸€ä¸²æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼ è¾“æ•°æ®çš„æ—¶å€™åŠ ä¸ªç•Œé™ä¸å°±å¥½äº†ã€‚åŠ ç•Œé™çš„æ–¹å¼ä¹Ÿå°±æ˜¯è§£å†³æ–¹æ¡ˆï¼Œæœ‰ç›´æ¥åŠ åˆ†éš”ç¬¦çš„ï¼Œæœ‰è§„å®šæ¯æ¬¡æ¥æ”¶å­—èŠ‚é•¿åº¦çš„ï¼ˆä¸æ€ä¹ˆå¸¸ç”¨ï¼‰ï¼Œè¿˜æœ‰å°±æ˜¯æ¯æ¬¡å‘æŠ¥æ–‡ï¼Œåœ¨æŠ¥æ–‡çš„å¤´éƒ¨å‡ ä¸ªå­—èŠ‚ï¼Œå’Œæ¥æ”¶æ–¹è¯´ï¼Œæˆ‘è¦å‘å¤šå°‘å­—èŠ‚æ•°æ®çš„ï¼ˆå¸¸ç”¨ï¼ï¼ï¼‰ã€‚</p><p>nettyè§£å†³æ–¹æ¡ˆï¼šå…³æ³¨ä¸€ä¸‹è¿™ä¸¤ä¸ªç±»å³å¯ã€‚<code>LengthFieldBasedFrameDecoder</code>,<code>LengthFieldPrepender</code>è¿™ä¸¤ä¸ªç±»é‡‡ç”¨äº†åœ¨æŠ¥æ–‡å¤´éƒ¨å¢åŠ è¡¨ç¤ºæŠ¥æ–‡é•¿åº¦çš„æ•°æ®ã€‚</p><p>TIOé‡Œï¼Œå®˜ç½‘ä¸Šç¤ºä¾‹çš„ç¼–è§£ç è§£ç å™¨å·²ç»åšäº†ç²˜åŒ…å’Œæ‹†åŒ…çš„å¤„ç†ã€‚å¤„ç†æ–¹å¼åŒä¸Šã€‚ä¹‹å‰å†™çš„é‚£ç¯‡åšæ–‡å¯ä»¥çœ‹ä¸€ä¸‹ï¼Œå°±æ˜¯é‡Œé¢çš„ç¼–è§£ç ä»£ç ã€‚</p><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>å¤šå¤šç†è§£ï¼Œç†è§£ä¹‹åå“ªæ€•è®©ä½ å†™ä¸€ä¸ªç®€å•çš„æ‹†åŒ…ç²˜åŒ…å¤„ç†æ–¹æ¡ˆä½ ä¹Ÿèƒ½å†™å‡ºæ¥ï¼Œä½†æ˜¯ï¼Œåœ¨æ¡†æ¶çš„æœ‰çš„æƒ…å†µä¸‹ï¼Œä¸å»ºè®®è‡ªå·±å»å†™ï¼Œå› ä¸ºè¿™ä¸ªç²˜åŒ…å’ŒåŠåŒ…å¤„ç†åœ¨å¤šçº¿ç¨‹ä¸­å¤„ç†èµ·æ¥ï¼Œæœ‰ç‚¹éº»çƒ¦ï¼Œéœ€è¦æ‹¼æ¥æ•°æ®ï¼Œå¦‚æœç¬¬ä¸€æ¬¡å‘äº†ä¸€åŠï¼Œç¬¬äºŒæ¬¡æ€ä¹ˆå¤„ç†ï¼Œå¦‚æœæ”¶å¤šäº†ï¼Œåˆæ€ä¹ˆå¤„ç†ï¼Œå¹¶ä¸ç®€å•ã€‚ç°æˆçš„è½®å­å°±å¥½å¥½ç”¨ã€‚ğŸ˜ƒğŸ˜ƒ</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h50ai5k50pj32yo1o0dqo.jpg" alt="å¿«ä¹å·¥ä½œ æ—©æ—¥é€€ä¼‘"></p>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œç¼–ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>net</tag>
      
      <tag>netty</tag>
      
      <tag>tio</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨T-IOå†™çš„ä¸€ä¸ªç®€æ˜“çš„èŠå¤©å®¤Demo</title>
    <link href="/2022/08/06/net-03/"/>
    <url>/2022/08/06/net-03/</url>
    
    <content type="html"><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>ä¾æ®å®˜ç½‘ä¸Šçš„æ ·ä¾‹ç¨åŠ æ”¹é€ ï¼Œæ”¹æˆäº†ä¸€ä¸ªç®€çº¦çš„èŠå¤©å®¤Demoï¼Œå¦‚å®˜ç½‘ä¸Šæ‰€è¯´ï¼Œè¿™ä¸ªDemoå®é™…ä¸Šéƒ½å¯ä»¥æ”¾ç”Ÿäº§ä¸Šï¼ŒåŸºæœ¬çš„é€šä¿¡å·²ç»è§£å†³äº†ã€‚åªéœ€è¦æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡é€‚é…ä¸€ä¸‹å³å¯ã€‚è¯ä¸å¤šè¯´ï¼Œç›´æ¥æ•´æµç¨‹ã€‚</p><h2 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h2><p>ç›®å‰åªç”¨åˆ°äº†æ ¸å¿ƒï¼Œå¼•å…¥å³å¯</p><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.t-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>tio-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.8.2.v20220628-RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="ä¸€äº›å¸¸é‡"><a href="#ä¸€äº›å¸¸é‡" class="headerlink" title="ä¸€äº›å¸¸é‡"></a>ä¸€äº›å¸¸é‡</h2><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChatConst</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * ç»‘å®šçš„ç¾¤ç»„æ ‡è¯†     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> groupNo <span class="token operator">=</span> <span class="token string">"2333"</span><span class="token punctuation">;</span>    <span class="token comment">/**     * æœåŠ¡çš„ç«¯å£     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> port <span class="token operator">=</span> <span class="token number">8011</span><span class="token punctuation">;</span>    <span class="token comment">/**     * é»˜è®¤ä¸ºæœ¬æœºçš„IP     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> ip <span class="token operator">=</span> <span class="token string">"127.0.0.1"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="æ•°æ®åŒ…è½½ä½“ï¼Œå¯ä»¥ç†è§£ä¸ºVo"><a href="#æ•°æ®åŒ…è½½ä½“ï¼Œå¯ä»¥ç†è§£ä¸ºVo" class="headerlink" title="æ•°æ®åŒ…è½½ä½“ï¼Œå¯ä»¥ç†è§£ä¸ºVo"></a>æ•°æ®åŒ…è½½ä½“ï¼Œå¯ä»¥ç†è§£ä¸ºVo</h2><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChatPack</span> <span class="token keyword">extends</span> <span class="token class-name">Packet</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> body<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBody</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> body<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>body <span class="token operator">=</span> body<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// æ¶ˆæ¯å¤´çš„é•¿åº¦ï¼Œåœ¨è¯»å–å†™å…¥æ—¶æˆ‘ä»¬ç”¨äº†Intç±»å‹</span>    <span class="token comment">// buffer.putInt(),ä»¥åŠbuffer.getInt()</span>    <span class="token comment">// æ‰€ä»¥ è¿™é‡Œä¸º4ä¸ªå­—èŠ‚é•¿åº¦ã€‚</span>    <span class="token comment">// æ³¨æ„è¿™é‡Œçš„é•¿åº¦ï¼Œå¹¶ä¸æ˜¯æŒ‡æ•°å­—çš„é•¿åº¦ï¼Œè€Œæ˜¯å­—èŠ‚é•¿åº¦ï¼è¯·åŠ¡å¿…ç†è§£ï¼Œ</span>    <span class="token comment">// æœ¬äººåœ¨è¿™é‡Œè¿·æƒ‘äº†æŒºé•¿æ—¶é—´ã€‚</span>    <span class="token comment">// æ­¤å¤„ä»£ç ä¹Ÿä¸å»ºè®®ä¿®æ”¹ï¼Œä¿®æ”¹çš„è¯éœ€è¦åŠ¨ç¼–è§£ç ä¸­çš„ä»£ç </span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">HEAD_LENGTH</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> body<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ChatPack</span> <span class="token function">getPack</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">ChatPack</span> pack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChatPack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        pack<span class="token punctuation">.</span><span class="token function">setBody</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> pack<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="ç¼–ç è§£ç "><a href="#ç¼–ç è§£ç " class="headerlink" title="ç¼–ç è§£ç "></a>ç¼–ç è§£ç </h2><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/** * å®¢æˆ·ç«¯æœåŠ¡ç«¯ç¼–ç è§£ç é€šç”¨ï¼Œä¸€èˆ¬æ— éœ€ä¿®æ”¹ */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DecodeOrEncode</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * è§£ç      * @param buffer buffer     * @param readableLength å®é™…æ•°æ®é•¿åº¦     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Packet</span> <span class="token function">decode</span><span class="token punctuation">(</span><span class="token class-name">ByteBuffer</span> buffer<span class="token punctuation">,</span><span class="token keyword">int</span> readableLength<span class="token punctuation">,</span> <span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">TioDecodeException</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//æé†’ï¼šbufferçš„å¼€å§‹ä½ç½®å¹¶ä¸ä¸€å®šæ˜¯0ï¼Œåº”ç”¨éœ€è¦ä»buffer.position()å¼€å§‹è¯»å–æ•°æ®</span>        <span class="token comment">//æ”¶åˆ°çš„æ•°æ®ç»„ä¸äº†ä¸šåŠ¡åŒ…ï¼Œåˆ™è¿”å›nullä»¥å‘Šè¯‰æ¡†æ¶æ•°æ®ä¸å¤Ÿ</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>readableLength <span class="token operator">&lt;</span> <span class="token class-name">ChatPack</span><span class="token punctuation">.</span><span class="token constant">HEAD_LENGTH</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//è¯»å–æ¶ˆæ¯ä½“çš„é•¿åº¦</span>        <span class="token keyword">int</span> bodyLength <span class="token operator">=</span> buffer<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ•°æ®ä¸æ­£ç¡®ï¼Œåˆ™æŠ›å‡ºAioDecodeExceptionå¼‚å¸¸</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>bodyLength <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TioDecodeException</span><span class="token punctuation">(</span><span class="token string">"bodyLength ["</span> <span class="token operator">+</span> bodyLength <span class="token operator">+</span> <span class="token string">"] is not right, remote:"</span> <span class="token operator">+</span> channelContext<span class="token punctuation">.</span><span class="token function">getClientNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//è®¡ç®—æœ¬æ¬¡éœ€è¦çš„æ•°æ®é•¿åº¦</span>        <span class="token keyword">int</span> neededLength <span class="token operator">=</span> <span class="token class-name">ChatPack</span><span class="token punctuation">.</span><span class="token constant">HEAD_LENGTH</span> <span class="token operator">+</span> bodyLength<span class="token punctuation">;</span>        <span class="token comment">//æ”¶åˆ°çš„æ•°æ®æ˜¯å¦è¶³å¤Ÿç»„åŒ…</span>        <span class="token keyword">int</span> isDataEnough <span class="token operator">=</span> readableLength <span class="token operator">-</span> neededLength<span class="token punctuation">;</span>        <span class="token comment">// ä¸å¤Ÿæ¶ˆæ¯ä½“é•¿åº¦(å‰©ä¸‹çš„bufferç»„ä¸äº†æ¶ˆæ¯ä½“)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>isDataEnough <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token comment">//ç»„åŒ…æˆåŠŸ</span>        <span class="token punctuation">&#123;</span>            <span class="token class-name">ChatPack</span> chatPack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChatPack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>bodyLength <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>bodyLength<span class="token punctuation">]</span><span class="token punctuation">;</span>                buffer<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>dst<span class="token punctuation">)</span><span class="token punctuation">;</span>                chatPack<span class="token punctuation">.</span><span class="token function">setBody</span><span class="token punctuation">(</span>dst<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> chatPack<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ç¼–ç      * @param packet æ•°æ®åŒ…     * @param tioConfig æŠ½è±¡     * @return buffer     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ByteBuffer</span> <span class="token function">encode</span><span class="token punctuation">(</span><span class="token class-name">Packet</span> packet<span class="token punctuation">,</span> <span class="token class-name">TioConfig</span> tioConfig<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ChatPack</span> chatPack <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ChatPack</span><span class="token punctuation">)</span> packet<span class="token punctuation">;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> body <span class="token operator">=</span> chatPack<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> bodyLen <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>body <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            bodyLen <span class="token operator">=</span> body<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//bytebufferçš„æ€»é•¿åº¦æ˜¯ = æ¶ˆæ¯å¤´çš„é•¿åº¦ + æ¶ˆæ¯ä½“çš„é•¿åº¦</span>        <span class="token keyword">int</span> allLen <span class="token operator">=</span> <span class="token class-name">ChatPack</span><span class="token punctuation">.</span><span class="token constant">HEAD_LENGTH</span> <span class="token operator">+</span> bodyLen<span class="token punctuation">;</span>        <span class="token comment">//åˆ›å»ºä¸€ä¸ªæ–°çš„bytebuffer</span>        <span class="token class-name">ByteBuffer</span> buffer <span class="token operator">=</span> <span class="token class-name">ByteBuffer</span><span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span>allLen<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®å­—èŠ‚åº</span>        buffer<span class="token punctuation">.</span><span class="token function">order</span><span class="token punctuation">(</span>tioConfig<span class="token punctuation">.</span><span class="token function">getByteOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å†™å…¥æ¶ˆæ¯å¤´----æ¶ˆæ¯å¤´çš„å†…å®¹å°±æ˜¯æ¶ˆæ¯ä½“çš„é•¿åº¦</span>        buffer<span class="token punctuation">.</span><span class="token function">putInt</span><span class="token punctuation">(</span>bodyLen<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å†™å…¥æ¶ˆæ¯ä½“</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>body <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            buffer<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> buffer<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="æœåŠ¡ç«¯"><a href="#æœåŠ¡ç«¯" class="headerlink" title="æœåŠ¡ç«¯"></a>æœåŠ¡ç«¯</h2><p>æœåŠ¡ç«¯åŒ…æ‹¬ä¸‰ä¸ªç±»ï¼Œä¸€ä¸ªå¯åŠ¨ç±»ï¼Œä¸€ä¸ªHandlerå¤„ç†ç±»ï¼Œä¸€ä¸ªç›‘å¬ç±»</p><p>ç›‘å¬ç±»<br>ChatServerListener.java</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChatServerListener</span> <span class="token keyword">implements</span> <span class="token class-name">TioServerListener</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * æœåŠ¡å™¨æ£€æŸ¥åˆ°å¿ƒè·³è¶…æ—¶æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼ˆä¸€èˆ¬åœºæ™¯ï¼Œè¯¥æ–¹æ³•åªéœ€è¦ç›´æ¥è¿”å›falseå³å¯ï¼‰     *     * @param interval              å·²ç»å¤šä¹…æ²¡æœ‰æ”¶å‘æ¶ˆæ¯äº†ï¼Œå•ä½ï¼šæ¯«ç§’     * @param heartbeatTimeoutCount å¿ƒè·³è¶…æ—¶æ¬¡æ•°ï¼Œç¬¬ä¸€æ¬¡è¶…æ—¶æ­¤å€¼æ˜¯1ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ­¤å€¼è¢«ä¿å­˜åœ¨ï¼šchannelContext.stat.heartbeatTimeoutCount     * @return è¿”å›trueï¼Œé‚£ä¹ˆæœåŠ¡å™¨åˆ™ä¸å…³é—­æ­¤è¿æ¥ï¼›è¿”å›falseï¼ŒæœåŠ¡å™¨å°†æŒ‰å¿ƒè·³è¶…æ—¶å…³é—­è¯¥è¿æ¥     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onHeartbeatTimeout</span><span class="token punctuation">(</span><span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">,</span> <span class="token class-name">Long</span> interval<span class="token punctuation">,</span> <span class="token keyword">int</span> heartbeatTimeoutCount<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>heartbeatTimeoutCount <span class="token operator">></span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å»ºé“¾åè§¦å‘æœ¬æ–¹æ³•ï¼Œæ³¨ï¼šå»ºé“¾ä¸ä¸€å®šæˆåŠŸï¼Œéœ€è¦å…³æ³¨å‚æ•°isConnected     *     * @param channelContext åŒ…ç½—ä¸‡è±¡     * @param isConnected    æ˜¯å¦è¿æ¥æˆåŠŸ,true:è¡¨ç¤ºè¿æ¥æˆåŠŸï¼Œfalse:è¡¨ç¤ºè¿æ¥å¤±è´¥     * @param isReconnect    æ˜¯å¦æ˜¯é‡è¿, true: è¡¨ç¤ºè¿™æ˜¯é‡æ–°è¿æ¥ï¼Œfalse: è¡¨ç¤ºè¿™æ˜¯ç¬¬ä¸€æ¬¡è¿æ¥     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAfterConnected</span><span class="token punctuation">(</span><span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isConnected<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isReconnect<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>isConnected<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>channelContext<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"--è¿›å…¥æˆ¿é—´..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Tio</span><span class="token punctuation">.</span><span class="token function">sendToGroup</span><span class="token punctuation">(</span>channelContext<span class="token punctuation">.</span>tioConfig<span class="token punctuation">,</span> <span class="token class-name">ChatConst</span><span class="token punctuation">.</span>groupNo<span class="token punctuation">,</span><span class="token class-name">ChatPack</span><span class="token punctuation">.</span><span class="token function">getPack</span><span class="token punctuation">(</span>channelContext<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"--è¿›å…¥æˆ¿é—´..."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// ç»‘å®šç¾¤ç»„</span>            <span class="token class-name">Tio</span><span class="token punctuation">.</span><span class="token function">bindGroup</span><span class="token punctuation">(</span>channelContext<span class="token punctuation">,</span> <span class="token class-name">ChatConst</span><span class="token punctuation">.</span>groupNo<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åŸæ–¹æ³•åï¼šonAfterDecoded     * è§£ç æˆåŠŸåè§¦å‘æœ¬æ–¹æ³•     *     * @param channelContext åŒ…ç½—ä¸‡è±¡     * @param packet æ•°æ®åŒ…     * @param packetSize æ•°æ®åŒ…å¤§å°     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAfterDecoded</span><span class="token punctuation">(</span><span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">,</span> <span class="token class-name">Packet</span> packet<span class="token punctuation">,</span> <span class="token keyword">int</span> packetSize<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ¥æ”¶åˆ°TCPå±‚ä¼ è¿‡æ¥çš„æ•°æ®å     *     * @param receivedBytes  æœ¬æ¬¡æ¥æ”¶äº†å¤šå°‘å­—èŠ‚     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAfterReceivedBytes</span><span class="token punctuation">(</span><span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">,</span> <span class="token keyword">int</span> receivedBytes<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ¶ˆæ¯åŒ…å‘é€ä¹‹åè§¦å‘æœ¬æ–¹æ³•     *     * @param isSentSuccess  true:å‘é€æˆåŠŸï¼Œfalse:å‘é€å¤±è´¥     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAfterSent</span><span class="token punctuation">(</span><span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">,</span> <span class="token class-name">Packet</span> packet<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isSentSuccess<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å¤„ç†ä¸€ä¸ªæ¶ˆæ¯åŒ…å     * @param cost           æœ¬æ¬¡å¤„ç†æ¶ˆæ¯è€—æ—¶ï¼Œå•ä½ï¼šæ¯«ç§’     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAfterHandled</span><span class="token punctuation">(</span><span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">,</span> <span class="token class-name">Packet</span> packet<span class="token punctuation">,</span> <span class="token keyword">long</span> cost<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è¿æ¥å…³é—­å‰è§¦å‘æœ¬æ–¹æ³•     *     * @param channelContext the channelcontext     * @param throwable      the throwable æœ‰å¯èƒ½ä¸ºç©º     * @param remark         the remark æœ‰å¯èƒ½ä¸ºç©º     * @author tanyaowu     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onBeforeClose</span><span class="token punctuation">(</span><span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">,</span> <span class="token class-name">Throwable</span> throwable<span class="token punctuation">,</span> <span class="token class-name">String</span> remark<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isRemove<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>channelContext<span class="token operator">+</span><span class="token string">"--ç¦»å¼€æˆ¿é—´..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Tio</span><span class="token punctuation">.</span><span class="token function">sendToGroup</span><span class="token punctuation">(</span>channelContext<span class="token punctuation">.</span>tioConfig<span class="token punctuation">,</span> <span class="token class-name">ChatConst</span><span class="token punctuation">.</span>groupNo<span class="token punctuation">,</span>                <span class="token class-name">ChatPack</span><span class="token punctuation">.</span><span class="token function">getPack</span><span class="token punctuation">(</span>channelContext<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"--ç¦»å¼€æˆ¿é—´..."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å¤„ç†ç±»<br>ChatServerHandler.java</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChatServerHandler</span> <span class="token keyword">implements</span> <span class="token class-name">TioServerHandler</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">Packet</span> <span class="token function">decode</span><span class="token punctuation">(</span><span class="token class-name">ByteBuffer</span> buffer<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">,</span> <span class="token keyword">int</span> readableLength<span class="token punctuation">,</span> <span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">TioDecodeException</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// è¿™é‡Œå¯ä»¥åšä¸€äº›é¢å¤–æ“ä½œ</span>        <span class="token keyword">return</span> <span class="token class-name">DecodeOrEncode</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> limit<span class="token punctuation">,</span> channelContext<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">ByteBuffer</span> <span class="token function">encode</span><span class="token punctuation">(</span><span class="token class-name">Packet</span> packet<span class="token punctuation">,</span> <span class="token class-name">TioConfig</span> tioConfig<span class="token punctuation">,</span> <span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// è¿™é‡Œå¯ä»¥åšä¸€äº›é¢å¤–æ“ä½œ</span>        <span class="token keyword">return</span> <span class="token class-name">DecodeOrEncode</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>packet<span class="token punctuation">,</span> tioConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token class-name">Packet</span> packet<span class="token punctuation">,</span> <span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>        <span class="token class-name">ChatPack</span> pack <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ChatPack</span><span class="token punctuation">)</span> packet<span class="token punctuation">;</span>        <span class="token class-name">String</span> msg <span class="token operator">=</span> pack<span class="token punctuation">.</span><span class="token function">toStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>channelContext <span class="token operator">+</span> <span class="token string">"-å‘é€æ¶ˆæ¯="</span> <span class="token operator">+</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å•ä½“ä¸éœ€è¦äº†</span>        <span class="token comment">//Tio.send(channelContext, ChatPack.getPack("æœåŠ¡ç«¯æ”¶åˆ°äº†ä½ çš„æ¶ˆæ¯-" + msg));</span>        <span class="token class-name">Tio</span><span class="token punctuation">.</span><span class="token function">sendToGroup</span><span class="token punctuation">(</span>channelContext<span class="token punctuation">.</span>tioConfig<span class="token punctuation">,</span> <span class="token class-name">ChatConst</span><span class="token punctuation">.</span>groupNo<span class="token punctuation">,</span><span class="token class-name">ChatPack</span><span class="token punctuation">.</span><span class="token function">getPack</span><span class="token punctuation">(</span>channelContext<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"--å‘é€æ¶ˆæ¯ï¼š"</span><span class="token operator">+</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å¯åŠ¨ç±»<br>ChatServer.java</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChatServer</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">new</span> <span class="token class-name">TioServer</span><span class="token punctuation">(</span>                <span class="token keyword">new</span> <span class="token class-name">TioServerConfig</span><span class="token punctuation">(</span><span class="token string">"chatServer"</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">ChatServerHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">ChatServerListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token class-name">ChatConst</span><span class="token punctuation">.</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å®¢æˆ·ç«¯ä»£ç ç±»ä¼¼"><a href="#å®¢æˆ·ç«¯ä»£ç ç±»ä¼¼" class="headerlink" title="å®¢æˆ·ç«¯ä»£ç ç±»ä¼¼"></a>å®¢æˆ·ç«¯ä»£ç ç±»ä¼¼</h2><p>å®¢æˆ·ç«¯ä»£ç æ²¡æœ‰ç¼–å†™ç›‘å¬ç±»ï¼Œå…¶å®å’ŒæœåŠ¡ç«¯å·®ä¸å¤šã€‚</p><p>å¤„ç†ç±»<br>ChatClientHandler.java</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChatClientHandler</span> <span class="token keyword">implements</span> <span class="token class-name">TioClientHandler</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">Packet</span> <span class="token function">heartbeatPacket</span><span class="token punctuation">(</span><span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">ChatPack</span><span class="token punctuation">.</span><span class="token function">getPack</span><span class="token punctuation">(</span><span class="token string">"ping"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">Packet</span> <span class="token function">decode</span><span class="token punctuation">(</span><span class="token class-name">ByteBuffer</span> buffer<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">,</span> <span class="token keyword">int</span> readableLength<span class="token punctuation">,</span> <span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">TioDecodeException</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">DecodeOrEncode</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> limit<span class="token punctuation">,</span> channelContext<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">ByteBuffer</span> <span class="token function">encode</span><span class="token punctuation">(</span><span class="token class-name">Packet</span> packet<span class="token punctuation">,</span> <span class="token class-name">TioConfig</span> tioConfig<span class="token punctuation">,</span> <span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">DecodeOrEncode</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>packet<span class="token punctuation">,</span> tioConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token class-name">Packet</span> packet<span class="token punctuation">,</span> <span class="token class-name">ChannelContext</span> channelContext<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ChatPack</span> pack <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ChatPack</span><span class="token punctuation">)</span> packet<span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ”¶åˆ°æ¶ˆæ¯ï¼š"</span><span class="token operator">+</span>pack<span class="token punctuation">.</span><span class="token function">toStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å¯åŠ¨ç±»<br>ChatClient.java</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChatClient</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ReconnConf</span> reconnConf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReconnConf</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å¤±è´¥åæ¬¡å°±ä¸å†é‡è¿</span>        reconnConf<span class="token punctuation">.</span><span class="token function">setRetryCount</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Node</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token class-name">ChatConst</span><span class="token punctuation">.</span>ip<span class="token punctuation">,</span> <span class="token class-name">ChatConst</span><span class="token punctuation">.</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">TioClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TioClient</span><span class="token punctuation">(</span>                <span class="token keyword">new</span> <span class="token class-name">TioClientConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChatClientHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token keyword">null</span><span class="token punctuation">,</span>                        reconnConf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ClientChannelContext</span> connect <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Tio</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>connect<span class="token punctuation">,</span><span class="token class-name">ChatPack</span><span class="token punctuation">.</span><span class="token function">getPack</span><span class="token punctuation">(</span><span class="token string">"ä½ å¥½ä¸–ç•Œ"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> str <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"exit"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">Tio</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>connect<span class="token punctuation">,</span><span class="token string">"å…³é—­è¿æ¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">Tio</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>connect<span class="token punctuation">,</span><span class="token class-name">ChatPack</span><span class="token punctuation">.</span><span class="token function">getPack</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><div class="note note-info">            <p>ä»£ç é‡ç®—æœ‰ä¸€ç‚¹å°å¤šçš„ï¼Œä½†æ˜¯è¿™ä¸ªä»£ç ç¡®å®å¯ä»¥ç›´æ¥æ”¾ç”Ÿäº§ä¸Šï¼Œç”¨æ¥åšä¸€äº›æŠ¥æ–‡çš„ä¼ è¾“ä¹‹ç±»çš„ï¼Œåº”è¯¥æŒºç¨³çš„ã€‚ä¸»è¦å¤šå¤šå­¦ä¹ è¿™ä¸ªå¤šå®¢æˆ·ç«¯ä¹‹é—´çš„é€šä¿¡æ“ä½œå§ï¼Œç”¨è¿™ä¸ªTioå¯ä»¥çœå¾ˆå¤šæ—¶é—´ã€‚</p>          </div><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h4wgwuso4bj32yo1p3kjl.jpg" alt="é›†åŸç¾ æ¹–å…‰ä¸­çš„ç¡ç¾äºº"></p>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œç¼–ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç½‘ç»œç¼–ç¨‹</tag>
      
      <tag>TIO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BIOçš„ä»£ç å®ç°ï¼Œå®¢æˆ·ç«¯ä»¥åŠæœåŠ¡ç«¯</title>
    <link href="/2022/08/03/net-02/"/>
    <url>/2022/08/03/net-02/</url>
    
    <content type="html"><![CDATA[<p>BIO-åŒæ­¥é˜»å¡IOï¼Œç›´æ¥ä¸Šä»£ç ã€‚</p><h2 id="æœåŠ¡ç«¯"><a href="#æœåŠ¡ç«¯" class="headerlink" title="æœåŠ¡ç«¯"></a>æœåŠ¡ç«¯</h2><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">OutputStream</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">ServerSocket</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span></span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketServer</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>          <span class="token comment">// ç»‘å®šç«¯å£</span>            <span class="token class-name">ServerSocket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">8082</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// åŒæ­¥é˜»å¡ï¼Œç›´åˆ°å»ºç«‹è¿æ¥ï¼Œæ„æ€å°±æ˜¯åœ¨è¿™é‡Œä¼šå µå¡ï¼Œå¦‚æœæ²¡æœ‰å®¢æˆ·ç«¯è¿æ¥çš„è¯ï¼Œ</span>                <span class="token comment">// ä»£ç ä¼šåœåœ¨è¿™é‡Œã€‚</span>                <span class="token class-name">Socket</span> client <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// æœ‰å®¢æˆ·ç«¯è¿æ¥äº†ï¼Œæ‰ä¼šå¾€ä¸‹æ‰§è¡Œã€‚</span>                <span class="token comment">// å‘é€ä¸€ä¸ªæ¶ˆæ¯ç»™å®¢æˆ·ç«¯ ï¼Œè¿™é‡Œé€šè¿‡è¾“å…¥è¾“å‡ºæµæ¥è¿›è¡Œäº¤äº’</span>                <span class="token class-name">OutputStream</span> output <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                output<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"å®¢æˆ·ç«¯["</span> <span class="token operator">+</span> client<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"]ä½ å¥½ï¼Œä½ å·²æˆåŠŸè¿æ¥åˆ°8082æœåŠ¡ç«¯"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// åˆ·æ–°ç¼“å†²åŒº</span>                output<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å®¢æˆ·ç«¯å·²è¿æ¥:"</span> <span class="token operator">+</span> client<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                    <span class="token class-name">InputStream</span> input <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token comment">// åŒæ­¥é˜»å¡ è¯»å–å®¢æˆ·ç«¯æ•°æ® ç›´åˆ°è¾“å…¥æ•°æ®ï¼Œè¿æ¥ä¹‹åï¼Œåˆè¿›è¡Œå µå¡ï¼Œè¯»å–å®¢æˆ·ç«¯å‘é€çš„æ•°æ®ã€‚</span>                    <span class="token keyword">while</span> <span class="token punctuation">(</span>input<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        output<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"æ”¶åˆ°äº†ä½ çš„æ¶ˆæ¯:"</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        output<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ”¶åˆ°å®¢æˆ·ç«¯æ¶ˆæ¯:"</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token comment">// å®¢æˆ·ç«¯é“¾æ¥æ–­å¼€åˆ™å¼•å‘å¼‚å¸¸</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¼•å‘å¼‚å¸¸ï¼š"</span> <span class="token operator">+</span> ex<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å®¢æˆ·ç«¯"><a href="#å®¢æˆ·ç«¯" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h2><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">OutputStream</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketClient</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// æ¥æ”¶æ§åˆ¶å°ç”¨æˆ·è¾“å…¥çš„æ•°æ®</span>            <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// è¦ç»‘å®šçš„ä¸»æœºå’Œç«¯å£å·</span>            <span class="token class-name">Socket</span> socketClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span> <span class="token number">8082</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// å¯åŠ¨çº¿ç¨‹ç›‘å¬æœåŠ¡ç«¯å‘é€çš„æ¶ˆæ¯</span>            <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>                <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                  <span class="token comment">// è·å–è¾“å…¥æµï¼Œè¯»å–æœåŠ¡å™¨å‘é€è¿‡æ¥çš„æ¶ˆæ¯</span>                    <span class="token class-name">InputStream</span> input <span class="token operator">=</span> socketClient<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ”¶åˆ°æœåŠ¡ç«¯æ¶ˆæ¯:"</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// è·å–è¾“å‡ºæµï¼Œç”¨æ¥å‘æœåŠ¡å™¨å‘é€æ¶ˆæ¯</span>            <span class="token class-name">OutputStream</span> output <span class="token operator">=</span> socketClient<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">String</span> str <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// ä¸€ä¸ªå°tip</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"exit"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    output<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    socketClient<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    <span class="token comment">// å‘æœåŠ¡ç«¯å‘é€æ¶ˆæ¯</span>                    output<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    output<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å¾ˆç®€å•çš„ä¸€ä¸ªå°æ —å­ï¼Œçœ‹ä¸€çœ‹ç„¶åè‡ªå·±ç§ä¸€ç§ï¼Œä¹Ÿä¼šæ›´å®¹æ˜“ç†è§£ã€‚ä»£ç å¯ä»¥ç›´æ¥è¿è¡Œçš„ã€‚</p><div class="note note-info">            <p>çœ‹å±±æ˜¯å±±ï¼Œçœ‹å±±ä¸æ˜¯å±±ï¼Œçœ‹å±±è¿˜æ˜¯å±±ã€‚</p>          </div><div class="note note-primary">            <p>IDEAå°TIPSï¼š<br>  å¤åˆ¶å®Œæ•´çš„ä»£ç æ–‡æœ¬ï¼Œåœ¨IDEAé‡Œå¯ä»¥ç›´æ¥ç²˜è´´ä¼šæ ¹æ®æ–‡æœ¬ç›´æ¥ç”Ÿæˆä¸€ä¸ªç±»ã€‚</p>          </div><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h4tmr1scs4j32yo1o0hdu.jpg" alt="é˜³å…‰ è‰åœ° éƒŠæ¸¸ ååœ¨è‰åœ°ä¸Šçš„ç¾å¥³ æ——è¢ é²œèŠ±"></p>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œç¼–ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç½‘ç»œç¼–ç¨‹</tag>
      
      <tag>BIO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¿«é€Ÿåˆ é™¤æ–‡ä»¶å¤¹</title>
    <link href="/2022/08/03/other-06/"/>
    <url>/2022/08/03/other-06/</url>
    
    <content type="html"><![CDATA[<p>å¤§ä¼™åº”è¯¥éƒ½ç»å†è¿‡åˆ é™¤ä¸€ä¸ªwebpacké¡¹ç›®åˆ äº†åå‡ åˆ†é’Ÿçš„ç»å†å§ğŸ˜†ğŸ˜†</p><p>å¿«é€Ÿåˆ é™¤å‘½ä»¤</p><h2 id="win"><a href="#win" class="headerlink" title="win"></a>win</h2><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rmdir</span> /s/q <span class="token punctuation">[</span>æ–‡ä»¶å¤¹åç§°<span class="token punctuation">]</span><span class="token comment"># ä¸¾ä¸ªæ —å­</span><span class="token function">rmdir</span> /s/q app<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h2><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¼ºåˆ¶åˆ é™¤æ–‡ä»¶ï¼Œæ— éœ€ç¡®è®¤ï¼Œå¦‚æœæ˜¯æ–‡ä»¶å¤¹é‚£å°±æ˜¯åˆ é™¤æ–‡ä»¶å¤¹ã€‚</span><span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token punctuation">[</span>æ–‡ä»¶å¤¹åç§°<span class="token punctuation">]</span><span class="token comment"># ä¸¾ä¸ªæ —å­</span><span class="token function">rm</span> <span class="token parameter variable">-rf</span> app<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h4te74p99xj32yo1o0kjl.jpg" alt="é˜¿ç‹¸ cosplay"></p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>rm</tag>
      
      <tag>åˆ é™¤</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç½‘ç»œç¼–ç¨‹ä¸‰ä¸¤è¨€</title>
    <link href="/2022/08/02/net-01/"/>
    <url>/2022/08/02/net-01/</url>
    
    <content type="html"><![CDATA[<p>æµ…å­¦äº†ä¸€æ®µæ—¶é—´çš„ç½‘ç»œç¼–ç¨‹çŸ¥è¯†ï¼Œä»åŸºç¡€çš„bio,åˆ°nio,å†åˆ°aio(nio2.0)ï¼Œå›½äº§æ¡†æ¶é‡Œçœ‹äº†tioï¼Œå›½å¤–çœ‹äº†netty,<br>å¤§è‡´æ€»ç»“ç½‘ç»œæ¡†æ¶ï¼Œå®é™…å°±æ˜¯å®ç°ç½‘ç»œçš„IOæ“ä½œï¼Œè¦æƒ³è·‘çš„å¿«ï¼Œå¼‚æ­¥ï¼Œå¤šçº¿ç¨‹ï¼Œé›¶æ‹·è´ï¼Œä¸‰è€…ç¼ºä¸€ä¸å¯ã€‚è¿˜å¥½æœ‰ç°åœ¨çš„æ¡†æ¶ã€‚</p><p>è¯´ä¸‹å­¦ä¹ æ€è·¯ï¼Œå­¦çš„æ—¶å€™ä¸è¦è§‰å¾—æ¡†æ¶å¤æ‚ï¼Œä¿¡æˆ‘ï¼Œå¦‚æœéœ€è¦æ‰‹æ’¸ä¸€ä¸ªç½‘ç»œé€šä¿¡åŠŸèƒ½æ—¶ï¼Œä½¿ç”¨ç¨å¾®å¤æ‚ç‚¹çš„NIOï¼Œæƒ³å†™å‡ºä¸€ä¸ªå…ˆä¸æé€Ÿåº¦ï¼Œå°±å•è¯´å¯é ï¼Œå®ç”¨çš„ç½‘ç»œé€šä¿¡ä»£ç æ—¶ï¼Œä¸€æ—¶åŠä¼šæ˜¯æ’¸ä¸å‡ºæ¥ï¼Œå¼‚æ­¥ï¼Œå¤šçº¿ç¨‹ï¼Œè¿™æŠ€æœ¯ï¼Œå¯¹äºç¼–ç èƒ½åŠ›æœ‰ä¸€å®šçš„è¦æ±‚ã€‚</p><p>ç½‘ç»œé€šä¿¡è¿™å—ï¼Œåœ¨ç°åœ¨å­¦ä¹ ç¼–ç¨‹çš„æ°›å›´ä¸­ï¼Œå¥½åƒæ²¡æœ‰è¢«é‚£ä¹ˆé‡è§†ï¼Œä¸€éƒ¨åˆ†æ˜¯ç°åœ¨å„ç§æ¡†æ¶å°è£…çš„å¤ªå¥½äº†ï¼Œä¸€éƒ¨åˆ†æ˜¯ç°åœ¨çš„å·¥ä½œæ°›å›´å§ï¼Œéƒ½è¿½æ±‚ä½ä»£ç äº†ï¼Œä½ è¯´ä½ å»å­¦ç½‘ç»œç¼–ç¨‹ï¼Œé—¹å‘¢ã€‚</p><h2 id="å‡ ç§IOæ¨¡å‹"><a href="#å‡ ç§IOæ¨¡å‹" class="headerlink" title="å‡ ç§IOæ¨¡å‹"></a>å‡ ç§IOæ¨¡å‹</h2><ul><li>BIO-åŒæ­¥é˜»å¡IO<ul><li>ä¼ ç»ŸIOï¼Œæ˜¯JDK1.4ä¹‹å‰çš„ä¼ ç»ŸIOæ¨¡å‹ï¼Œæ—¢ç„¶è¯´èµ·è¿™ä¸ªæ¨¡å‹ï¼Œç½‘ä¸Šå¤§æŠŠçš„å›¾ï¼Œå…‰çœ‹å›¾ä¼šæœ‰ç‚¹éš¾æ‡‚ï¼Œæ‰¾ç‚¹åŸºç¡€ä»£ç å†™å†™ï¼Œå†å›çœ‹è¿™ä¸ªæ¨¡å‹ï¼Œå°±èƒ½æ‡‚äº†ï¼Œæ ¸å¿ƒå¯ä»¥ç†è§£ï¼Œä¸€ä¸ªçº¿ç¨‹åªèƒ½å¤„ç†ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œè‚¯å®šæ”¯æŒä¸äº†å¦‚ä»Šçš„ç½‘ç»œç››å†µã€‚ä¸è¿‡ï¼Œè¯¥è¯´ä¸è¯´ï¼Œæˆ‘æ‰€å¤„çš„å·¥ä½œå•ä½ä¾æ—§æœ‰ä½¿ç”¨è¿™ç§IOæ¥è¿›è¡Œç½‘ç»œä¼ è¾“çš„ã€‚</li></ul></li><li>NIO-åŒæ­¥éé˜»å¡IO<ul><li>æ–°ä¸€ä»£çš„ç½‘ç»œä¼ è¾“IOæ¨¡å‹ï¼ŒåŠ äº†ä¸‰ä¸ªä¸œè¥¿Selectï¼ŒBufferï¼Œè¿˜æœ‰channelï¼ˆé€šé“ï¼‰ï¼Œè¿™ä¸‰ä¸ªç»„åˆäº†ä¸€ä¸‹ï¼Œé¸Ÿæªæ¢ç‚®äº†ã€‚ç½‘ç»œä¸Šæ¨¡å‹å›¾å¾ˆå¤šï¼Œçœ‹äº†ä¹‹åæ‰¾ç‚¹ä»£ç æ•²ä¸€ä¸‹ï¼Œä¸»è¦æ˜¯ä¸ºäº†ç†è§£è¿™ä¸ªæ¨¡å‹å»æ•²ä»£ç ï¼Œè‡³äºå®æˆ˜ï¼Œè¿˜å¾—ç”¨æ¡†æ¶ã€‚å¤§è‡´è¯´ä¸€ä¸‹ï¼Œå°±æ˜¯ä¸€ä¸ªselectç®¡ç†äº†å¤šä¸ªchannelï¼Œä¸€ä¸ªchannelå¯¹åº”ä¸€ä¸ªbufferï¼Œä¸€ä¸ªå®¢æˆ·ç«¯ä¹Ÿå¯¹åº”ä¸€ä¸ªchannelï¼Œå®¢æˆ·ç«¯çš„channelå’ŒæœåŠ¡çš„channelä¹‹é—´ä½¿ç”¨bufferè¿›è¡Œæ•°æ®äº¤äº’ï¼Œbufferè¿™é‡Œæ˜¯æ•°æ®è½½ä½“ï¼Œäº¤æ¢ä»»åŠ¡æ˜¯channelåšçš„ã€‚ä¸€ä¸ªselectéœ€è¦ä¸€ä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯ä¸€ä¸ªselectå¯ä»¥ç®¡ç†å¤šä¸ªchannelï¼Œä¸”æ˜¯éé˜»å¡æ¨¡å¼ï¼Œæ˜¯ç”±äº‹ä»¶é©±åŠ¨çš„ï¼Œè¿™æ ·å°±å¤§å¤§çš„èŠ‚çœçš„ç³»ç»Ÿèµ„æºï¼Œè®©é«˜å¹¶å‘æœ‰äº†å¯èƒ½ï¼Œ</li></ul></li><li>AIO-å¼‚æ­¥éé˜»å¡IO<ul><li>å°±æ˜¯NIO2.0ï¼Œè¿˜åœ¨nioåŒ…ä¸‹ã€‚åŠ äº†å¼‚æ­¥ï¼Œå¤šå¤šå…³æ³¨nioå³å¯ã€‚</li></ul></li></ul><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h4tdo39n18j32yo1o0qv5.jpg" alt="å·´å›¾BaTu"></p>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œç¼–ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç½‘ç»œç¼–ç¨‹</tag>
      
      <tag>IO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java18çš„ä¸€ä¸ªç‰¹æ€§å¼•å‘çš„IDEAæ§åˆ¶å°ä¸­æ–‡ä¹±ç çš„é—®é¢˜</title>
    <link href="/2022/06/26/java-16/"/>
    <url>/2022/06/26/java-16/</url>
    
    <content type="html"><![CDATA[<h3 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h3><blockquote><p>ä»Šå¤©ç”¨åˆ°JDK 18ï¼Œé‡åˆ°ä¸­æ–‡åœ¨IDEAæ§åˆ¶å°è¾“å‡ºæ˜¯ä¹±ç ï¼Œä½†æ˜¯æ–‡ä»¶è¾“å‡ºæ˜¯æ­£å¸¸çš„é—®é¢˜ï¼Œç»è¿‡æ’æŸ¥ï¼Œç¡®å®šæ˜¯åœ¨IDEA 2021.3.3ä¸‹ä½¿ç”¨JDK 18æ‰“å°åˆ°IDEAæ§åˆ¶å°æ‰ä¼šå‡ºç°çš„bugã€‚å°†é¡¹ç›®ç¼–è¯‘æ‰“åŒ…ï¼Œåœ¨cmdç­‰å‘½ä»¤è¡Œçª—å£ä¸­æ§åˆ¶å°ä½¿å‡ºçš„ä¸­æ–‡æ˜¯æ­£å¸¸çš„ã€‚</p></blockquote><h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><ol><li>åˆ‡æ¢é¡¹ç›®é»˜è®¤æ–‡ä»¶å­—ç¬¦é›†ä¸ºGBK</li><li>å¯åŠ¨è¡Œæ·»åŠ VMå‚æ•°ï¼š</li></ol><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">-</span><span class="token class-name">Dfile</span><span class="token punctuation">.</span>encoding<span class="token operator">=</span><span class="token constant">COMPAT</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h3 id="å¤ç°æƒ…å†µ"><a href="#å¤ç°æƒ…å†µ" class="headerlink" title="å¤ç°æƒ…å†µ"></a>å¤ç°æƒ…å†µ</h3><p>ä»Šå¤©å†™å­¦demoæ—¶ç”¨åˆ°äº†JDK 18ï¼Œç»“æœå‘ç°æ§åˆ¶å°è¾“å‡ºçš„ä¸­æ–‡æœ‰ä¹±ç ï¼Œå¦‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ä½ å¥½ <span class="token class-name">JeremyTsai</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>æ‰“å°å‡ºæ¥çš„æ•ˆæœå¦‚ä¸‹ï¼š</p><p><code>ï¿½ï¿½ï¿½ JeremyTsai</code></p><blockquote><p>é‡Œé¢çš„ä½ å¥½ä¹±ç äº†ã€‚ä¸€å¼€å§‹è¿˜ä»¥ä¸ºæ˜¯JDKçš„bugï¼Œä½†æ˜¯å°è¯•æ‰“åŒ…å‡ºæ¥ï¼Œåœ¨cmdè¿è¡Œï¼Œåˆæ˜¯æ­£å¸¸çš„ã€‚äºæ˜¯ä¹æ€€ç–‘æ˜¯IDEAæ§åˆ¶å°çš„bugã€‚æ•…å†™äº†ä»¥ä¸‹ä»£ç æµ‹è¯•ï¼š</p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileNotFoundException</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">StandardCharsets</span></span><span class="token punctuation">;</span><span class="token comment">/** * @author JeremyTsai * @version 0 * @since 2022/6/2 00:10 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">FileOutputStream</span> out<span class="token punctuation">;</span>    <span class="token keyword">static</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"log.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">FileNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Javaç‰ˆæœ¬ä¸º: "</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"java.version"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶ç¼–ç ä¸º: "</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"file.encoding"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"æœ¬åœ°ç¼–ç ä¸º: "</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"native.encoding"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"ä½ å¥½ JeremyTsai"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>        out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\\r\\n"</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        out<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><blockquote><p>ä¸Šè¿°ä»£ç åˆ†åˆ«æµ‹è¯•IDEAæ§åˆ¶å°æ‰“å°å’Œæ–‡ä»¶è¾“å‡ºæ‰“å°ã€‚<br>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š<br>JDK17 IDEAæ§åˆ¶å°è¾“å‡ºæ­£å¸¸ï¼Œæ–‡ä»¶è¾“å‡ºæ­£å¸¸ã€‚</p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Java</span>ç‰ˆæœ¬ä¸º<span class="token operator">:</span> <span class="token number">17</span>æ–‡ä»¶ç¼–ç ä¸º<span class="token operator">:</span> <span class="token constant">UTF</span><span class="token operator">-</span><span class="token number">8</span>æœ¬åœ°ç¼–ç ä¸º<span class="token operator">:</span> <span class="token constant">GBK</span>ä½ å¥½ <span class="token class-name">JeremyTsai</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><blockquote><p>JDK18 IDEAæ§åˆ¶å°ä¹±ç ï¼Œæ–‡ä»¶è¾“å‡ºæ­£å¸¸ã€‚</p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Java</span>ï¿½æ±¾Îª<span class="token operator">:</span> <span class="token number">1</span>ï¿½Ä¼ï¿½ï¿½ï¿½ï¿½ï¿½Îª<span class="token operator">:</span> <span class="token constant">UTF</span><span class="token operator">-</span><span class="token number">8</span>ï¿½ï¿½ï¿½Ø±ï¿½ï¿½ï¿½Îª<span class="token operator">:</span> <span class="token constant">GBK</span>ï¿½ï¿½ï¿½ <span class="token class-name">JeremyTsai</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="é—®é¢˜ç ”ç©¶"><a href="#é—®é¢˜ç ”ç©¶" class="headerlink" title="é—®é¢˜ç ”ç©¶"></a>é—®é¢˜ç ”ç©¶</h3><blockquote><p>å€¼å¾—å…³æ³¨çš„ä¸€ç‚¹å°±æ˜¯ï¼Œnative encodingéƒ½æ˜¯GBKï¼Œè¿™æ˜¯å› ä¸ºæˆ‘æœ¬åœ°æ˜¯ä¸­æ–‡çš„windowsç³»ç»Ÿã€‚è¿™é‡Œä¼šä¹±ç ï¼Œä¹Ÿæ˜¯å› ä¸ºJDK18çš„æ–°ç‰¹æ€§ï¼šJEP400: é»˜è®¤å­—ç¬¦é›†UTF-8å¯¼è‡´çš„ï¼ŒçŒœæƒ³å¯èƒ½æ˜¯å› ä¸ºIDEAçš„æ§åˆ¶å°çš„ç¼–è§£ç æœ‰é—®é¢˜ã€‚æ‰€ä»¥è§£å†³çš„æ–¹æ¡ˆå°±æœ‰å¾ˆå¤šï¼Œå› ä¸ºæœ¬åœ°æ˜¯ä¸­æ–‡ç³»ç»Ÿï¼Œæœ€ç®€å•çš„å°±æ˜¯å°†é¡¹ç›®å­—ç¬¦é›†è½¬æˆGBKï¼Œè¿™æ ·file.encodingå’Œnative encodingéƒ½æ˜¯GBKï¼Œä¸å¯èƒ½å­˜åœ¨ç¼–è§£ç é—®é¢˜ã€‚è¿˜æœ‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆå°±æ˜¯åœ¨UTF-8å­—ç¬¦é›†çš„é¡¹ç›®å¯åŠ¨æ—¶åŠ VMå‚æ•°</p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">-</span><span class="token class-name">Dfile</span><span class="token punctuation">.</span>encoding<span class="token operator">=</span><span class="token constant">COMPAT</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>ä¹Ÿå¯ä»¥è§£å†³ã€‚åœ¨JDK 17å¼•å…¥äº†native.encodingç³»ç»Ÿå±æ€§ï¼Œä½œä¸ºç¨‹åºè·å¾—JDKç®—æ³•æ‰€é€‰å­—ç¬¦é›†çš„æ ‡å‡†æ–¹å¼ï¼Œè€Œä¸ç®¡é»˜è®¤å­—ç¬¦é›†æ˜¯å¦å®é™…é…ç½®ä¸ºè¯¥å­—ç¬¦é›†ã€‚åœ¨ JDK 18ä¸­ï¼Œå¦‚æœåœ¨å‘½ä»¤è¡Œä¸Šå°†file.encodingè®¾ç½®ä¸ºCOMPATï¼Œé‚£ä¹ˆfile.encodingçš„è¿è¡Œæ—¶å€¼å°†ä¸native.encodingçš„è¿è¡Œæ—¶å€¼ç›¸åŒ; å¦‚æœåœ¨å‘½ä»¤è¡Œä¸Šå°†file.encodingè®¾ç½®ä¸º UTF-8ï¼Œé‚£ä¹ˆ file.encoding çš„è¿è¡Œæ—¶å€¼å¯èƒ½ä¸native.encodingçš„è¿è¡Œæ—¶å€¼ä¸åŒã€‚</p><h3 id="JEP400-é»˜è®¤å­—ç¬¦é›†UTF-8"><a href="#JEP400-é»˜è®¤å­—ç¬¦é›†UTF-8" class="headerlink" title="JEP400 é»˜è®¤å­—ç¬¦é›†UTF-8"></a>JEP400 é»˜è®¤å­—ç¬¦é›†UTF-8</h3><h3 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h3><blockquote><p>æŒ‡å®š utf-8ä½œä¸ºæ ‡å‡† Java APIs çš„é»˜è®¤å­—ç¬¦é›†ã€‚é€šè¿‡è¿™ä¸€æ›´æ”¹ï¼Œä¾èµ–äºé»˜è®¤å­—ç¬¦é›†çš„ api å°†åœ¨æ‰€æœ‰å®ç°ã€æ“ä½œç³»ç»Ÿã€åŒºåŸŸè®¾ç½®å’Œé…ç½®ä¸­è¡¨ç°ä¸€è‡´ã€‚</p></blockquote><h3 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><ol><li>å½“Javaç¨‹åºçš„ä»£ç ä¾èµ–äºé»˜è®¤å­—ç¬¦é›†æ—¶ï¼Œä½¿å®ƒä»¬æ›´å¯é¢„æµ‹å’Œå¯ç§»æ¤</li><li>æ˜ç¡®æ ‡å‡†Java APIåœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨é»˜è®¤å­—ç¬¦é›†</li><li>é™¤æ§åˆ¶å° I&#x2F;O ä¹‹å¤–ï¼Œæ ‡å‡†åŒ–æ‰€æœ‰æ ‡å‡†Java APIä¸­çš„ UTF-8</li></ol><h3 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h3><ul><li><a href="https://openjdk.org/jeps/400">JEP 400: UTF-8 by Default</a></li></ul><hr><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h3lujiyy3pj32yo1o0x5i.jpg" alt="æ¢¦åå½•æ’ç”»é£"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java18</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cronè¡¨è¾¾å¼</title>
    <link href="/2022/06/11/linux-02/"/>
    <url>/2022/06/11/linux-02/</url>
    
    <content type="html"><![CDATA[<p><a href="https://help.aliyun.com/document_detail/64769.html">åŸæ–‡é“¾æ¥</a></p><h3 id="Cronè¡¨è¾¾å¼ä»‹ç»"><a href="#Cronè¡¨è¾¾å¼ä»‹ç»" class="headerlink" title="Cronè¡¨è¾¾å¼ä»‹ç»"></a>Cronè¡¨è¾¾å¼ä»‹ç»</h3><blockquote><p>Cronè¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå…·æœ‰æ—¶é—´å«ä¹‰çš„å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä»¥<code>5~6</code>ä¸ªç©ºæ ¼éš”å¼€ï¼Œåˆ†ä¸º<code>6~7</code>ä¸ªåŸŸï¼Œæ ¼å¼ä¸º<code>X X X X X X X</code>ã€‚å…¶ä¸­<code>X</code>æ˜¯ä¸€ä¸ªåŸŸçš„å ä½ç¬¦ã€‚æœ€åä¸€ä¸ªä»£è¡¨å¹´ä»½çš„åŸŸéå¿…é¡»ï¼Œå¯çœç•¥ã€‚å•ä¸ªåŸŸæœ‰å¤šä¸ªå–å€¼æ—¶ï¼Œä½¿ç”¨åŠè§’é€—å·<code>,</code>éš”å¼€å–å€¼ã€‚æ¯ä¸ªåŸŸå¯ä»¥æ˜¯ç¡®å®šçš„å–å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯å…·æœ‰é€»è¾‘æ„ä¹‰çš„ç‰¹æ®Šå­—ç¬¦ã€‚æ¯ä¸ªåŸŸæœ€å¤šæ”¯æŒä¸€ä¸ªå‰å¯¼é›¶ã€‚</p></blockquote><div class="note note-info">            <p><code>è¯´æ˜</code> å¦‚æŒ‡å®š2022å¹´æ¯å¤©ä¸Šåˆ8:15æ‰§è¡Œä»»åŠ¡ï¼ŒCronè¡¨è¾¾å¼å¯æŒ‡å®šä¸º<code>0 15 8 ? * * 2022</code>æˆ–<code>0 15 08 ? * * 2022</code>ï¼Œè€Œä¸èƒ½æŒ‡å®šä¸º<code>0 15 008 ? * * 2022</code>ã€‚</p>          </div><h3 id="åŸŸå–å€¼"><a href="#åŸŸå–å€¼" class="headerlink" title="åŸŸå–å€¼"></a>åŸŸå–å€¼</h3><blockquote><p>ä¸‹è¡¨ä¸ºCronè¡¨è¾¾å¼ä¸­å…­ä¸ªåŸŸèƒ½å¤Ÿå–çš„å€¼ä»¥åŠæ”¯æŒçš„ç‰¹æ®Šå­—ç¬¦ã€‚</p></blockquote><table><thead><tr><th>åŸŸ</th><th>æ˜¯å¦å¿…éœ€</th><th>å–å€¼èŒƒå›´</th><th>ç‰¹æ®Šå­—ç¬¦</th></tr></thead><tbody><tr><td>ç§’</td><td>æ˜¯</td><td>[0, 59]</td><td>* , - &#x2F;</td></tr><tr><td>åˆ†é’Ÿ</td><td>æ˜¯</td><td>[0, 59]</td><td>* , - &#x2F;</td></tr><tr><td>å°æ—¶</td><td>æ˜¯</td><td>[0, 23]</td><td>* , - &#x2F;</td></tr><tr><td>æ—¥æœŸ</td><td>æ˜¯</td><td>[1, 31]</td><td>* , - &#x2F; ? L W</td></tr><tr><td>æœˆä»½</td><td>æ˜¯</td><td>[1, 12]æˆ–[JAN, DEC]</td><td>* , - &#x2F;</td></tr><tr><td>æ˜ŸæœŸ</td><td>æ˜¯</td><td>[1, 7]æˆ–[MON, SUN]ã€‚è‹¥æ‚¨ä½¿ç”¨[1, 7]è¡¨è¾¾æ–¹å¼ï¼Œ<code>1</code>ä»£è¡¨æ˜ŸæœŸä¸€ï¼Œ<code>7</code>ä»£è¡¨æ˜ŸæœŸæ—¥ã€‚</td><td>* , - &#x2F; ? L #</td></tr><tr><td>å¹´</td><td>å¦</td><td>[å½“å‰å¹´ä»½ï¼Œ2099]</td><td>* , - &#x2F;</td></tr></tbody></table><h3 id="ç‰¹æ®Šå­—ç¬¦"><a href="#ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="ç‰¹æ®Šå­—ç¬¦"></a>ç‰¹æ®Šå­—ç¬¦</h3><blockquote><p>Cronè¡¨è¾¾å¼ä¸­çš„æ¯ä¸ªåŸŸéƒ½æ”¯æŒä¸€å®šæ•°é‡çš„ç‰¹æ®Šå­—ç¬¦ï¼Œæ¯ä¸ªç‰¹æ®Šå­—ç¬¦æœ‰å…¶ç‰¹æ®Šå«ä¹‰ã€‚</p></blockquote><table><thead><tr><th>ç‰¹æ®Šå­—ç¬¦</th><th>å«ä¹‰</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>*</code></td><td>æ‰€æœ‰å¯èƒ½çš„å€¼ã€‚</td><td>åœ¨æœˆåŸŸä¸­ï¼Œ<code>*</code>è¡¨ç¤ºæ¯ä¸ªæœˆï¼›åœ¨æ˜ŸæœŸåŸŸä¸­ï¼Œ<code>*</code>è¡¨ç¤ºæ˜ŸæœŸçš„æ¯ä¸€å¤©ã€‚</td></tr><tr><td><code>,</code></td><td>åˆ—å‡ºæšä¸¾å€¼ã€‚</td><td>åœ¨åˆ†é’ŸåŸŸä¸­ï¼Œ<code>5,20</code>è¡¨ç¤ºåˆ†åˆ«åœ¨5åˆ†é’Ÿå’Œ20åˆ†é’Ÿè§¦å‘ä¸€æ¬¡ã€‚</td></tr><tr><td><code>-</code></td><td>èŒƒå›´ã€‚</td><td>åœ¨åˆ†é’ŸåŸŸä¸­ï¼Œ<code>5-20</code>è¡¨ç¤ºä»5åˆ†é’Ÿåˆ°20åˆ†é’Ÿä¹‹é—´æ¯éš”ä¸€åˆ†é’Ÿè§¦å‘ä¸€æ¬¡ã€‚</td></tr><tr><td><code>/</code></td><td>æŒ‡å®šæ•°å€¼çš„å¢é‡ã€‚</td><td>åœ¨åˆ†é’ŸåŸŸä¸­ï¼Œ<code>0/15</code>è¡¨ç¤ºä»ç¬¬0åˆ†é’Ÿå¼€å§‹ï¼Œæ¯15åˆ†é’Ÿã€‚åœ¨åˆ†é’ŸåŸŸä¸­<code>3/20</code>è¡¨ç¤ºä»ç¬¬3åˆ†é’Ÿå¼€å§‹ï¼Œæ¯20åˆ†é’Ÿã€‚</td></tr><tr><td><code>?</code></td><td>ä¸æŒ‡å®šå€¼ï¼Œä»…æ—¥æœŸå’Œæ˜ŸæœŸåŸŸæ”¯æŒè¯¥å­—ç¬¦ã€‚</td><td>å½“æ—¥æœŸæˆ–æ˜ŸæœŸåŸŸå…¶ä¸­ä¹‹ä¸€è¢«æŒ‡å®šäº†å€¼ä»¥åï¼Œä¸ºäº†é¿å…å†²çªï¼Œéœ€è¦å°†å¦ä¸€ä¸ªåŸŸçš„å€¼è®¾ä¸º<code>?</code>ã€‚</td></tr><tr><td><code>L</code></td><td>å•è¯Lastçš„é¦–å­—æ¯ï¼Œè¡¨ç¤ºæœ€åä¸€å¤©ï¼Œä»…æ—¥æœŸå’Œæ˜ŸæœŸåŸŸæ”¯æŒè¯¥å­—ç¬¦ã€‚<span class="label label-info">`è¯´æ˜` æŒ‡å®š`L`å­—ç¬¦æ—¶ï¼Œé¿å…æŒ‡å®šåˆ—è¡¨æˆ–è€…èŒƒå›´ï¼Œå¦åˆ™ï¼Œä¼šå¯¼è‡´é€»è¾‘é—®é¢˜ã€‚</span></td><td><span class="label label-info">åœ¨æ—¥æœŸåŸŸä¸­ï¼Œ`L`è¡¨ç¤ºæŸä¸ªæœˆçš„æœ€åä¸€å¤©ã€‚åœ¨æ˜ŸæœŸåŸŸä¸­ï¼Œ`L`è¡¨ç¤ºä¸€ä¸ªæ˜ŸæœŸçš„æœ€åä¸€å¤©ï¼Œä¹Ÿå°±æ˜¯æ˜ŸæœŸæ—¥ï¼ˆ`SUN`ï¼‰ã€‚</span> <span class="label label-info">å¦‚æœåœ¨`L`å‰æœ‰å…·ä½“çš„å†…å®¹ï¼Œä¾‹å¦‚ï¼Œåœ¨æ˜ŸæœŸåŸŸä¸­çš„`6L`è¡¨ç¤ºè¿™ä¸ªæœˆçš„æœ€åä¸€ä¸ªæ˜ŸæœŸå…­ã€‚</span></td></tr><tr><td><code>W</code></td><td>é™¤å‘¨æœ«ä»¥å¤–çš„æœ‰æ•ˆå·¥ä½œæ—¥ï¼Œåœ¨ç¦»æŒ‡å®šæ—¥æœŸçš„æœ€è¿‘çš„æœ‰æ•ˆå·¥ä½œæ—¥è§¦å‘äº‹ä»¶ã€‚<code>W</code>å­—ç¬¦å¯»æ‰¾æœ€è¿‘æœ‰æ•ˆå·¥ä½œæ—¥æ—¶ä¸ä¼šè·¨è¿‡å½“å‰æœˆä»½ï¼Œè¿ç”¨å­—ç¬¦<code>LW</code>æ—¶è¡¨ç¤ºä¸ºæŒ‡å®šæœˆä»½çš„æœ€åä¸€ä¸ªå·¥ä½œæ—¥ã€‚</td><td>åœ¨æ—¥æœŸåŸŸä¸­<code>5W</code>ï¼Œå¦‚æœ5æ—¥æ˜¯æ˜ŸæœŸå…­ï¼Œåˆ™å°†åœ¨æœ€è¿‘çš„å·¥ä½œæ—¥æ˜ŸæœŸäº”ï¼Œå³4æ—¥è§¦å‘ã€‚å¦‚æœ5æ—¥æ˜¯æ˜ŸæœŸå¤©ï¼Œåˆ™å°†åœ¨æœ€è¿‘çš„å·¥ä½œæ—¥æ˜ŸæœŸä¸€ï¼Œå³6æ—¥è§¦å‘ï¼›å¦‚æœ5æ—¥åœ¨æ˜ŸæœŸä¸€åˆ°æ˜ŸæœŸäº”ä¸­çš„ä¸€å¤©ï¼Œåˆ™å°±åœ¨5æ—¥è§¦å‘ã€‚</td></tr><tr><td><code>#</code></td><td>ç¡®å®šæ¯ä¸ªæœˆç¬¬å‡ ä¸ªæ˜ŸæœŸå‡ ï¼Œä»…æ˜ŸæœŸåŸŸæ”¯æŒè¯¥å­—ç¬¦ã€‚</td><td>åœ¨æ˜ŸæœŸåŸŸä¸­ï¼Œ<code>4#2</code>è¡¨ç¤ºæŸæœˆçš„ç¬¬äºŒä¸ªæ˜ŸæœŸå››ã€‚</td></tr></tbody></table><h3 id="å–å€¼ç¤ºä¾‹"><a href="#å–å€¼ç¤ºä¾‹" class="headerlink" title="å–å€¼ç¤ºä¾‹"></a>å–å€¼ç¤ºä¾‹</h3><blockquote><p>ä»¥ä¸‹ä¸ºCronè¡¨è¾¾å¼çš„å–å€¼ç¤ºä¾‹ã€‚</p></blockquote><table><thead><tr><th>ç¤ºä¾‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>0 15 10 ? * *</code></td><td>æ¯å¤©ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 15 10 * * ?</code></td><td>æ¯å¤©ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 0 12 * * ?</code></td><td>æ¯å¤©ä¸­åˆ12:00æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 0 10,14,16 * * ?</code></td><td>æ¯å¤©ä¸Šåˆ10:00ç‚¹ã€ä¸‹åˆ14:00ä»¥åŠä¸‹åˆ16:00æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 0/30 9-17 * * ?</code></td><td>æ¯å¤©ä¸Šåˆ09:00åˆ°ä¸‹åˆ17:00æ—¶é—´æ®µå†…æ¯éš”åŠå°æ—¶æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 * 14 * * ?</code></td><td>æ¯å¤©ä¸‹åˆ14:00åˆ°ä¸‹åˆ14:59æ—¶é—´æ®µå†…æ¯éš”1åˆ†é’Ÿæ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 0-5 14 * * ?</code></td><td>æ¯å¤©ä¸‹åˆ14:00åˆ°ä¸‹åˆ14:05æ—¶é—´æ®µå†…æ¯éš”1åˆ†é’Ÿæ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 0/5 14 * * ?</code></td><td>æ¯å¤©ä¸‹åˆ14:00åˆ°ä¸‹åˆ14:55æ—¶é—´æ®µå†…æ¯éš”5åˆ†é’Ÿæ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 0/5 14,18 * * ?</code></td><td>æ¯å¤©ä¸‹åˆ14:00åˆ°ä¸‹åˆ14:55ã€ä¸‹åˆ18:00åˆ°ä¸‹åˆ18:55æ—¶é—´æ®µå†…æ¯éš”5åˆ†é’Ÿæ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 0 12 ? * WED</code></td><td>æ¯ä¸ªæ˜ŸæœŸä¸‰ä¸­åˆ12:00æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 15 10 15 * ?</code></td><td>æ¯æœˆ15æ—¥ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 15 10 L * ?</code></td><td>æ¯æœˆæœ€åä¸€æ—¥ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 15 10 ? * 6L</code></td><td>æ¯æœˆæœ€åä¸€ä¸ªæ˜ŸæœŸå…­ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 15 10 ? * 6#3</code></td><td>æ¯æœˆç¬¬ä¸‰ä¸ªæ˜ŸæœŸå…­ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 10,44 14 ? 3 WED</code></td><td>æ¯å¹´3æœˆçš„æ¯ä¸ªæ˜ŸæœŸä¸‰ä¸‹åˆ14:10å’Œ14:44æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 15 10 ? * * 2022</code></td><td>2022å¹´æ¯å¤©ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 15 10 ? * * *</code></td><td>æ¯å¹´æ¯å¤©ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 0/5 14,18 * * ? 2022</code></td><td>2022å¹´æ¯å¤©ä¸‹åˆ14:00åˆ°ä¸‹åˆ14:55ã€ä¸‹åˆ18:00åˆ°ä¸‹åˆ18:55æ—¶é—´æ®µå†…æ¯éš”5åˆ†é’Ÿæ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 15 10 ? * 6#3 2022,2023</code></td><td>2022å¹´è‡³2023å¹´æ¯æœˆç¬¬ä¸‰ä¸ªæ˜ŸæœŸå…­ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 0/30 9-17 * * ? 2022-2025</code></td><td>2022å¹´è‡³2025å¹´æ¯å¤©ä¸Šåˆ09:00åˆ°ä¸‹åˆ17:30æ—¶é—´æ®µå†…æ¯éš”åŠå°æ—¶æ‰§è¡Œä»»åŠ¡</td></tr><tr><td><code>0 10,44 14 ? 3 WED 2022/2</code></td><td>ä»2022å¹´å¼€å§‹ï¼Œæ¯éš”ä¸¤å¹´3æœˆçš„æ¯ä¸ªæ˜ŸæœŸä¸‰ä¸‹åˆ14:10å’Œ14:44æ‰§è¡Œä»»åŠ¡</td></tr></tbody></table><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h3474oy5t3j323w1kwb29.jpg" alt="ç ‚ç‹¼  å¥³å­©å­ "></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>cron</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯AESåŠ å¯†è§£å¯†ï¼Œä»¥åŠé…å¥—çš„åç«¯åŠ å¯†è§£å¯†</title>
    <link href="/2022/05/23/java-15/"/>
    <url>/2022/05/23/java-15/</url>
    
    <content type="html"><![CDATA[<p>AESå…¨ç§°é«˜çº§åŠ å¯†æ ‡å‡†ï¼ˆè‹±è¯­ï¼šAdvanced Encryption Standardï¼Œç¼©å†™ï¼šAESï¼‰ï¼Œåœ¨å¯†ç å­¦ä¸­åˆç§°RijndaelåŠ å¯†æ³•ã€‚</p><h2 id="å‰ç«¯åŠ å¯†è§£å¯†"><a href="#å‰ç«¯åŠ å¯†è§£å¯†" class="headerlink" title="å‰ç«¯åŠ å¯†è§£å¯†"></a>å‰ç«¯åŠ å¯†è§£å¯†</h2><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å¼•å…¥JS</span><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"</span> integrity<span class="token operator">=</span><span class="token string">"sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA=="</span> crossorigin<span class="token operator">=</span><span class="token string">"anonymous"</span> referrerpolicy<span class="token operator">=</span><span class="token string">"no-referrer"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token comment">/*åŠ å¯†*/</span><span class="token keyword">function</span> <span class="token function">aesEncode</span><span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    key <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Utf8<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> encryptedData <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span><span class="token constant">AES</span><span class="token punctuation">.</span><span class="token function">encrypt</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">mode</span><span class="token operator">:</span> CryptoJS<span class="token punctuation">.</span>mode<span class="token punctuation">.</span><span class="token constant">ECB</span><span class="token punctuation">,</span>        <span class="token literal-property property">padding</span><span class="token operator">:</span> CryptoJS<span class="token punctuation">.</span>pad<span class="token punctuation">.</span>Pkcs7    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> encryptedData<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™é‡Œè¿”å›æ˜¯Base64å­—ç¬¦ä¸²</span><span class="token punctuation">&#125;</span><span class="token comment">/*è§£å¯†*/</span><span class="token keyword">function</span> <span class="token function">aesDecode</span><span class="token punctuation">(</span><span class="token parameter">encryptedStr<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    key <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Utf8<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> encryptedHexStr  <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Base64<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>encryptedStr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> encryptedBase64Str  <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Base64<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>encryptedHexStr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> decryptedData  <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span><span class="token constant">AES</span><span class="token punctuation">.</span><span class="token function">decrypt</span><span class="token punctuation">(</span>encryptedBase64Str<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">mode</span><span class="token operator">:</span> CryptoJS<span class="token punctuation">.</span>mode<span class="token punctuation">.</span><span class="token constant">ECB</span><span class="token punctuation">,</span>        <span class="token literal-property property">padding</span><span class="token operator">:</span> CryptoJS<span class="token punctuation">.</span>pad<span class="token punctuation">.</span>Pkcs7    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> decryptedData<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Utf8<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="åç«¯åŠ å¯†è§£å¯†"><a href="#åç«¯åŠ å¯†è§£å¯†" class="headerlink" title="åç«¯åŠ å¯†è§£å¯†"></a>åç«¯åŠ å¯†è§£å¯†</h2><p>æ·»åŠ å°è£…çš„ä¾èµ–hu-tool</p><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>cn.hutool<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>hutool-all<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.7.22<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æ„å»ºAESåŠ å¯†å·¥å…·</span><span class="token class-name">SymmetricCrypto</span> aes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SymmetricCrypto</span><span class="token punctuation">(</span><span class="token class-name">SymmetricAlgorithm</span><span class="token punctuation">.</span><span class="token constant">AES</span><span class="token punctuation">,</span> <span class="token string">"qeNm3eXK/BCAwTVoEjfaGQ=="</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åŠ å¯†</span><span class="token comment">// å¦‚æœéœ€è¦è½¬ä¸ºå’Œå‰ç«¯æ˜¾ç¤ºä¸€æ ·çš„æ•°æ®ï¼Œè¿™é‡Œéœ€è¦æŠŠè¿™ä¸ªè¿”å›å†…å®¹è½¬ä¸ºBase64å­—ç¬¦ä¸²</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> encrypt <span class="token operator">=</span> aes<span class="token punctuation">.</span><span class="token function">encrypt</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è§£å¯†</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> decrypt <span class="token operator">=</span> aes<span class="token punctuation">.</span><span class="token function">decrypt</span><span class="token punctuation">(</span>encrypt<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è§£å¯†ä¸ºå­—ç¬¦ä¸²</span><span class="token class-name">String</span> decryptStr <span class="token operator">=</span> aes<span class="token punctuation">.</span><span class="token function">decryptStr</span><span class="token punctuation">(</span>encrypt<span class="token punctuation">,</span> <span class="token class-name">CharsetUtil</span><span class="token punctuation">.</span><span class="token constant">CHARSET_UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h2i2h93hwrj32yo1o07wi.jpg" alt="è“è‰²çŸ­å‘å¥³ç”Ÿ"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AES</tag>
      
      <tag>åŠ å¯†è§£å¯†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Spring Bootä¸ç¼“å­˜ï¼šä½¿ç”¨JCacheï¼ˆJSR-107ï¼‰æ³¨è§£ç®€åŒ–å¼€å‘</title>
    <link href="/2022/05/10/java-14/"/>
    <url>/2022/05/10/java-14/</url>
    
    <content type="html"><![CDATA[<p>ç¼“å­˜æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œå¦‚æœä½ æƒ³è®©å‰å°ç”¨æˆ·æ“ä½œæµç•…çš„è¯ã€‚ç»å…¸çš„å€’è£…å¥ã€‚ç°åœ¨éƒ½åœ¨è¿½æ±‚æœåŠ¡çš„æ— çŠ¶æ€åŒ–ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨redisä½œä¸ºç¼“å­˜å·¥å…·ã€‚æˆ‘ä¹Ÿæ„Ÿè§‰æ²¡æœ‰å¿…è¦å†™ï¼Œå¯æ˜¯ç®€å•çš„ä½ ä¸å†™ï¼Œå¤æ‚çš„ä½ åˆå†™ä¸å¥½ï¼Œæœ€åï¼Œå°±æ˜¯å•¥ä¹Ÿæ²¡æœ‰ã€‚</p><p>springbootç‰ˆæœ¬ï¼š2.6.7</p><h2 id="å¼•å…¥ä¾èµ–"><a href="#å¼•å…¥ä¾èµ–" class="headerlink" title="å¼•å…¥ä¾èµ–"></a>å¼•å…¥ä¾èµ–</h2><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-cache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>é»˜è®¤ç”Ÿæ•ˆçš„æ˜¯é…ç½®ç±»ï¼šSimpleCacheConfigurationï¼Œå…¶ä»–çš„é…ç½®ç±»æ¯”å¦‚RedisCacheConfigurationå¦‚æœè¦ç”Ÿæ•ˆå¿…é¡»æ·»åŠ ç›¸å…³çš„Redisé…ç½®ä¿¡æ¯ï¼Œå¦åˆ™é»˜è®¤ä¸ç”Ÿæ•ˆã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">cache</span><span class="token punctuation">:</span>  <span class="token comment"># å¯ä»¥ä¸ºç†è§£æŒ‡å®šå­˜å‚¨ç¼“å­˜çš„ä¸œè¥¿</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> redis  <span class="token key atrule">redis</span><span class="token punctuation">:</span>    <span class="token key atrule">database</span><span class="token punctuation">:</span> <span class="token number">0</span>    <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost    <span class="token comment"># å¦‚æœä½ æœ‰å¯†ç çš„è¯</span>    <span class="token key atrule">password</span><span class="token punctuation">:</span> redis213<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¯åŠ¨ç±»åŠ ä¸ªå¯ç”¨ç¼“å­˜çš„æ³¨è§£ï¼Œå¼€å¯ç¼“å­˜"><a href="#å¯åŠ¨ç±»åŠ ä¸ªå¯ç”¨ç¼“å­˜çš„æ³¨è§£ï¼Œå¼€å¯ç¼“å­˜" class="headerlink" title="å¯åŠ¨ç±»åŠ ä¸ªå¯ç”¨ç¼“å­˜çš„æ³¨è§£ï¼Œå¼€å¯ç¼“å­˜"></a>å¯åŠ¨ç±»åŠ ä¸ªå¯ç”¨ç¼“å­˜çš„æ³¨è§£ï¼Œå¼€å¯ç¼“å­˜</h2><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableCaching</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerApplication</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ServerApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¼€å§‹ä½¿ç”¨"><a href="#å¼€å§‹ä½¿ç”¨" class="headerlink" title="å¼€å§‹ä½¿ç”¨"></a>å¼€å§‹ä½¿ç”¨</h2><p>æ¨èæ³¨è§£ä½¿ç”¨å•Šï¼Œæ‰‹å†™çš„è¯åº”è¯¥ä¸éœ€è¦ä»‹ç»ï¼Œè‡ªå·±æ‰‹æ“ç€å°±è¡Œï¼Œæ‰‹æ“æ²¡å•¥å¯è¯´çš„ï¼Œæ³¨è§£ï¼Œä¹Ÿåªæ˜¯è¯´ä¸€è¯´æ³¨è§£é‡Œçš„å„ç§å±æ€§ã€‚è‹±æ–‡å¥½ç‚¹ï¼Œå¯ä»¥éšä¾¿ä½¿ç”¨å•Šã€‚è‹±æ–‡ä¸å¥½ï¼Œé‚£å’±ä¹Ÿä¸æ˜¯ä¸€ç‚¹ä¹Ÿä¸èƒ½çœ‹ï¼Œæ ¹æ®å˜é‡åçŒœï¼ŒåŠ ä¸Šæœºå™¨ç¿»è¯‘ï¼Œæ—¥å­åˆ°ä¹Ÿè¿‡çš„ä¸‹å»ã€‚</p><div class="note note-info">            <p>æˆ‘åªæ˜¯ä¸€ä¸ªå–œæ¬¢å†™éšç¬”çš„äººå•Šï¼Œæ¯æ¬¡å†™è¿™ç§ä»‹ç»åšå®¢æ—¶ï¼Œæ€»æ—¶æ§åˆ¶ä¸ä½å»å†™ä¹¦ï¼Œå¯èƒ½å’Œæˆ‘çš„åˆä¸­è€å¸ˆæœ‰å…³ç³»ï¼Œä¸€è‚¡è„‘çš„å…¨éƒ¨åˆ°ç»™ä½ ï¼Œä¹Ÿä¸ç®¡ä½ å¬ä¸å¬å¾—æ‡‚ã€‚è¿˜æ˜¯ç®€ç•¥ç‚¹ï¼Œå†™çš„å¤ªè¯¦ç»†å†™çš„ä¹Ÿç´¯ï¼Œçœ‹çš„ä¹Ÿç´¯ã€‚æœ€ä¸»è¦æ„Ÿè§‰è¿˜æ˜¯è¦èµ·åˆ°çš„ä¸€ä¸ªç±»ä¼¼é¢†å¤´çš„æ•ˆæœå§ã€‚å¾ˆå¤šç»†èŠ‚ï¼Œè‡ªå·±å»çœ‹æºç ä¹Ÿæ˜¯å¯ä»¥è§£å†³çš„ã€‚</p>          </div><h2 id="å‡ ä¸ªé‡è¦çš„æ¦‚å¿µå’Œæ³¨è§£"><a href="#å‡ ä¸ªé‡è¦çš„æ¦‚å¿µå’Œæ³¨è§£" class="headerlink" title="å‡ ä¸ªé‡è¦çš„æ¦‚å¿µå’Œæ³¨è§£"></a>å‡ ä¸ªé‡è¦çš„æ¦‚å¿µå’Œæ³¨è§£</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h24891grucj30w60ea786.jpg" alt="æ¦‚å¿µ"></p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h2489u3nmyj30wq0gf4bh.jpg" alt="æ³¨è§£å‚æ•°"></p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h248a7wofej30yu0f5n44.jpg" alt="æ³¨è§£ä¸­SPELè¡¨è¾¾å¼"></p><h3 id="Cacheable"><a href="#Cacheable" class="headerlink" title="@Cacheable"></a>@Cacheable</h3><p><code>@Cacheable</code>æ ‡æ³¨çš„æ–¹æ³•åœ¨æ‰§è¡Œä¹‹å‰ä¼šå…ˆæ£€æŸ¥ç¼“å­˜ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªæ•°æ®ï¼Œé»˜è®¤æŒ‰ç…§å‚æ•°çš„å€¼ä½œä¸ºç¼“å­˜çš„keyå»æŸ¥è¯¢ç¼“å­˜ï¼Œå¦‚æœæ²¡æœ‰å°±è¿è¡Œè¯¥æ–¹æ³•å¹¶å°†ç»“æœæ”¾å…¥ç¼“å­˜ï¼›ä»¥åå†æ¥è°ƒç”¨å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ç¼“å­˜ä¸­çš„æ•°æ®ï¼›</p><ol><li>æ–¹æ³•è¿è¡Œä¹‹å‰ï¼Œå…ˆå»æŸ¥è¯¢Cacheï¼ˆç¼“å­˜ç»„ä»¶ï¼‰ï¼ŒæŒ‰ç…§cacheNamesæŒ‡å®šçš„åå­—è·å–ï¼›ï¼ˆCacheManagerå…ˆè·å–ç›¸åº”çš„ç¼“å­˜ï¼‰ï¼Œç¬¬ä¸€æ¬¡è·å–ç¼“å­˜å¦‚æœæ²¡æœ‰Cacheç»„ä»¶ä¼šè‡ªåŠ¨åˆ›å»ºã€‚</li><li>å»Cacheä¸­æŸ¥æ‰¾ç¼“å­˜çš„å†…å®¹ï¼Œä½¿ç”¨ä¸€ä¸ªkeyï¼Œé»˜è®¤å°±æ˜¯æ–¹æ³•çš„å‚æ•°ï¼›keyæ˜¯æŒ‰ç…§æŸç§ç­–ç•¥ç”Ÿæˆçš„ï¼›é»˜è®¤æ˜¯ä½¿ç”¨<code>keyGenerator</code>ç”Ÿæˆçš„ï¼Œé»˜è®¤ä½¿ç”¨<code>SimpleKeyGenerator</code>ç”Ÿæˆkeyï¼›</li><li>çœ‹æºç å¾—çŸ¥<code>SimpleKeyGenerator</code>ç”Ÿæˆkeyçš„é»˜è®¤ç­–ç•¥ï¼›<ul><li>å¦‚æœæ²¡æœ‰å‚æ•°ï¼›<code>key=new SimpleKey()</code>ï¼›</li><li>å¦‚æœæœ‰ä¸€ä¸ªå‚æ•°ï¼š<code>key=å‚æ•°çš„å€¼</code></li><li>å¦‚æœæœ‰å¤šä¸ªå‚æ•°ï¼š<code>key=new SimpleKey(params)</code>ï¼›</li></ul></li><li>æ²¡æœ‰æŸ¥åˆ°ç¼“å­˜å°±è°ƒç”¨ç›®æ ‡æ–¹æ³•ï¼›</li><li>å°†ç›®æ ‡æ–¹æ³•è¿”å›çš„ç»“æœï¼Œæ”¾è¿›ç¼“å­˜ä¸­</li></ol><div class="note note-info">            <p>å°†æ–¹æ³•çš„è¿è¡Œç»“æœè¿›è¡Œç¼“å­˜ï¼›ä»¥åå†è¦ç›¸åŒçš„æ•°æ®ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­è·å–ï¼Œä¸ç”¨è°ƒç”¨æ–¹æ³•ï¼›<br>CacheManagerç®¡ç†å¤šä¸ªCacheç»„ä»¶çš„ï¼Œå¯¹ç¼“å­˜çš„çœŸæ­£CRUDæ“ä½œåœ¨Cacheç»„ä»¶ä¸­ï¼Œæ¯ä¸€ä¸ªç¼“å­˜ç»„ä»¶æœ‰è‡ªå·±å”¯ä¸€ä¸€ä¸ªåå­—ï¼›</p>          </div><h4 id="Cacheableæ³¨è§£çš„å¯é…ç½®é¡¹"><a href="#Cacheableæ³¨è§£çš„å¯é…ç½®é¡¹" class="headerlink" title="Cacheableæ³¨è§£çš„å¯é…ç½®é¡¹"></a>Cacheableæ³¨è§£çš„å¯é…ç½®é¡¹</h4><ol><li><code>cacheNames/value</code>ï¼šæŒ‡å®šç¼“å­˜ç»„ä»¶çš„åå­—;å°†æ–¹æ³•çš„è¿”å›ç»“æœæ”¾åœ¨å“ªä¸ªç¼“å­˜ä¸­ï¼Œæ˜¯æ•°ç»„çš„æ–¹å¼ï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ªç¼“å­˜ï¼›</li><li><code>key</code>ï¼šç¼“å­˜æ•°æ®ä½¿ç”¨çš„keyï¼›å¯ä»¥ç”¨å®ƒæ¥æŒ‡å®šã€‚é»˜è®¤æ˜¯ä½¿ç”¨æ–¹æ³•å‚æ•°çš„å€¼ 1-æ–¹æ³•çš„è¿”å›å€¼ç¼–å†™SpELï¼› #id;å‚æ•°idçš„å€¼ #a0 #p0 #root.args[0]getEmp[2]</li><li><code>keyGenerator</code>ï¼škeyçš„ç”Ÿæˆå™¨ï¼›å¯ä»¥è‡ªå·±æŒ‡å®škeyçš„ç”Ÿæˆå™¨çš„ç»„ä»¶id,<code>key/keyGenerator</code>ï¼šäºŒé€‰ä¸€ä½¿ç”¨</li><li><code>cacheManager</code>ï¼šæŒ‡å®šç¼“å­˜ç®¡ç†å™¨ï¼›æˆ–è€…cacheResolveræŒ‡å®šè·å–è§£æå™¨</li><li><code>condition</code>ï¼šæŒ‡å®šç¬¦åˆæ¡ä»¶çš„æƒ…å†µä¸‹æ‰ç¼“å­˜ï¼›condition &#x3D; â€œ#id&gt;0â€ï¼›condition &#x3D; â€œ#a0&gt;1â€ï¼šç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼å¤§äº1çš„æ—¶å€™æ‰è¿›è¡Œç¼“å­˜</li><li><code>unless</code>: å¦å®šç¼“å­˜ï¼›å½“unlessæŒ‡å®šçš„æ¡ä»¶ä¸ºtrueï¼Œæ–¹æ³•çš„è¿”å›å€¼å°±ä¸ä¼šè¢«ç¼“å­˜ï¼›å¯ä»¥è·å–åˆ°ç»“æœè¿›è¡Œåˆ¤unless &#x3D; â€œ#result &#x3D;&#x3D; nullâ€unless &#x3D; â€œ#a0&#x3D;&#x3D;2â€:å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼æ˜¯2ï¼Œç»“æœä¸ç¼“å­˜ï¼›</li><li><code>sync</code>ï¼šæ˜¯å¦ä½¿ç”¨å¼‚æ­¥æ¨¡å¼</li></ol><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Cacheable</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"emp"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>keyGenerator <span class="token operator">=</span> <span class="token string">"myKeyGenerator"</span><span class="token punctuation">,</span>condition <span class="token operator">=</span> <span class="token string">"#a0>1"</span><span class="token punctuation">,</span>unless <span class="token operator">=</span> <span class="token string">"#a0==2"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">Employee</span> <span class="token function">getEmp</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æŸ¥è¯¢"</span><span class="token operator">+</span>id<span class="token operator">+</span><span class="token string">"å·å‘˜å·¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Employee</span> emp <span class="token operator">=</span> employeeMapper<span class="token punctuation">.</span><span class="token function">getEmpById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> emp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="CachePut"><a href="#CachePut" class="headerlink" title="@CachePut"></a>@CachePut</h3><ul><li><p>æ—¢è°ƒç”¨æ–¹æ³•ï¼Œåˆæ›´æ–°ç¼“å­˜æ•°æ®ï¼›åŒæ­¥æ›´æ–°ç¼“å­˜</p></li><li><p>åº”ç”¨åœºæ™¯ï¼šä¿®æ”¹äº†æ•°æ®åº“çš„æŸä¸ªæ•°æ®ï¼ŒåŒæ—¶æ›´æ–°ç¼“å­˜ï¼›</p></li><li><p>æµç¨‹ï¼š</p><ol><li>å…ˆè°ƒç”¨ç›®æ ‡æ–¹æ³•</li><li>å°†ç›®æ ‡æ–¹æ³•çš„ç»“æœç¼“å­˜èµ·æ¥</li></ol></li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@CachePut</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"emp"</span><span class="token punctuation">,</span>key <span class="token operator">=</span> <span class="token string">"#result.id"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">Employee</span> <span class="token function">updateEmp</span><span class="token punctuation">(</span><span class="token class-name">Employee</span> employee<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"updateEmp:"</span><span class="token operator">+</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>    employeeMapper<span class="token punctuation">.</span><span class="token function">updateEmp</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> employee<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="CacheEvict"><a href="#CacheEvict" class="headerlink" title="@CacheEvict"></a>@CacheEvict</h3><ul><li><code>@CacheEvict</code>ï¼šç¼“å­˜æ¸…é™¤</li><li><code>key</code>ï¼šæŒ‡å®šè¦æ¸…é™¤çš„æ•°æ®</li><li><code>allEntries = true</code>ï¼šæŒ‡å®šæ¸…é™¤è¿™ä¸ªç¼“å­˜ä¸­æ‰€æœ‰çš„æ•°æ®</li><li><code>beforeInvocation = false</code>ï¼šç¼“å­˜çš„æ¸…é™¤æ˜¯å¦åœ¨æ–¹æ³•ä¹‹å‰æ‰§è¡Œã€‚é»˜è®¤ä»£è¡¨ç¼“å­˜æ¸…é™¤æ“ä½œæ˜¯åœ¨æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œ;å¦‚æœå‡ºç°å¼‚å¸¸ç¼“å­˜å°±ä¸ä¼šæ¸…é™¤ã€‚</li><li><code>beforeInvocation = true</code>ï¼šä»£è¡¨æ¸…é™¤ç¼“å­˜æ“ä½œæ˜¯åœ¨æ–¹æ³•è¿è¡Œä¹‹å‰æ‰§è¡Œï¼Œæ— è®ºæ–¹æ³•æ˜¯å¦å‡ºç°å¼‚å¸¸ï¼Œç¼“å­˜éƒ½æ¸…é™¤</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@CacheEvict</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"emp"</span><span class="token punctuation">,</span>beforeInvocation <span class="token operator">=</span> <span class="token boolean">true</span>ï¼Œkey <span class="token operator">=</span> <span class="token string">"#id"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteEmp</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"deleteEmp:"</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    employeeMapper<span class="token punctuation">.</span><span class="token function">deleteEmpById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="Caching"><a href="#Caching" class="headerlink" title="@Caching"></a>@Caching</h3><ul><li><code>@Caching</code> ç»¼åˆä¸Šé¢ä»‹ç»çš„å‡ ä¸ªæ³¨è§£ï¼Œç”¨æ¥å®šä¹‰è¾ƒä¸ºå¤æ‚çš„ç¼“å­˜è§„åˆ™</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Caching</span><span class="token punctuation">(</span>     cacheable <span class="token operator">=</span> <span class="token punctuation">&#123;</span>         <span class="token annotation punctuation">@Cacheable</span><span class="token punctuation">(</span><span class="token comment">/*value="emp",*/</span>key <span class="token operator">=</span> <span class="token string">"#lastName"</span><span class="token punctuation">)</span>     <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>     put <span class="token operator">=</span> <span class="token punctuation">&#123;</span>         <span class="token annotation punctuation">@CachePut</span><span class="token punctuation">(</span><span class="token comment">/*value="emp",*/</span>key <span class="token operator">=</span> <span class="token string">"#result.id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>         <span class="token annotation punctuation">@CachePut</span><span class="token punctuation">(</span><span class="token comment">/*value="emp",*/</span>key <span class="token operator">=</span> <span class="token string">"#result.email"</span><span class="token punctuation">)</span>     <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">Employee</span> <span class="token function">getEmpByLastName</span><span class="token punctuation">(</span><span class="token class-name">String</span> lastName<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> employeeMapper<span class="token punctuation">.</span><span class="token function">getEmpByLastName</span><span class="token punctuation">(</span>lastName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="CacheConfig"><a href="#CacheConfig" class="headerlink" title="@CacheConfig"></a>@CacheConfig</h3><ul><li>åœ¨ç±»ä¸Šä½¿ç”¨ï¼Œæä¾›å…¬å…±å±æ€§ã€‚</li><li><code>cacheNames</code>: ç¼“å­˜åç§°ï¼ŒåŒä¸€ä¸ªç±»ä¸­ï¼Œä¸æŒ‡å®šç¼“å­˜åç§°åˆ™ä½¿ç”¨è¿™ä¸ªåç§°ï¼Œç±»ä¼¼äºä¸€ä¸ªä»¥ç±»ä¸ºå•ä½çš„å…¨å±€é…ç½®ã€‚</li><li>ä¸‹é¢å’Œä¸Šé¢ç±»ä¼¼ï¼Œè€Œä¸”å±æ€§å‰é¢ä¹Ÿæœ‰ä»‹ç»ï¼Œå°±ä¸å¤šè¯´äº†ã€‚</li></ul><p>æºç ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">)</span> <span class="token comment">// è¿™ä¸ªè¡¨ç¤ºåªèƒ½åœ¨ç±»ä¸Šä½¿ç”¨</span><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Documented</span><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">CacheConfig</span> <span class="token punctuation">&#123;</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">cacheNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token class-name">String</span> <span class="token function">keyGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">""</span><span class="token punctuation">;</span> <span class="token class-name">String</span> <span class="token function">cacheManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">""</span><span class="token punctuation">;</span> <span class="token class-name">String</span> <span class="token function">cacheResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h249s4uychj32yo1o0kjp.jpg" alt="æµ·ç»µå®å®"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>springboot</tag>
      
      <tag>cache</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java DecimalFormatçš„ä¸»è¦åŠŸèƒ½åŠä½¿ç”¨æ–¹æ³•</title>
    <link href="/2022/04/02/java-13/"/>
    <url>/2022/04/02/java-13/</url>
    
    <content type="html"><![CDATA[<p>DecimalFormat æ˜¯ NumberFormat çš„ä¸€ä¸ªå…·ä½“å­ç±»ï¼Œç”¨äºæ ¼å¼åŒ–åè¿›åˆ¶æ•°å­—ã€‚è¯¥ç±»è®¾è®¡æœ‰å„ç§åŠŸèƒ½ï¼Œä½¿å…¶èƒ½å¤Ÿåˆ†æå’Œæ ¼å¼åŒ–ä»»æ„è¯­è¨€ç¯å¢ƒä¸­çš„æ•°ï¼ŒåŒ…æ‹¬å¯¹è¥¿æ–¹è¯­è¨€ã€é˜¿æ‹‰ä¼¯è¯­å’Œå°åº¦è¯­æ•°å­—çš„æ”¯æŒã€‚å®ƒè¿˜æ”¯æŒä¸åŒç±»å‹çš„æ•°ï¼ŒåŒ…æ‹¬æ•´æ•° (123)ã€å®šç‚¹æ•° (123.4)ã€ç§‘å­¦è®°æ•°æ³•è¡¨ç¤ºçš„æ•° (1.23E4)ã€ç™¾åˆ†æ•° (12%) å’Œé‡‘é¢ ($123)ã€‚æ‰€æœ‰è¿™äº›å†…å®¹éƒ½å¯ä»¥æœ¬åœ°åŒ–ã€‚<br>DecimalFormat åŒ…å«ä¸€ä¸ªæ¨¡å¼ å’Œä¸€ç»„ç¬¦å·</p><h2 id="ç¬¦å·å«ä¹‰"><a href="#ç¬¦å·å«ä¹‰" class="headerlink" title="ç¬¦å·å«ä¹‰"></a>ç¬¦å·å«ä¹‰</h2><table><thead><tr><th>ç¬¦å·</th><th>ä½ç½®</th><th>æœ¬åœ°åŒ–ï¼Ÿ</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>0</td><td>æ•°å­—</td><td>æ˜¯</td><td>é˜¿æ‹‰ä¼¯æ•°å­—</td></tr><tr><td>#</td><td>æ•°å­—å­—</td><td>æ˜¯</td><td>é˜¿æ‹‰ä¼¯æ•°å­—ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™æ˜¾ç¤ºä¸ºç©º</td></tr><tr><td>.</td><td>æ•°å­—</td><td>æ˜¯</td><td>å°æ•°åˆ†éš”ç¬¦æˆ–è´§å¸å°æ•°åˆ†éš”ç¬¦</td></tr><tr><td>-</td><td>æ•°å­—</td><td>æ˜¯</td><td>å‡å·</td></tr><tr><td>,</td><td>æ•°å­—</td><td>æ˜¯</td><td>åˆ†ç»„åˆ†éš”ç¬¦</td></tr><tr><td>E</td><td>æ•°å­—</td><td>æ˜¯</td><td>åˆ†éš”ç§‘å­¦è®¡æ•°æ³•ä¸­çš„å°¾æ•°å’ŒæŒ‡æ•°ã€‚åœ¨å‰ç¼€æˆ–åç¼€ä¸­æ— éœ€åŠ å¼•å·ã€‚</td></tr><tr><td>;</td><td>å­æ¨¡å¼è¾¹ç•Œ</td><td>æ˜¯</td><td>åˆ†éš”æ­£æ•°å’Œè´Ÿæ•°å­æ¨¡å¼</td></tr><tr><td>%</td><td>å‰ç¼€æˆ–åç¼€</td><td>æ˜¯</td><td>ä¹˜ä»¥ 100 å¹¶æ˜¾ç¤ºä¸ºç™¾åˆ†æ•°</td></tr></tbody></table><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">DecimalFormat</span> df1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">"0.0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">DecimalFormat</span> df2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">"#.#"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">DecimalFormat</span> df3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">"000.000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">DecimalFormat</span> df4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">"###.###"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>df1<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">12.34</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>df2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">12.34</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>df3<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">12.34</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>df4<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">12.34</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿è¡Œç»“æœï¼š </span><span class="token number">12.3</span> <span class="token number">12.3</span> <span class="token number">012.340</span> <span class="token number">12.34</span><span class="token class-name">DecimalFormat</span> format <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">"###,####.000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>format<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">111111123456.1227222</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token function">setDefault</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token constant">US</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">DecimalFormat</span> usFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">"###,###.000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>usFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">111111123456.1227222</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">DecimalFormat</span> addPattenFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> addPattenFormat<span class="token punctuation">.</span><span class="token function">applyPattern</span><span class="token punctuation">(</span><span class="token string">"##,###.000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>addPattenFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">111111123456.1227</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">DecimalFormat</span> zhiFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> zhiFormat<span class="token punctuation">.</span><span class="token function">applyPattern</span><span class="token punctuation">(</span><span class="token string">"0.000E0000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zhiFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zhiFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">12345678.345</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">DecimalFormat</span> percentFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> percentFormat<span class="token punctuation">.</span><span class="token function">applyPattern</span><span class="token punctuation">(</span><span class="token string">"#0.000%"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>percentFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">0.3052222</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> è¿è¡Œç»“æœ ï¼š<span class="token number">1111</span><span class="token punctuation">,</span><span class="token number">1112</span><span class="token punctuation">,</span><span class="token number">3456.123</span> <span class="token number">111</span><span class="token punctuation">,</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token number">123</span><span class="token punctuation">,</span><span class="token number">456.123</span> <span class="token number">111</span><span class="token punctuation">,</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token number">123</span><span class="token punctuation">,</span><span class="token number">456.123</span> <span class="token number">1.000E0004</span> <span class="token number">1.235E0007</span> <span class="token number">30.522</span><span class="token operator">%</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å¦‚æœä½¿ç”¨å…·æœ‰å¤šä¸ªåˆ†ç»„å­—ç¬¦çš„æ¨¡å¼ï¼Œåˆ™æœ€åä¸€ä¸ªåˆ†éš”ç¬¦å’Œæ•´æ•°ç»“å°¾ä¹‹é—´çš„é—´éš”æ‰æ˜¯ä½¿ç”¨çš„åˆ†ç»„å¤§å°ã€‚</p><p>æ‰€ä»¥ â€œ#,##,###,####â€ &#x3D;&#x3D; â€œ######,####â€ &#x3D;&#x3D; â€œ##,####,####â€ã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h0zyye8c98j32yo1o0e82.jpg" alt="é›†åŸç¾"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DecimalFormat</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracleç‰ˆæœ¬å¯¹åº”åŒ¹é…çš„ojdbcç‰ˆæœ¬åŠJDKç‰ˆæœ¬</title>
    <link href="/2022/04/02/java-12/"/>
    <url>/2022/04/02/java-12/</url>
    
    <content type="html"><![CDATA[<p>Oracle JDBC ç‰ˆæœ¬ä¸ JDK ç‰ˆæœ¬çš„å…³ç³»å¦‚ä½•ï¼Ÿ<br>Oracle JDBC é©±åŠ¨ç¨‹åºå§‹ç»ˆä¸æ¯ä¸€ä¸ªæ–°ç‰ˆæœ¬ä¸­çš„æœ€æ–° JDK ç‰ˆæœ¬ç›¸å…¼å®¹ã€‚åœ¨æŸäº›ç‰ˆæœ¬ä¸­ï¼ŒJDBC é©±åŠ¨ç¨‹åºæ”¯æŒå¤šä¸ª JDK ç‰ˆæœ¬ã€‚è¯·ä½¿ç”¨ä¸‹è¡¨æ ¹æ®æ‚¨çš„é¦–é€‰ JDK ç‰ˆæœ¬é€‰æ‹©æ­£ç¡®çš„ JDBC é©±åŠ¨ç¨‹åºã€‚</p><table><thead><tr><th>Oracle æ•°æ®åº“ç‰ˆæœ¬</th><th>ç‰¹å®šäºå‘è¡Œç‰ˆçš„ JDBC Jar æ–‡ä»¶</th></tr></thead><tbody><tr><td>21.1</td><td>ojdbc11.jarï¼Œéšå¸¦ JDK11ã€JDK12ã€JDK13ã€JDK14 å’Œ JDK15ï¼›ojdbc8.jar ï¼Œéšå¸¦ JDK8ã€JDK11ã€JDK12ã€JDK13ã€JDK14 å’Œ JDK15</td></tr><tr><td>19.x</td><td>ojdbc10.jarï¼Œéšå¸¦ JDK10 å’Œ JDK11ï¼›ojdbc8.jarï¼Œéšå¸¦ JDK8ã€JDK9 å’Œ JDK11</td></tr><tr><td>18.3</td><td>ojdbc8.jarï¼Œéšå¸¦ JDK8ã€JDK9ã€JDK10 å’Œ JDK11</td></tr><tr><td>12.2 æˆ– 12cR2</td><td>ojdbc8.jarï¼Œéšå¸¦ JDK8</td></tr><tr><td>12.1 æˆ– 12cR1</td><td>ojdbc7.jar with JDK 7 and JDK 8ï¼›ojdbc6.jarï¼Œéšå¸¦ JDK 6</td></tr><tr><td>11.2 æˆ– 11gR2</td><td>ojdbc6.jarï¼Œéšå¸¦ JDK 6ã€JDK 7 å’Œ JDK 8ï¼›ï¼ˆæ³¨æ„ï¼šä»… 11.2.0.3 å’Œ 11.2.0.4 æ”¯æŒ JDK7 å’Œ JDK8ï¼‰ï¼›ojdbc5.jarï¼Œéšå¸¦ JDK 5</td></tr></tbody></table><p><a href="https://www.oracle.com/cn/database/technologies/faq-jdbc.html">oracleå¸¸è§é—®é¢˜</a></p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h0ve62trn6j32yo1o0b2a.jpg" alt="å¥³å­©"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu20.x.xä½¿ç”¨rootç™»å½•</title>
    <link href="/2022/04/02/linux-01/"/>
    <url>/2022/04/02/linux-01/</url>
    
    <content type="html"><![CDATA[<h2 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h2><p>ä»¥æ™®é€šç”¨æˆ·ç™»å½•ç³»ç»Ÿï¼Œåˆ›å»ºrootç”¨æˆ·çš„å¯†ç <br>åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š</p><p><code>sudo passwd root</code></p><p>ç„¶åè¾“å…¥è®¾ç½®çš„å¯†ç ï¼Œè¾“å…¥ä¸¤æ¬¡ï¼Œè¿™æ ·å°±å®Œæˆäº†è®¾ç½®rootç”¨æˆ·å¯†ç äº†ï¼Œå¦‚æœåªéœ€è¦ä¸´æ—¶è·å–rootæƒé™ï¼Œåœ¨æ­¤æ­¥æ“ä½œåå°±å¯ä»¥åœ¨æ™®é€šç”¨æˆ·ç™»å½•çš„ç»ˆç«¯ä¸­è¾“å…¥<code>su root</code> ç„¶åè¾“å…¥ä¸¤éå¯†ç å³å¯åœ¨ç»ˆç«¯ä¸­è·å–rootæƒé™ã€‚å¯ä»¥ç¨å¾®é˜²æ­¢ä¸€ç‚¹æ¿€æƒ…åˆ åº“è¿™ä¸€æ­¥éª¤ã€‚</p><h2 id="ç¬¬äºŒæ­¥"><a href="#ç¬¬äºŒæ­¥" class="headerlink" title="ç¬¬äºŒæ­¥"></a>ç¬¬äºŒæ­¥</h2><p>ä¿®æ”¹æ–‡ä»¶<code>sudo gedit /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf</code><br>åœ¨æ–‡ä»¶æœ«å°¾å¢åŠ å¦‚ä¸‹ä¸¤è¡Œï¼š<br><code>greeter-show-manual-login=true</code><br><code>all-guest=false</code>  </p><h2 id="ç¬¬ä¸‰æ­¥"><a href="#ç¬¬ä¸‰æ­¥" class="headerlink" title="ç¬¬ä¸‰æ­¥"></a>ç¬¬ä¸‰æ­¥</h2><p>ä¿®æ”¹ <code>/etc/pam.d/gdm-autologin</code><br>  <code>/etc/pam.d/gdm-password</code><br>ä¸¤ä¸ªæ–‡ä»¶</p><p><code>sudo gedit /etc/pam.d/gdm-autologin</code><br>æ³¨é‡Šæ‰<code>auth required pam_succeed_if.so user != root quiet_success</code>è¿™ä¸€è¡Œ(ç¬¬ä¸‰è¡Œå·¦å³)</p><p><code>sudo gedit /etc/pam.d/gdm-password</code><br>æ³¨é‡Šæ‰ <code>auth required pam_succeed_if.so user != root quiet_success</code>è¿™ä¸€è¡Œ(ç¬¬ä¸‰è¡Œå·¦å³)</p><h2 id="ç¬¬å››æ­¥"><a href="#ç¬¬å››æ­¥" class="headerlink" title="ç¬¬å››æ­¥"></a>ç¬¬å››æ­¥</h2><p>ä¿®æ”¹<code>/root/.profile</code>æ–‡ä»¶<br><code>sudo gedit /root/.profile</code><br>å°†æ–‡ä»¶æœ«å°¾çš„<code>mesg n 2&gt; /dev/null || true</code>è¿™ä¸€è¡Œä¿®æ”¹æˆ<br><code>tty -s &amp;&amp; mesg n || true</code></p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h0v56otfr4j32yo1o04qr.jpg" alt="åŸç¥-é£åèŠ‚"></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linux</tag>
      
      <tag>ubuntu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Nginxè¯¦ç»†é…ç½®</title>
    <link href="/2022/03/17/vue-05/"/>
    <url>/2022/03/17/vue-05/</url>
    
    <content type="html"><![CDATA[<p>Nginxçš„é…ç½®è®°äº†å¿˜ï¼Œå¿˜äº†è®°ï¼Œè¿™ä¸œè¥¿ï¼Œä¸€èˆ¬å°±æ˜¯ä¸€å¥—é…ç½®ï¼Œåˆ°å¤„å¤åˆ¶ï¼Œç„¶åæ”¹æ”¹ï¼Œç»å¤§å¤šæ•°æ—¶å€™å¯¹äºæˆ‘ä»¬çš„è¦æ±‚å°±æ˜¯éœ€è¦çŸ¥é“æ”¹ä»€ä¹ˆåœ°æ–¹ï¼Œnginxç›¸å…³çš„åšå®¢ï¼Œæˆ‘å¥½åƒä¸æ­¢å†™äº†ä¸€æ¬¡ï¼Œç„¶è€Œå±å®ä¸æ€ä¹ˆå¸¸ç”¨ï¼Œå­¦å¾—å¿«ï¼Œå¿˜å¾—æ›´å¿«ï¼Œç„¶åå€Ÿè¿™æ¬¡å§ï¼Œé‡æ–°å†å†™ä¸€ä¸‹ã€‚nginxçš„é…ç½®éš¾ä»¥ç†è§£çš„åœ°æ–¹ã€‚å°±æ˜¯é…ç½®httpsï¼Œå…¶å®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¤æ‚çš„ã€‚</p><h2 id="æ•™ç¨‹å‡†å¤‡"><a href="#æ•™ç¨‹å‡†å¤‡" class="headerlink" title="æ•™ç¨‹å‡†å¤‡"></a>æ•™ç¨‹å‡†å¤‡</h2><h3 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h3><p>å¦‚æ—¥ä¸­å¤©çš„CenterOså€’äº†ï¼ˆåœæ­¢ç»´æŠ¤ï¼‰ã€‚äºæ˜¯æˆ‘å°±æ¢ä¸Šäº†Ubuntuã€‚</p><p>Linuxç³»ç»Ÿï¼šUbuntu20.x.x</p><h3 id="å®‰è£…æ–¹å¼"><a href="#å®‰è£…æ–¹å¼" class="headerlink" title="å®‰è£…æ–¹å¼"></a>å®‰è£…æ–¹å¼</h3><p>ä¸¤ç§å®‰è£…æ–¹å¼ï¼Œä½¿ç”¨å‘½ä»¤å¼çš„å®‰è£…æ˜¯æœ€ä¸ºç®€å•çš„ï¼Œä½†å—é™äºç½‘ç»œã€‚ä¸‹è½½æºç ç¼–è¯‘å®‰è£…æœ€ä¸ºé€šç”¨ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ç¹çã€‚</p><h4 id="APTï¼ˆè½¯ä»¶æºï¼‰å®‰è£…"><a href="#APTï¼ˆè½¯ä»¶æºï¼‰å®‰è£…" class="headerlink" title="APTï¼ˆè½¯ä»¶æºï¼‰å®‰è£…"></a>APTï¼ˆè½¯ä»¶æºï¼‰å®‰è£…</h4><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å®‰è£…ä¹‹å‰çš„å‡†å¤‡</span><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">curl</span> gnupg2 ca-certificates lsb-release ubuntu-keyring<span class="token comment"># å¯¼å…¥å®˜æ–¹çš„nginxç­¾åå¯†é’¥ï¼Œä»¥ä¾¿aptèƒ½å¤ŸéªŒè¯è½¯ä»¶åŒ…çš„çœŸå®æ€§</span><span class="token function">curl</span> https://nginx.org/keys/nginx_signing.key <span class="token operator">|</span> gpg <span class="token parameter variable">--dearmor</span> <span class="token punctuation">\</span>    <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /usr/share/keyrings/nginx-archive-keyring.gpg <span class="token operator">></span>/dev/null<span class="token comment"># éªŒè¯ä¸‹è½½çš„æ–‡ä»¶æ˜¯å¦åŒ…å«æ­£ç¡®çš„å¯†é’¥</span>gpg --dry-run <span class="token parameter variable">--quiet</span> <span class="token parameter variable">--import</span> --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg<span class="token comment"># è¾“å‡ºå³å¯</span>pub   rsa2048 <span class="token number">2011</span>-08-19 <span class="token punctuation">[</span>SC<span class="token punctuation">]</span> <span class="token punctuation">[</span>expires: <span class="token number">2024</span>-06-14<span class="token punctuation">]</span>      573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62uid                      nginx signing key <span class="token operator">&lt;</span>signing-key@nginx.com<span class="token operator">></span><span class="token comment"># æ›´æ–°</span><span class="token function">sudo</span> <span class="token function">apt</span> update<span class="token comment"># å®‰è£… æœ‰æç¤ºï¼Œy å›è½¦å³å¯</span><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> nginx<span class="token comment"># æµ‹è¯•æ˜¯å¦æˆåŠŸå®‰è£…, è¾“å‡ºç‰ˆæœ¬å·ï¼Œå³å®‰è£…å®Œæˆ</span>nginx <span class="token parameter variable">-v</span><span class="token comment"># æµ‹è¯•è®¿é—®</span><span class="token function">curl</span> https://localhost<span class="token comment"># è¾“å‡º</span><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html<span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span><span class="token operator">&lt;</span>title<span class="token operator">></span>Welcome to nginx<span class="token operator">!</span><span class="token operator">&lt;</span>/title<span class="token operator">></span><span class="token operator">&lt;</span>style<span class="token operator">></span>    body <span class="token punctuation">&#123;</span>        width: 35em<span class="token punctuation">;</span>        margin: <span class="token number">0</span> auto<span class="token punctuation">;</span>        font-family: Tahoma, Verdana, Arial, sans-serif<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token operator">&lt;</span>/style<span class="token operator">></span><span class="token operator">&lt;</span>/head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span><span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>></span>Welcome to nginx<span class="token operator">!</span><span class="token operator">&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>></span><span class="token operator">&lt;</span>p<span class="token operator">></span>If you see this page, the nginx web server is successfully installed andworking. Further configuration is required.<span class="token operator">&lt;</span>/p<span class="token operator">></span><span class="token operator">&lt;</span>p<span class="token operator">></span>For online documentation and support please refer to<span class="token operator">&lt;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"http://nginx.org/"</span><span class="token operator">></span>nginx.org<span class="token operator">&lt;</span>/a<span class="token operator">></span>.<span class="token operator">&lt;</span>br/<span class="token operator">></span>Commercial support is available at<span class="token operator">&lt;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"http://nginx.com/"</span><span class="token operator">></span>nginx.com<span class="token operator">&lt;</span>/a<span class="token operator">></span>.<span class="token operator">&lt;</span>/p<span class="token operator">></span><span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token operator">&lt;</span>em<span class="token operator">></span>Thank you <span class="token keyword">for</span> using nginx.<span class="token operator">&lt;</span>/em<span class="token operator">></span><span class="token operator">&lt;</span>/p<span class="token operator">></span><span class="token operator">&lt;</span>/body<span class="token operator">></span><span class="token operator">&lt;</span>/html<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æŒ‰ç…§ä¸Šé¢çš„æ“ä½œå¦‚æœå‡ºç°æœ€åçš„Htmlæ–‡æ¡£è¯´æ˜å·²ç»æ­£ç¡®å®‰è£…äº†ã€‚</p><h4 id="æºç å®‰è£…"><a href="#æºç å®‰è£…" class="headerlink" title="æºç å®‰è£…"></a>æºç å®‰è£…</h4><p>æ¯”è¾ƒé€šç”¨çš„ä¸€ç§å®‰è£…æ–¹æ³•ã€‚é¦–å…ˆä¸‹è½½å®‰è£…åŒ…ã€‚<a href="http://nginx.org/en/download.html">nginxä¸‹è½½</a>ï¼Œä¸‹è½½ç¨³å®šç‰ˆçš„å³å¯ã€‚æˆ‘è¿™é‡Œä¸‹è½½çš„æ˜¯<a href="http://nginx.org/download/nginx-1.20.2.tar.gz">nginx-1.20.2</a>ï¼Œç‚¹å‡»ä¸‹è½½åˆ°æœ¬åœ°ï¼Œä¸Šä¼ åˆ°ä½ çš„LinuxæœåŠ¡å™¨ä¸Šã€‚ä¸Šä¼ æ–¹æ³•ä¸é™ï¼Œå¼„åˆ°æœåŠ¡å™¨çš„æ–‡ä»¶å¤¹é‡Œå³å¯ã€‚</p><p>è¿›å…¥å­˜æ”¾tar.gzæ–‡ä»¶çš„ç›®å½•ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># è§£å‹æºç æ–‡ä»¶</span><span class="token function">tar</span> <span class="token parameter variable">-zxcf</span> nginx-1.20.2.tar.gz<span class="token comment"># è¿›å…¥è§£å‹åçš„æ–‡ä»¶ä¸­</span><span class="token builtin class-name">cd</span> nginx-1.20.2<span class="token comment"># åˆ›å»ºä¸€ä¸ªç¼“å­˜æ–‡ä»¶å¤¹</span><span class="token function">mkdir</span> /var/temp/nginx <span class="token parameter variable">-p</span><span class="token comment"># å®‰è£…ç”Ÿæˆå®‰è£…æ–‡ä»¶å‰çš„å¿…è¦ä¾èµ–ã€‚</span><span class="token comment"># ä¸å»ºè®®æ‰‹åŠ¨ç¼–è¯‘å®‰è£…å±å®æ˜¯å¤ªéº»çƒ¦äº†</span><span class="token function">apt</span> <span class="token function">install</span> build-essential libssl-dev libghc-zlib-dev libpcre3-dev<span class="token comment"># åœ¨nginxç›®å½•ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤è¿›è¡Œé…ç½®ï¼Œç›®çš„æ˜¯ä¸ºäº†åˆ›å»ºmakefileæ–‡ä»¶</span><span class="token comment"># æ³¨æ„ä¸€ä¸‹é…ç½®ä¸­çš„ç›®å½•å³å¯</span>./configure <span class="token punctuation">\</span><span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/nginx <span class="token punctuation">\</span>--pid-path<span class="token operator">=</span>/var/run/nginx/nginx.pid <span class="token punctuation">\</span>--lock-path<span class="token operator">=</span>/var/lock/nginx.lock <span class="token punctuation">\</span>--error-log-path<span class="token operator">=</span>/var/log/nginx/error.log <span class="token punctuation">\</span>--http-log-path<span class="token operator">=</span>/var/log/nginx/access.log <span class="token punctuation">\</span>--with-http_gzip_static_module <span class="token punctuation">\</span>--http-client-body-temp-path<span class="token operator">=</span>/var/temp/nginx/client <span class="token punctuation">\</span>--http-proxy-temp-path<span class="token operator">=</span>/var/temp/nginx/proxy <span class="token punctuation">\</span>--http-fastcgi-temp-path<span class="token operator">=</span>/var/temp/nginx/fastcgi <span class="token punctuation">\</span>--http-uwsgi-temp-path<span class="token operator">=</span>/var/temp/nginx/uwsgi <span class="token punctuation">\</span>--http-scgi-temp-path<span class="token operator">=</span>/var/temp/nginx/scgi  <span class="token punctuation">\</span>--with-http_ssl_module<span class="token comment"># å¦‚æœæŠ¥é”™å¦‚ä¸‹ï¼Œ</span>checking <span class="token keyword">for</span> OS + Linux <span class="token number">5.13</span>.0-37-generic x86_64checking <span class="token keyword">for</span> C compiler <span class="token punctuation">..</span>. not found./configure: error: C compiler cc is not found<span class="token comment"># è¯´æ˜ç¼ºå°‘ç¼–è¯‘ä¾èµ–ã€‚å†æ¬¡æ‰§è¡Œæ­¤å‘½ä»¤ã€‚</span><span class="token function">apt</span> <span class="token function">install</span> build-essential libssl-dev libghc-zlib-dev libpcre3-dev<span class="token comment"># ç”Ÿæˆå®‰è£…æ–‡ä»¶æˆåŠŸååº”è¯¥ä¼šè¾“å‡ºç±»ä¼¼ä¸‹é¢çš„å†…å®¹</span>  nginx path prefix: <span class="token string">"/usr/local/nginx"</span>  nginx binary file: <span class="token string">"/usr/local/nginx/sbin/nginx"</span>  nginx modules path: <span class="token string">"/usr/local/nginx/modules"</span>  nginx configuration prefix: <span class="token string">"/usr/local/nginx/conf"</span>  nginx configuration file: <span class="token string">"/usr/local/nginx/conf/nginx.conf"</span>  nginx pid file: <span class="token string">"/var/run/nginx/nginx.pid"</span>  nginx error log file: <span class="token string">"/var/log/nginx/error.log"</span>  nginx http access log file: <span class="token string">"/var/log/nginx/access.log"</span>  nginx http client request body temporary files: <span class="token string">"/var/temp/nginx/client"</span>  nginx http proxy temporary files: <span class="token string">"/var/temp/nginx/proxy"</span>  nginx http fastcgi temporary files: <span class="token string">"/var/temp/nginx/fastcgi"</span>  nginx http uwsgi temporary files: <span class="token string">"/var/temp/nginx/uwsgi"</span>  nginx http scgi temporary files: <span class="token string">"/var/temp/nginx/scgi"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><div class="note note-info">            <p>é…ç½®ç›¸å…³ä¿¡æ¯æ±‡æ€»ï¼Œçœ‹è¡¨æ ¼</p>          </div><table><thead><tr><th>å‘½ä»¤</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>â€“prefix</td><td>æŒ‡å®šnginxå®‰è£…ç›®å½•</td></tr><tr><td>â€“pid-path</td><td>æŒ‡å®šnginxçš„pid</td></tr><tr><td>â€“lock-path</td><td>é”å®šå®‰è£…æ–‡ä»¶ï¼Œé˜²æ­¢ç¯¡æ”¹</td></tr><tr><td>â€“error-log-path</td><td>é”™è¯¯æ—¥å¿—</td></tr><tr><td>â€“http-log-path</td><td>æ—¥å¿—</td></tr><tr><td>â€“http-log-path</td><td>æ—¥å¿—</td></tr><tr><td>â€“with-http_gzip_static_module</td><td>å¯ç”¨gzipæ¨¡å—ï¼Œåœ¨çº¿å®æ—¶å‹ç¼©è¾“å‡ºæ•°æ®æµ</td></tr><tr><td>â€“http-client-body-temp-path</td><td>è®¾å®šå®¢æˆ·ç«¯è¯·æ±‚ä¸´æ—¶ç›®å½•</td></tr><tr><td>â€“http-proxy-temp-path</td><td>è®¾å®šhttpä»£ç†ä¸´æ—¶ç›®å½•</td></tr><tr><td>â€“http-fastcgi-temp-path</td><td>è®¾å®šfastcgiä¸´æ—¶ç›®å½•</td></tr><tr><td>â€“http-uwsgi-temp-path</td><td>è®¾å®šuwsgiä¸´æ—¶ç›®å½•</td></tr><tr><td>â€“http-scgi-temp-path</td><td>è®¾å®šscgiä¸´æ—¶ç›®å½•</td></tr><tr><td>â€“with-http_ssl_module</td><td>å¯ç”¨Httpsæ¨¡å—</td></tr></tbody></table><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># makeç¼–è¯‘</span><span class="token function">make</span><span class="token comment"># å®‰è£…</span><span class="token function">make</span> <span class="token function">install</span><span class="token comment"># è¿›å…¥sbinç›®å½•å¯åŠ¨nginx</span><span class="token comment"># å¯åŠ¨ï¼š</span>./nginx<span class="token comment"># åœæ­¢ï¼š</span>./nginx <span class="token parameter variable">-s</span> stop<span class="token comment"># é‡æ–°åŠ è½½ï¼š</span>./nginx <span class="token parameter variable">-s</span> reload<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>åœ¨Ubuntuä¸Šnginxå®‰è£…çš„ä¸¤ç§æ–¹å¼éƒ½å·²ä»‹ç»å®Œæ¯•ï¼Œå¦‚æœä½ ç”¨çš„æ˜¯CentOs,é‚£å¾ˆå¯æƒœï¼Œæ•™ç¨‹å¹¶ä¸é€‚ç”¨ã€‚æˆ‘è¿™è¾¹å‘¢æ˜¯å»ºè®®ä½¿ç”¨apt,yumè¿™ç§å·¥å…·å»å®‰è£…nginxçš„ï¼Œä¼˜ç‚¹æœ‰å¾ˆå¤šã€‚</p><p>ç¬¬ä¸€ï¼šèŠ‚çœæœåŠ¡å™¨ç©ºé—´å› ä¸ºä¸éœ€è¦ç¼–è¯‘ç¯å¢ƒï¼Œç¬¬äºŒï¼ŒèŠ‚çœå¼€å‘è€…ç”Ÿå‘½ã€‚</p><h2 id="æµ…è¯´ä¸€ä¸‹APTå’ŒYumâ€¦ç­‰ç­‰ç±»ä¼¼å·¥å…·ç©¶ç«Ÿæ˜¯ä»€ä¹ˆä¸œè¥¿"><a href="#æµ…è¯´ä¸€ä¸‹APTå’ŒYumâ€¦ç­‰ç­‰ç±»ä¼¼å·¥å…·ç©¶ç«Ÿæ˜¯ä»€ä¹ˆä¸œè¥¿" class="headerlink" title="æµ…è¯´ä¸€ä¸‹APTå’ŒYumâ€¦ç­‰ç­‰ç±»ä¼¼å·¥å…·ç©¶ç«Ÿæ˜¯ä»€ä¹ˆä¸œè¥¿"></a>æµ…è¯´ä¸€ä¸‹APTå’ŒYumâ€¦ç­‰ç­‰ç±»ä¼¼å·¥å…·ç©¶ç«Ÿæ˜¯ä»€ä¹ˆä¸œè¥¿</h2><p>æˆ‘ä»¬åœ¨æœç´¢çš„æ—¶å€™ï¼Œæœ‰æ—¶ä¼šæœåˆ°ä¸€äº›apt-getå‘½ä»¤çš„æ“ä½œã€‚</p><div class="note note-info">            <p>ä½¿ç”¨aptï¼getçš„ä¸»æµLinuxç³»ç»ŸåŒ…æ‹¬Debianå’ŒUbuntuå˜å¼‚ç‰ˆæœ¬ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä»å‘½ä»¤è¡Œè¿è¡Œè¯¥å·¥å…·ã€‚æ¡Œé¢ä¸Šæœ‰å‡ ä¸ªå›¾å½¢å‰ç«¯å¯ä»¥ä½¿ç”¨ï¼ŒåŒ…æ‹¬Synaptic Package Managerã€Ubuntu Software Centerã€Aptitudeå’ŒKpackageã€‚<br>Raspberry Piå’ŒBeaglebone Black nanoLinuxç‰ˆç”¨æˆ·å¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ç”¨aptï¼getåŠ è½½ç¨‹åºï¼Œå› ä¸ºè¿™äº›ç³»ç»Ÿé€šå¸¸æ¥è‡ªUbuntuæˆ–Debianä»£ç ã€‚æ˜¯debianï¼Œubuntuå‘è¡Œç‰ˆçš„åŒ…ç®¡ç†å·¥å…·ï¼Œä¸çº¢å¸½ä¸­çš„ã€Œyumã€å·¥å…·éå¸¸ç±»ä¼¼ã€‚<br>aptï¼getå‘½ä»¤ä¸€èˆ¬éœ€è¦ã€Œrootæƒé™ã€æ‰§è¡Œï¼Œæ‰€ä»¥ä¸€èˆ¬è·Ÿç€sudoå‘½ä»¤ã€‚<br>apt å‘½ä»¤è¡Œå®ç”¨ç¨‹åºäº2014å¹´æ¨å‡ºç¬¬ä¸€ä¸ªç¨³å®šç‰ˆæœ¬ï¼Œç”¨äº Debian å‘è¡Œç‰ˆ ï¼deb è½¯ä»¶åŒ…å®‰è£…ã€‚å®ƒæœ€åˆåœ¨ä¸ç¨³å®šçš„Debianç‰ˆæœ¬ä¸­ä½¿ç”¨ï¼Œç„¶ååœ¨Debian 8ä¸­æˆä¸ºæ ‡å‡†ã€‚<br>åœ¨ Ubuntu 16ï¼04 å‘è¡Œåï¼Œapt å¼€å§‹æµè¡Œï¼Œå¹¶ä»¥æŸç§æ–¹å¼å–ä»£äº† aptï¼get ã€‚<br>éšç€ apt install package å‘½ä»¤çš„ä½¿ç”¨é¢‘ç‡å’Œæ™®éæ€§é€æ­¥è¶…è¿‡ aptï¼get install packageï¼Œè¶Šæ¥è¶Šå¤šçš„å…¶å®ƒ Linux å‘è¡Œç‰ˆä¹Ÿå¼€å§‹éµå¾ª Ubuntu çš„è„šæ­¥ï¼Œå¼€å§‹é¼“åŠ±ç”¨æˆ·ä½¿ç”¨ apt è€Œä¸æ˜¯ aptï¼getã€‚<br>å¤§å¤šæ•°äººä¸äº†è§£ apt å’Œ aptï¼get ä¹‹é—´çš„åŒºåˆ«ï¼Œå¹¶ä¸”ç»å¸¸åœ¨ä½¿ç”¨ä¸€ä¸ªæˆ–å¦ä¸€ä¸ªæ—¶æ„Ÿåˆ°å›°æƒ‘ã€‚<br>ä¸¤è€…éƒ½æ˜¯å¼€æºå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºç®¡ç†è½¯ä»¶åŒ…ï¼Œä¾‹å¦‚å®‰è£…ï¼Œæ›´æ–°ï¼Œå‡çº§å’Œåˆ é™¤ã€‚<br>ä½†æ˜¯ï¼Œå®ƒä»¬ä¹‹é—´ä»ç„¶å­˜åœ¨ä¸€äº›å·®å¼‚ã€‚</p>          </div><h3 id="apt"><a href="#apt" class="headerlink" title="apt"></a>apt</h3><div class="note note-info">            <p>aptï¼ˆAdvanced Packaging Toolï¼‰æ˜¯ä¸€ä¸ªåœ¨ Debian å’Œ Ubuntu ä¸­çš„ Shell å‰ç«¯è½¯ä»¶åŒ…ç®¡ç†å™¨ã€‚<br>apt å‘½ä»¤æä¾›äº†æŸ¥æ‰¾ã€å®‰è£…ã€å‡çº§ã€åˆ é™¤æŸä¸€ä¸ªã€ä¸€ç»„ç”šè‡³å…¨éƒ¨è½¯ä»¶åŒ…çš„å‘½ä»¤ï¼Œè€Œä¸”å‘½ä»¤ç®€æ´è€Œåˆå¥½è®°ã€‚<br>apt å‘½ä»¤æ‰§è¡Œéœ€è¦è¶…çº§ç®¡ç†å‘˜æƒé™(root)ã€‚</p>          </div><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@ubuntu:/usr/local/nginx/sbin<span class="token comment"># apt -h</span><span class="token function">apt</span> <span class="token number">2.0</span>.6 <span class="token punctuation">(</span>amd64<span class="token punctuation">)</span>ç”¨æ³•ï¼š <span class="token function">apt</span> <span class="token punctuation">[</span>é€‰é¡¹<span class="token punctuation">]</span> å‘½ä»¤å‘½ä»¤è¡Œè½¯ä»¶åŒ…ç®¡ç†å™¨ <span class="token function">apt</span> æä¾›è½¯ä»¶åŒ…æœç´¢ï¼Œç®¡ç†å’Œä¿¡æ¯æŸ¥è¯¢ç­‰åŠŸèƒ½ã€‚å®ƒæä¾›çš„åŠŸèƒ½ä¸å…¶ä»– APT å·¥å…·ç›¸åŒï¼ˆåƒ <span class="token function">apt-get</span> å’Œ apt-cacheï¼‰ï¼Œä½†æ˜¯é»˜è®¤æƒ…å†µä¸‹è¢«è®¾ç½®å¾—æ›´é€‚åˆäº¤äº’ã€‚å¸¸ç”¨å‘½ä»¤ï¼š  list - æ ¹æ®åç§°åˆ—å‡ºè½¯ä»¶åŒ…  search - æœç´¢è½¯ä»¶åŒ…æè¿°  show - æ˜¾ç¤ºè½¯ä»¶åŒ…ç»†èŠ‚  <span class="token function">install</span> - å®‰è£…è½¯ä»¶åŒ…  reinstall - é‡æ–°å®‰è£…è½¯ä»¶åŒ…  remove - ç§»é™¤è½¯ä»¶åŒ…  autoremove - å¸è½½æ‰€æœ‰è‡ªåŠ¨å®‰è£…ä¸”ä¸å†ä½¿ç”¨çš„è½¯ä»¶åŒ…  update - æ›´æ–°å¯ç”¨è½¯ä»¶åŒ…åˆ—è¡¨  upgrade - é€šè¿‡ å®‰è£…/å‡çº§ è½¯ä»¶æ¥æ›´æ–°ç³»ç»Ÿ  full-upgrade - é€šè¿‡ å¸è½½/å®‰è£…/å‡çº§ æ¥æ›´æ–°ç³»ç»Ÿ  edit-sources - ç¼–è¾‘è½¯ä»¶æºä¿¡æ¯æ–‡ä»¶  satisfy - ä½¿ç³»ç»Ÿæ»¡è¶³ä¾èµ–å…³ç³»å­—ç¬¦ä¸²å‚è§ apt<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> ä»¥è·å–æ›´å¤šå…³äºå¯ç”¨å‘½ä»¤çš„ä¿¡æ¯ã€‚ç¨‹åºé…ç½®é€‰é¡¹åŠè¯­æ³•éƒ½å·²ç»åœ¨ apt.conf<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> ä¸­é˜æ˜ã€‚æ¬²çŸ¥å¦‚ä½•é…ç½®è½¯ä»¶æºï¼Œè¯·å‚é˜… sources.list<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>ã€‚è½¯ä»¶åŒ…åŠå…¶ç‰ˆæœ¬åå¥½å¯ä»¥é€šè¿‡ apt_preferences<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> æ¥è®¾ç½®ã€‚å…³äºå®‰å…¨æ–¹é¢çš„ç»†èŠ‚å¯ä»¥å‚è€ƒ apt-secure<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>.                                         æœ¬ APT å…·æœ‰è¶…çº§ç‰›åŠ›ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="Yum"><a href="#Yum" class="headerlink" title="Yum"></a>Yum</h3><div class="note note-info">            <p>yumï¼ˆ Yellow dog Updater, Modifiedï¼‰æ˜¯ä¸€ä¸ªåœ¨ Fedora å’Œ RedHat ä»¥åŠ SUSE ä¸­çš„ Shell å‰ç«¯è½¯ä»¶åŒ…ç®¡ç†å™¨ã€‚ï¼ˆä¸€èˆ¬CentOSå°±ç”¨è¿™ä¸ªï¼‰<br>åŸºäº RPM åŒ…ç®¡ç†ï¼Œèƒ½å¤Ÿä»æŒ‡å®šçš„æœåŠ¡å™¨è‡ªåŠ¨ä¸‹è½½ RPM åŒ…å¹¶ä¸”å®‰è£…ï¼Œå¯ä»¥è‡ªåŠ¨å¤„ç†ä¾èµ–æ€§å…³ç³»ï¼Œå¹¶ä¸”ä¸€æ¬¡å®‰è£…æ‰€æœ‰ä¾èµ–çš„è½¯ä»¶åŒ…ï¼Œæ— é¡»ç¹çåœ°ä¸€æ¬¡æ¬¡ä¸‹è½½ã€å®‰è£…ã€‚<br>yum æä¾›äº†æŸ¥æ‰¾ã€å®‰è£…ã€åˆ é™¤æŸä¸€ä¸ªã€ä¸€ç»„ç”šè‡³å…¨éƒ¨è½¯ä»¶åŒ…çš„å‘½ä»¤ï¼Œè€Œä¸”å‘½ä»¤ç®€æ´è€Œåˆå¥½è®°ã€‚</p>          </div><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span>. åˆ—å‡ºæ‰€æœ‰å¯æ›´æ–°çš„è½¯ä»¶æ¸…å•å‘½ä»¤ï¼šyum check-update<span class="token number">2</span>. æ›´æ–°æ‰€æœ‰è½¯ä»¶å‘½ä»¤ï¼šyum update<span class="token number">3</span>. ä»…å®‰è£…æŒ‡å®šçš„è½¯ä»¶å‘½ä»¤ï¼šyum <span class="token function">install</span> <span class="token operator">&lt;</span>package_name<span class="token operator">></span><span class="token number">4</span>. ä»…æ›´æ–°æŒ‡å®šçš„è½¯ä»¶å‘½ä»¤ï¼šyum update <span class="token operator">&lt;</span>package_name<span class="token operator">></span><span class="token number">5</span>. åˆ—å‡ºæ‰€æœ‰å¯å®‰è£çš„è½¯ä»¶æ¸…å•å‘½ä»¤ï¼šyum list<span class="token number">6</span>. åˆ é™¤è½¯ä»¶åŒ…å‘½ä»¤ï¼šyum remove <span class="token operator">&lt;</span>package_name<span class="token operator">></span><span class="token number">7</span>. æŸ¥æ‰¾è½¯ä»¶åŒ…å‘½ä»¤ï¼šyum search <span class="token operator">&lt;</span>keyword<span class="token operator">></span><span class="token number">8</span>. æ¸…é™¤ç¼“å­˜å‘½ä»¤:yum clean packages: æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„è½¯ä»¶åŒ…yum clean headers: æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„ headersyum clean oldheaders: æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹æ—§çš„ headersyum clean, yum clean all <span class="token punctuation">(</span><span class="token operator">=</span> yum clean packages<span class="token punctuation">;</span> yum clean oldheaders<span class="token punctuation">)</span> :æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„è½¯ä»¶åŒ…åŠæ—§çš„ headers<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é»˜è®¤é…ç½®è§£è¯»"><a href="#é»˜è®¤é…ç½®è§£è¯»" class="headerlink" title="é»˜è®¤é…ç½®è§£è¯»"></a>é»˜è®¤é…ç½®è§£è¯»</h2><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># è¿è¡Œç”¨æˆ·ï¼Œä¸€èˆ¬è®¾ç½®æˆrootç”¨æˆ·å³å¯ï¼Œç™¾åº¦äº†ä¸€ä¸‹æ˜¯ç”¨æ¥æ§åˆ¶æƒé™çš„ã€‚æ ¹æ®Liunxç³»ç»Ÿçš„ç”¨æˆ·æ¥é…ç½®å³å¯ï¼Œè¯è¯´é€šè¿‡shellçª—å£æ¥æ“ä½œLinuxçš„ç”¨æˆ·çš„ç›¸å…³å‘½ä»¤ï¼Œåº”è¯¥ä¸å¸¸ç”¨ã€‚</span>user www-data<span class="token punctuation">;</span><span class="token comment"># å¯åŠ¨è¿›ç¨‹,é€šå¸¸è®¾ç½®æˆå’Œcpuçš„æ•°é‡ç›¸ç­‰ï¼Œauto è¡¨ç¤ºè‡ªåŠ¨</span>worker_processes auto<span class="token punctuation">;</span><span class="token comment"># å…¨å±€è¿è¡ŒPIDæ–‡ä»¶</span>pid /run/nginx.pid<span class="token punctuation">;</span><span class="token comment"># å¯¼å…¥æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰ä»¥.confç»“å°¾çš„é…ç½®æ–‡ä»¶ï¼Œä¸€èˆ¬æ˜¯ä¸€äº›æ¨¡å—çš„è®¾ç½®</span>include /etc/nginx/modules-enabled/*.conf<span class="token punctuation">;</span>events <span class="token punctuation">&#123;</span> <span class="token comment"># å•ä¸ªåå°worker processè¿›ç¨‹çš„æœ€å¤§å¹¶å‘é“¾æ¥æ•°</span> worker_connections <span class="token number">768</span><span class="token punctuation">;</span> <span class="token comment"># multi_accept on;</span><span class="token punctuation">&#125;</span><span class="token comment"># #è®¾å®šhttpæœåŠ¡å™¨ï¼Œåˆ©ç”¨å®ƒçš„åå‘ä»£ç†åŠŸèƒ½æä¾›è´Ÿè½½å‡è¡¡æ”¯æŒ</span>http <span class="token punctuation">&#123;</span> <span class="token comment">##</span> <span class="token comment"># åŸºæœ¬è®¾ç½®</span> <span class="token comment">##</span> <span class="token comment"># sendfile æŒ‡ä»¤æŒ‡å®š nginx æ˜¯å¦è°ƒç”¨ sendfile å‡½æ•°ï¼ˆzero copy æ–¹å¼ï¼‰æ¥è¾“å‡ºæ–‡ä»¶ï¼Œå¯¹äºæ™®é€šåº”ç”¨ï¼Œ</span> <span class="token comment"># å¿…é¡»è®¾ä¸º on,å¦‚æœç”¨æ¥è¿›è¡Œä¸‹è½½ç­‰åº”ç”¨ç£ç›˜IOé‡è´Ÿè½½åº”ç”¨ï¼Œå¯è®¾ç½®ä¸º offï¼Œä»¥å¹³è¡¡ç£ç›˜ä¸ç½‘ç»œI/Oå¤„ç†é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿçš„uptime.</span> sendfile on<span class="token punctuation">;</span> <span class="token comment"># sendfileä¸ºonæ—¶è¿™é‡Œä¹Ÿåº”è¯¥è®¾ä¸ºonï¼Œæ•°æ®åŒ…ä¼šç´¯ç§¯ä¸€ä¸‹å†ä¸€èµ·ä¼ è¾“ï¼Œå¯ä»¥æé«˜ä¸€äº›ä¼ è¾“æ•ˆç‡ã€‚</span> tcp_nopush on<span class="token punctuation">;</span> <span class="token comment"># å°çš„æ•°æ®åŒ…ä¸ç­‰å¾…ç›´æ¥ä¼ è¾“ã€‚é»˜è®¤ä¸ºonã€‚</span> <span class="token comment"># çœ‹ä¸Šå»æ˜¯å’Œtcp_nopushç›¸åçš„åŠŸèƒ½ï¼Œä½†æ˜¯ä¸¤è¾¹éƒ½ä¸ºonæ—¶nginxä¹Ÿå¯ä»¥å¹³è¡¡è¿™ä¸¤ä¸ªåŠŸèƒ½çš„ä½¿ç”¨ã€‚</span> tcp_nodelay on<span class="token punctuation">;</span> <span class="token comment"># è¿æ¥è¶…æ—¶æ—¶é—´</span> keepalive_timeout <span class="token number">65</span><span class="token punctuation">;</span> <span class="token comment"># types_hash_max_sizeå½±å“æ•£åˆ—è¡¨çš„å†²çªç‡ã€‚types_hash_max_sizeè¶Šå¤§ï¼Œå°±ä¼šæ¶ˆè€—æ›´å¤šçš„å†…å­˜ï¼Œä½†æ•£åˆ—keyçš„å†²çªç‡ä¼šé™ä½ï¼Œæ£€ç´¢é€Ÿåº¦å°±æ›´å¿«ã€‚types_hash_max_sizeè¶Šå°ï¼Œæ¶ˆè€—çš„å†…å­˜å°±è¶Šå°ï¼Œä½†æ•£åˆ—keyçš„å†²çªç‡å¯èƒ½ä¸Šå‡ã€‚é»˜è®¤ä¸º1024</span> types_hash_max_size <span class="token number">2048</span><span class="token punctuation">;</span> <span class="token comment"># server_tokens off;</span> <span class="token comment"># server_names_hash_bucket_size 64;</span> <span class="token comment"># server_name_in_redirect off;</span> <span class="token comment"># å®šä¹‰MIMEç±»å‹å’Œåç¼€åå…³è”çš„æ–‡ä»¶çš„ä½ç½®ã€‚</span> include /etc/nginx/mime.types<span class="token punctuation">;</span> <span class="token comment"># æŒ‡å®šmime.typesæ–‡ä»¶ä¸­æ²¡æœ‰è®°è¿°åˆ°çš„åç¼€åçš„å¤„ç†æ–¹æ³•ã€‚é»˜è®¤å€¼æ˜¯text/plainã€‚</span> default_type application/octet-stream<span class="token punctuation">;</span> <span class="token comment">##</span> <span class="token comment"># SSLè®¾ç½®</span> <span class="token comment">##</span> ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3<span class="token punctuation">;</span> <span class="token comment"># Dropping SSLv3, ref: POODLE</span> ssl_prefer_server_ciphers on<span class="token punctuation">;</span> <span class="token comment">##</span> <span class="token comment"># æ—¥å¿—è®°å½•è®¾ç½®</span> <span class="token comment">##</span> access_log /var/log/nginx/access.log<span class="token punctuation">;</span> error_log /var/log/nginx/error.log<span class="token punctuation">;</span> <span class="token comment">##</span> <span class="token comment"># Gzipè®¾ç½®</span> <span class="token comment">##</span> <span class="token comment">#å¼€å¯gzipå‹ç¼©</span> <span class="token function">gzip</span> on<span class="token punctuation">;</span> <span class="token comment"># gzip_vary on;</span> <span class="token comment"># gzip_proxied any;</span> <span class="token comment"># gzip_comp_level 6;</span> <span class="token comment"># gzip_buffers 16 8k;</span> <span class="token comment"># gzip_http_version 1.1;</span> <span class="token comment"># gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;</span> <span class="token comment">##</span> <span class="token comment"># è™šæ‹Ÿä¸»æœºé…ç½®</span> <span class="token comment">## </span> <span class="token comment"># é‡ç‚¹å°±åœ¨è¿™é‡Œï¼Œå› ä¸ºæˆ‘ä»¬æ­£å¸¸çœ‹è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œé‡Œé¢æ„Ÿè§‰æ˜¯æ²¡æœ‰ä¸œè¥¿çš„ã€‚ä½†æ˜¯æˆ‘ä»¬è®¿é—®http://localhostæ˜¯å¯ä»¥è®¿é—®çš„åˆ°çš„ã€‚</span>  <span class="token comment"># ä¸»è¦å°±æ˜¯ä¸‹é¢è¿™ä¸¤è¡Œ  sites-enabled è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹æœ‰ä¸ª default æ–‡ä»¶ã€‚å°±æ˜¯è¿™ä¸ªæ–‡ä»¶é‡Œé¢é…ç½®çš„ä¸œè¥¿ï¼Œconf.d è¿™ä¸ªæ–‡ä»¶å¤¹æ˜¯ç©ºæ–‡ä»¶å¤¹ï¼Œä¸çœ‹ã€‚</span> include /etc/nginx/conf.d/*.conf<span class="token punctuation">;</span> <span class="token comment"># å¯¼å…¥é»˜è®¤è®¾ç½®</span> include /etc/nginx/sites-enabled/*<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment"># mailæ¨¡å—ï¼Œç”¨çš„ä¸å¤š</span><span class="token comment">#mail &#123;</span><span class="token comment"># # See sample authentication script at:</span><span class="token comment"># # http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript</span><span class="token comment"># </span><span class="token comment"># # auth_http localhost/auth.php;</span><span class="token comment"># # pop3_capabilities "TOP" "USER";</span><span class="token comment"># # imap_capabilities "IMAP4rev1" "UIDPLUS";</span><span class="token comment"># </span><span class="token comment"># server &#123;</span><span class="token comment">#  listen     localhost:110;</span><span class="token comment">#  protocol   pop3;</span><span class="token comment">#  proxy      on;</span><span class="token comment"># &#125;</span><span class="token comment"># </span><span class="token comment"># server &#123;</span><span class="token comment">#  listen     localhost:143;</span><span class="token comment">#  protocol   imap;</span><span class="token comment">#  proxy      on;</span><span class="token comment"># &#125;</span><span class="token comment">#&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="Defaultæ–‡ä»¶"><a href="#Defaultæ–‡ä»¶" class="headerlink" title="Defaultæ–‡ä»¶"></a>Defaultæ–‡ä»¶</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">##</span><span class="token comment"># ä½ åº”è¯¥çœ‹çœ‹ä¸‹é¢çš„ç½‘å€ï¼Œä»¥ä¾¿æŒæ¡ä¸€ä¸ªåšå®çš„ç†è§£</span><span class="token comment"># ä¸ºäº†å……åˆ†å‘æŒ¥Nginxçš„å¨åŠ›ï¼Œéœ€è¦ä½¿ç”¨Nginxé…ç½®æ–‡ä»¶ã€‚</span><span class="token comment"># https://www.nginx.com/resources/wiki/start/</span><span class="token comment"># https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/</span><span class="token comment"># https://wiki.debian.org/Nginx/DirectoryStructure</span><span class="token comment">#</span><span class="token comment"># åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç®¡ç†å‘˜ä¼šä»å¯ç”¨/å’Œ</span><span class="token comment"># å°†å…¶ä¿ç•™ä¸ºç½‘ç«™å†…çš„å‚è€ƒï¼Œä»¥ä¾¿ç»§ç»­ä½¿ç”¨</span><span class="token comment"># ç”±nginxåŒ…è£…å›¢é˜Ÿæ›´æ–°ã€‚</span><span class="token comment">#</span><span class="token comment"># æ­¤æ–‡ä»¶å°†è‡ªåŠ¨åŠ è½½å…¶ä»–ç”¨æˆ·æä¾›çš„é…ç½®æ–‡ä»¶</span><span class="token comment"># åº”ç”¨ç¨‹åºï¼Œå¦‚Drupalæˆ–Wordpressã€‚è¿™äº›ç”³è¯·å°†è¢«æå‡º</span><span class="token comment"># åœ¨å…·æœ‰è¯¥åŒ…åç§°çš„è·¯å¾„ä¸‹å¯ç”¨ï¼Œä¾‹å¦‚/drupal8ã€‚</span><span class="token comment">#</span><span class="token comment"># è¯·å‚é˜…/usr/share/doc/nginx doc/examples/äº†è§£æ›´å¤šè¯¦ç»†ç¤ºä¾‹ã€‚</span><span class="token comment">##</span><span class="token comment"># é»˜è®¤æœåŠ¡é…ç½®</span><span class="token comment">#</span>server <span class="token punctuation">&#123;</span> <span class="token comment"># listenæŒ‡å®šç«¯å£å·ã€‚</span> listen <span class="token number">80</span> default_server<span class="token punctuation">;</span> listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80 default_server<span class="token punctuation">;</span> <span class="token comment"># SSLé…ç½®</span> <span class="token comment">#</span> <span class="token comment"># listen 443 ssl default_server;</span> <span class="token comment"># listen [::]:443 ssl default_server;</span> <span class="token comment">#</span> <span class="token comment"># æ³¨æ„ï¼šæ‚¨åº”è¯¥ä¸ºSSLé€šä¿¡ç¦ç”¨gzipã€‚</span> <span class="token comment"># See: https://bugs.debian.org/773332</span> <span class="token comment">#</span> <span class="token comment"># é˜…è¯»ssl_å¯†ç ä»¥ç¡®ä¿å®‰å…¨é…ç½®ã€‚</span> <span class="token comment"># See: https://bugs.debian.org/765782</span> <span class="token comment">#</span> <span class="token comment"># sslè¯ä¹¦åŒ…ç”Ÿæˆçš„è‡ªç­¾åè¯ä¹¦</span> <span class="token comment"># ä¸è¦åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸­ä½¿ç”¨å®ƒä»¬ï¼</span> <span class="token comment">#</span> <span class="token comment"># include snippets/snakeoil.conf;</span> <span class="token comment"># å®šä¹‰æœåŠ¡å™¨çš„é»˜è®¤ç½‘ç«™æ ¹ç›®å½•ä½ç½®ã€‚</span> root /var/www/html<span class="token punctuation">;</span> <span class="token comment"># æ·»åŠ é¦–é¡µã€‚å¦‚æœä½¿ç”¨phpï¼Œè¯·å°†phpæ·»åŠ åˆ°åˆ—è¡¨ä¸­</span> index index.html index.htm index.nginx-debian.html<span class="token punctuation">;</span> <span class="token comment"># æŒ‡å®šæœåŠ¡å™¨çš„åŸŸåã€‚è¿™ä¸ª_å’Œlocalhostçš„åŒºåˆ«æˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥š</span> server_name _<span class="token punctuation">;</span> location / <span class="token punctuation">&#123;</span>  <span class="token comment"># é¦–å…ˆå°è¯•å°†è¯·æ±‚ä½œä¸ºæ–‡ä»¶ï¼Œç„¶å</span>  <span class="token comment"># ä½œä¸ºç›®å½•ï¼Œç„¶åè¿”å›æ˜¾ç¤º404ã€‚</span>  try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ <span class="token operator">=</span><span class="token number">404</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token comment"># å°†PHPè„šæœ¬ä¼ é€’ç»™FastCGIæœåŠ¡å™¨</span> <span class="token comment">#</span> <span class="token comment">#location ~ \.php$ &#123;</span> <span class="token comment"># include snippets/fastcgi-php.conf;</span> <span class="token comment">#</span> <span class="token comment"># # ä½¿ç”¨php fpmï¼ˆæˆ–å…¶ä»–unixå¥—æ¥å­—ï¼‰:</span> <span class="token comment"># fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;</span> <span class="token comment"># # ä½¿ç”¨php cgiï¼ˆæˆ–å…¶ä»–tcpå¥—æ¥å­—ï¼‰:</span> <span class="token comment"># fastcgi_pass 127.0.0.1:9000;</span> <span class="token comment">#&#125;</span> <span class="token comment"># deny access to .htaccess files, if Apache's document root</span> <span class="token comment"># concurs with nginx's one</span> <span class="token comment"># æ‹’ç»è®¿é—®ã€‚htaccessæ–‡ä»¶ï¼Œå¦‚æœApacheçš„æ–‡æ¡£æ ¹</span> <span class="token comment"># åŒæ„nginxçš„è§‚ç‚¹</span> <span class="token comment">#</span> <span class="token comment">#location ~ /\.ht &#123;</span> <span class="token comment"># deny all;</span> <span class="token comment">#&#125;</span><span class="token punctuation">&#125;</span><span class="token comment"># Virtual Host configuration for example.com</span><span class="token comment"># ä¾‹å¦‚ï¼Œè™šæ‹Ÿä¸»æœºé…ç½®ã€‚example.com</span><span class="token comment">#</span><span class="token comment"># æ‚¨å¯ä»¥å°†å…¶ç§»åŠ¨åˆ°â€œå¯ç”¨ç«™ç‚¹â€ä¸‹çš„å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶å°†å…¶ç¬¦å·é“¾æ¥</span><span class="token comment"># åˆ°å·²å¯ç”¨çš„ç«™ç‚¹/ä»¥å¯ç”¨å®ƒã€‚</span><span class="token comment">#</span><span class="token comment">#server &#123;</span><span class="token comment"># listen 80;</span><span class="token comment"># listen [::]:80;</span><span class="token comment">#</span><span class="token comment"># server_name example.com;</span><span class="token comment">#</span><span class="token comment"># root /var/www/example.com;</span><span class="token comment"># index index.html;</span><span class="token comment">#</span><span class="token comment"># location / &#123;</span><span class="token comment">#  try_files $uri $uri/ =404;</span><span class="token comment"># &#125;</span><span class="token comment">#&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å­¦ä¹ ä¸€é€”ï¼Œæ¬²é€Ÿåˆ™ä¸è¾¾ï¼ŒçœŸçš„å½“ä½ å®Œå…¨å¼„æ‡‚è¿™äº›é…ç½®ä¸­çš„ç¬¦å·çš„æ„æ€ä¹‹åï¼Œä½ å†çœ‹è¿™äº›é…ç½®ä½ çš„æ„Ÿè§‰æ˜¯ä¸ä¸€æ ·çš„ã€‚å½“ç„¶æˆ‘ä¹Ÿæ˜¯åœ¨ä¸€ç‚¹ä¸€ç‚¹çš„å­¦ä¹ ï¼Œæˆ‘ç”šè‡³è£…äº†ä¸ªæœ‰å›¾å½¢åŒ–çš„Ubuntuè™šæ‹Ÿæœºï¼Œä¸ºäº†ç ”ç©¶nginx,è¿™ä¸ªé»˜è®¤ç”Ÿæˆçš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä¸€å¼€å§‹æ˜¯çœ‹ä¸æ‡‚çš„ï¼Œæˆ‘ä¹Ÿçœ‹äº†å¾ˆé•¿æ—¶é—´ã€‚ğŸ˜‚ğŸ˜‚ğŸ˜‚</p><h2 id="å®‰è£…nginxæ²¡æœ‰ç”Ÿæˆå„ç±»ç›®å½•æ–‡ä»¶é—®é¢˜è§£å†³"><a href="#å®‰è£…nginxæ²¡æœ‰ç”Ÿæˆå„ç±»ç›®å½•æ–‡ä»¶é—®é¢˜è§£å†³" class="headerlink" title="å®‰è£…nginxæ²¡æœ‰ç”Ÿæˆå„ç±»ç›®å½•æ–‡ä»¶é—®é¢˜è§£å†³"></a>å®‰è£…nginxæ²¡æœ‰ç”Ÿæˆå„ç±»ç›®å½•æ–‡ä»¶é—®é¢˜è§£å†³</h2><p>ç”±äºé€”ä¸­æˆ‘éœ€è¦æ‰‹åŠ¨å®‰è£…ä¸€æ¬¡ï¼Œæˆ‘å°±æŠŠä½¿ç”¨aptå®‰è£…çš„nginxç»™å¸è½½äº†ï¼Œå¹¶ä¸”æŠŠé…ç½®æ–‡ä»¶ç»™åˆ äº†ï¼Œæˆ‘å†æ¬¡ä½¿ç”¨aptå®‰è£…æ—¶ï¼Œå‘ç°ä¸é‡æ–°ç”Ÿæˆé»˜è®¤é…ç½®äº†ã€‚è§£å†³åŠæ³•ã€‚ä¾æ¬¡æ‰§è¡Œã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token parameter variable">--purge</span> remove nginx-common<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token parameter variable">--purge</span> remove nginx*<span class="token function">sudo</span> <span class="token function">apt-get</span> autoremove<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> nginx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¸¸ç”¨é…ç½®çš„ä»‹ç»ä»¥åŠæ ·ä¾‹"><a href="#å¸¸ç”¨é…ç½®çš„ä»‹ç»ä»¥åŠæ ·ä¾‹" class="headerlink" title="å¸¸ç”¨é…ç½®çš„ä»‹ç»ä»¥åŠæ ·ä¾‹"></a>å¸¸ç”¨é…ç½®çš„ä»‹ç»ä»¥åŠæ ·ä¾‹</h2><h3 id="ä¾¦å¬ç«¯å£"><a href="#ä¾¦å¬ç«¯å£" class="headerlink" title="ä¾¦å¬ç«¯å£"></a>ä¾¦å¬ç«¯å£</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server <span class="token punctuation">&#123;</span>  <span class="token comment"># Standard HTTP Protocol  </span>listen <span class="token number">80</span><span class="token punctuation">;</span>  <span class="token comment"># Standard HTTPS Protocol  </span>listen <span class="token number">443</span> ssl<span class="token punctuation">;</span>  <span class="token comment"># For http2  </span>listen <span class="token number">443</span> ssl http2<span class="token punctuation">;</span>  <span class="token comment"># Listen on 80 using IPv6  </span>listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80<span class="token punctuation">;</span>  <span class="token comment"># Listen only on using IPv6  </span>listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80 <span class="token assign-left variable">ipv6only</span><span class="token operator">=</span>on<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="è®¿é—®æ—¥å¿—"><a href="#è®¿é—®æ—¥å¿—" class="headerlink" title="è®¿é—®æ—¥å¿—"></a>è®¿é—®æ—¥å¿—</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server <span class="token punctuation">&#123;</span>  <span class="token comment"># Relative or full path to log file  </span>access_log /path/to/file.log<span class="token punctuation">;</span>  <span class="token comment"># Turn 'on' or 'off'    </span>access_log on<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="åŸŸå"><a href="#åŸŸå" class="headerlink" title="åŸŸå"></a>åŸŸå</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server <span class="token punctuation">&#123;</span>  <span class="token comment"># Listen to yourdomain.com  </span>server_name yourdomain.com<span class="token punctuation">;</span>  <span class="token comment"># Listen to multiple domains server_name yourdomain.com www.yourdomain.com;  </span><span class="token comment"># Listen to all domains  </span>server_name *.yourdomain.com<span class="token punctuation">;</span>  <span class="token comment"># Listen to all top-level domains  </span>server_name yourdomain.*<span class="token punctuation">;</span>  <span class="token comment"># Listen to unspecified Hostnames (Listens to IP address itself)  </span>server_name <span class="token string">""</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="é™æ€èµ„äº§"><a href="#é™æ€èµ„äº§" class="headerlink" title="é™æ€èµ„äº§"></a>é™æ€èµ„äº§</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server <span class="token punctuation">&#123;</span>  listen <span class="token number">80</span><span class="token punctuation">;</span>  server_name yourdomain.com<span class="token punctuation">;</span>  location / <span class="token punctuation">&#123;</span>  root /path/to/website<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server <span class="token punctuation">&#123;</span>  listen <span class="token number">80</span><span class="token punctuation">;</span>  server_name www.yourdomain.com<span class="token punctuation">;</span>  <span class="token builtin class-name">return</span> <span class="token number">301</span> http://yourdomain.com<span class="token variable">$request_uri</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  server <span class="token punctuation">&#123;</span>  listen <span class="token number">80</span><span class="token punctuation">;</span>  server_name www.yourdomain.com<span class="token punctuation">;</span>  location /redirect-url <span class="token punctuation">&#123;</span>  <span class="token builtin class-name">return</span> <span class="token number">301</span> http://otherdomain.com<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># []è¡¨ç¤ºéœ€è¦å¡«å†™ï¼Œ</span><span class="token comment"># nginxé»˜è®¤é‡‡ç”¨è½®è®­çš„æ–¹å¼è¿›è¡Œè´Ÿè½½å‡è¡¡</span>upstream <span class="token punctuation">[</span>proxyName<span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>    server <span class="token number">192.168</span>.1.173:8080<span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.174:8080<span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.175:8080<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment"># åŠ æƒè½®è¯¢å€¼è¶Šé«˜è®¿é—®é¢‘ç‡è¶Šé«˜</span>upstream <span class="token punctuation">[</span>proxyName<span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>    server <span class="token number">192.168</span>.1.173:8080 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.174:8080 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.175:8080 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">#  hashè´Ÿè½½å‡è¡¡</span>upstream <span class="token punctuation">[</span>proxyName<span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>    ip_hash    server <span class="token number">192.168</span>.1.173:8080<span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.174:8080<span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.175:8080<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment"># hashç®—æ³•å®é™…ä¸Šåªä¼šè®¡ç®— 192.168.1è¿™æ®µåšå“ˆå¸Œ</span><span class="token comment"># ä½¿ç”¨ip_hashçš„æ³¨æ„ç‚¹ï¼šä¸èƒ½æŠŠåå°æœåŠ¡å™¨ç›´æ¥ç§»é™¤ï¼Œåªèƒ½æ ‡è®°down.</span><span class="token comment"># url hashè´Ÿè½½å‡è¡¡</span>upstream <span class="token punctuation">[</span>proxyName<span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>    <span class="token builtin class-name">hash</span> <span class="token variable">$request_url</span><span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.173:8080<span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.174:8080<span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.175:8080<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment"># æœ€å°è¿æ¥è´Ÿè½½å‡è¡¡</span>upstream <span class="token punctuation">[</span>proxyName<span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>    least_conn<span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.173:8080<span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.174:8080<span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.175:8080<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h4 id="keepalived"><a href="#keepalived" class="headerlink" title="keepalived"></a>keepalived</h4><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">upstream <span class="token punctuation">[</span>proxyName<span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>    server <span class="token number">192.168</span>.1.173:8080 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.174:8080 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.175:8080 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>    keepalive <span class="token number">32</span><span class="token punctuation">;</span> <span class="token comment">#ä¿æŒçš„è¿æ¥æ•°</span><span class="token punctuation">&#125;</span>server <span class="token punctuation">&#123;</span>    listem  <span class="token number">80</span><span class="token punctuation">;</span>    server_name www.tomcats.com<span class="token punctuation">;</span>    location / <span class="token punctuation">&#123;</span>        proxy_pass http://tomcats<span class="token punctuation">;</span>        proxy_http_version <span class="token number">1.1</span><span class="token punctuation">;</span> <span class="token comment">#è¿æ¥çš„åè®®ç‰ˆæœ¬</span>        proxy_set_header Connection <span class="token string">""</span><span class="token punctuation">;</span> æ¸…ç©ºè¿æ¥è¯·æ±‚å¤´    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h4 id="æ§åˆ¶æµè§ˆå™¨ç¼“å­˜"><a href="#æ§åˆ¶æµè§ˆå™¨ç¼“å­˜" class="headerlink" title="æ§åˆ¶æµè§ˆå™¨ç¼“å­˜"></a>æ§åˆ¶æµè§ˆå™¨ç¼“å­˜</h4><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server <span class="token punctuation">&#123;</span>    listem  <span class="token number">80</span><span class="token punctuation">;</span>    server_name www.tomcats.com<span class="token punctuation">;</span>    location / <span class="token punctuation">&#123;</span>        proxy_pass http://tomcats<span class="token punctuation">;</span>               expires 10s<span class="token punctuation">;</span>  <span class="token comment">#æµè§ˆå™¨ç¼“å­˜10ç§’é’Ÿ</span>               <span class="token comment">#expires @22h30m  #åœ¨æ™šä¸Š10ç‚¹30çš„æ—¶å€™è¿‡æœŸ</span>               <span class="token comment">#expires -1h  #ç¼“å­˜åœ¨ä¸€å°æ—¶å‰æ—¶æ•ˆ</span>               <span class="token comment">#expires epoch  #ä¸è®¾ç½®ç¼“å­˜</span>               <span class="token comment">#expires off  #ç¼“å­˜å…³é—­ï¼Œæµè§ˆå™¨è‡ªå·±æ§åˆ¶ç¼“å­˜</span>               <span class="token comment">#expires max  #æœ€å¤§è¿‡æœŸæ—¶é—´</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h4 id="åå‘ä»£ç†ç¼“å­˜"><a href="#åå‘ä»£ç†ç¼“å­˜" class="headerlink" title="åå‘ä»£ç†ç¼“å­˜"></a>åå‘ä»£ç†ç¼“å­˜</h4><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">upstream <span class="token punctuation">[</span>proxyName<span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>    server <span class="token number">192.168</span>.1.173:8080 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.174:8080 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>    server <span class="token number">192.168</span>.1.175:8080 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">#proxy_cache_path è®¾ç½®ç¼“å­˜ä¿å­˜çš„ç›®å½•çš„ä½ç½®</span><span class="token comment">#keys_zoneè®¾ç½®å…±äº«å†…ä»¥åŠå ç”¨çš„ç©ºé—´å¤§å°</span><span class="token comment">#mas_size è®¾ç½®ç¼“å­˜æœ€å¤§ç©ºé—´</span><span class="token comment">#inactive ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Œé”™è¿‡æ­¤æ—¶é—´è‡ªåŠ¨æ¸…ç†</span><span class="token comment">#use_temp_path å…³é—­é›¶æ—¶ç›®å½•</span>proxy_cache_path /usr/local/nginx/upsteam_cache <span class="token assign-left variable">keys_zone</span><span class="token operator">=</span>mycache:5m <span class="token assign-left variable">max_size</span><span class="token operator">=</span>1g <span class="token assign-left variable">inactive</span><span class="token operator">=</span>8h <span class="token assign-left variable">use_temp_path</span><span class="token operator">=</span>off<span class="token punctuation">;</span>server <span class="token punctuation">&#123;</span>    listem  <span class="token number">80</span><span class="token punctuation">;</span>    server_name www.tomcats.com<span class="token punctuation">;</span>    <span class="token comment">#å¼€å¯å¹¶ä½¿ç”¨ç¼“å­˜</span>    proxy_cache mycache<span class="token punctuation">;</span>    <span class="token comment">#é’ˆå¯¹200å’Œ304å“åº”ç çš„ç¼“å­˜è¿‡æœŸæ—¶é—´</span>    proxy_cache_valid <span class="token number">200</span> <span class="token number">304</span> 8h<span class="token punctuation">;</span>       location / <span class="token punctuation">&#123;</span>        proxy_pass http://tomcats<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server <span class="token punctuation">&#123;</span>  listen <span class="token number">80</span><span class="token punctuation">;</span>  server_name yourdomain.com<span class="token punctuation">;</span>  location / <span class="token punctuation">&#123;</span>  proxy_pass http://0.0.0.0:3000<span class="token punctuation">;</span>  <span class="token comment"># where 0.0.0.0:3000 is your application server (Ex: node.js) bound on 0.0.0.0 listening on port 3000  </span><span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="SSL-åè®®"><a href="#SSL-åè®®" class="headerlink" title="SSL åè®®"></a>SSL åè®®</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server <span class="token punctuation">&#123;</span>  listen <span class="token number">443</span> ssl<span class="token punctuation">;</span>  server_name yourdomain.com<span class="token punctuation">;</span>  ssl on<span class="token punctuation">;</span>  ssl_certificate /path/to/cert.pem<span class="token punctuation">;</span>  ssl_certificate_key /path/to/privatekey.pem<span class="token punctuation">;</span>  ssl_stapling on<span class="token punctuation">;</span>  ssl_stapling_verify on<span class="token punctuation">;</span>  ssl_trusted_certificate /path/to/fullchain.pem<span class="token punctuation">;</span>  ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span>  ssl_session_timeout 1h<span class="token punctuation">;</span>  ssl_session_cache shared:SSL:50m<span class="token punctuation">;</span>  add_header Strict-Transport-Security max-age<span class="token operator">=</span><span class="token number">15768000</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment"># Permanent Redirect for HTTP to HTTPS  </span>server   <span class="token punctuation">&#123;</span>  listen <span class="token number">80</span><span class="token punctuation">;</span>  server_name yourdomain.com<span class="token punctuation">;</span>  <span class="token builtin class-name">return</span> <span class="token number">301</span> https://<span class="token variable">$host</span><span class="token variable">$request_uri</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><div class="note note-info">            <p>å…¶å®å¯ä»¥é‡‡ç”¨å¯è§†åŒ–çš„æ–¹å¼å¯¹ Nginx è¿›è¡Œé…ç½®ï¼Œæˆ‘åœ¨ GitHub ä¸Šå‘ç°äº†ä¸€æ¬¾å¯ä»¥ä¸€é”®ç”Ÿæˆ Nginx é…ç½®çš„ç¥å™¨ï¼Œç›¸å½“ç»™åŠ›ã€‚</p><p>å…ˆæ¥çœ‹çœ‹å®ƒéƒ½æ”¯æŒä»€ä¹ˆåŠŸèƒ½çš„é…ç½®ï¼šåå‘ä»£ç†ã€HTTPSã€HTTP&#x2F;2ã€IPv6, ç¼“å­˜ã€WordPressã€CDNã€Node.js æ”¯æŒã€ Python (Django) æœåŠ¡å™¨ç­‰ç­‰ã€‚</p><p>å¦‚æœä½ æƒ³åœ¨çº¿è¿›è¡Œé…ç½®ï¼Œåªéœ€è¦æ‰“å¼€ç½‘ç«™ï¼š<a href="https://nginxconfig.io/">https://nginxconfig.io/</a>ï¼ŒæŒ‰ç…§è‡ªå·±çš„éœ€æ±‚è¿›è¡Œæ“ä½œå°±è¡Œäº†ã€‚</p><p>æ“ä½œè¿™ä¸ªçš„å‰æï¼Œä¹Ÿæ˜¯éœ€è¦ä½ æ‡‚ï¼ï¼åˆ«äººçš„ç†æ‰€å½“ç„¶æ˜¯äº†å¦‚æŒ‡æŒåšåˆ°çš„ã€‚</p>          </div><h2 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h2><h3 id="ç®€å•çš„éƒ¨ç½²å‰åå°åˆ†ç¦»çš„é¡¹ç›®é…ç½®"><a href="#ç®€å•çš„éƒ¨ç½²å‰åå°åˆ†ç¦»çš„é¡¹ç›®é…ç½®" class="headerlink" title="ç®€å•çš„éƒ¨ç½²å‰åå°åˆ†ç¦»çš„é¡¹ç›®é…ç½®"></a>ç®€å•çš„éƒ¨ç½²å‰åå°åˆ†ç¦»çš„é¡¹ç›®é…ç½®</h3><p>éƒ¨ç½²å‰åå°åˆ†ç¦»çš„é¡¹ç›®ï¼Œéšä¾¿æ–°å»ºä¸ªhtmlé¡¹ç›®ï¼Œé‡Œé¢å†™ä¸€ä¸ªæŒ‰é’®ç”¨æ¥å‘é€Ajaxè¯·æ±‚ã€‚å¤šè¯´ä¸¤å¥ï¼Œwebpacké¡¹ç›®åªæ˜¯â€æ–¹ä¾¿â€œäº†å¼€å‘ï¼Œæœ€ç»ˆçš„äº§ç‰©ä¾ç„¶æ˜¯Htmlï¼ŒCssï¼ŒJavaScriptã€‚æˆ‘ä»¬å…ˆæ‰‹æ’¸ä¸€ä¸ªç®€å•çš„é¡¹ç›®å‰å°é¡¹ç›®ã€‚é¡¹ç›®è¦æ±‚å°±æ˜¯æœ‰ä¸ªé¡µé¢ï¼Œæœ‰ä¸ªæŒ‰é’®ã€‚ç‚¹å‡»èƒ½å‘é€Ajaxè¯·æ±‚ï¼Œä¸”èƒ½æŠŠè¯·æ±‚çš„è¿”å›å†…å®¹å›é¦ˆç»™ç”¨æˆ·ã€‚éœ€æ±‚æœ‰äº†ï¼Œideaæ‰“å¼€ï¼Œå¼€ç ï¼ï¼ï¼</p><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- è¿™é‡Œå¼•å…¥çš„JSæ”¾åœ¨nginxä¸­ä¹Ÿéœ€è¦å¯¹åº”æ ¹ç›®å½•å­˜æ”¾ä¸€ä¸ª --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js/jq/jquery-3.6.0.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">  <span class="token selector">.app</span> <span class="token punctuation">&#123;</span>   <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>   <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.red</span><span class="token punctuation">&#123;</span>   <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.green</span><span class="token punctuation">&#123;</span>   <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>è¯·ç‚¹å‡»æŒ‰é’®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>ç‚¹å‡»å‘é€è¯·æ±‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">   <span class="token keyword">let</span> <span class="token function-variable function">send</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>     <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'api/get'</span><span class="token punctuation">,</span>     <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>     <span class="token literal-property property">dataType</span><span class="token operator">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span>     <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#msg'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">'&lt;div id="msg" class="green">è¿”å›å†…å®¹ï¼š'</span><span class="token operator">+</span>res<span class="token punctuation">.</span>msg<span class="token operator">+</span><span class="token string">'&lt;div>'</span><span class="token punctuation">)</span>     <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>     <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">xhr<span class="token punctuation">,</span>status<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#msg'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">'&lt;div id="msg" class="red">è¯·æ±‚é”™è¯¯&lt;div>'</span><span class="token punctuation">)</span>     <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>   <span class="token punctuation">&#125;</span>  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ä»£ç å†™å¥½äº†ï¼Œéƒ¨ç½²ã€‚è¿™ä¸ªå¾ˆç®€å•å•Šï¼Œä½ è¦æ˜¯å›¾çœäº‹ï¼Œç›´æ¥è¦†ç›–é»˜è®¤é…ç½®æ–‡ä»¶å¤¹ä¸­çš„index.htmlå³å¯ï¼Œ</p><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h0s2ijjcdbj31z418gtm3.jpg" alt="å‰å°éƒ¨ç½²æˆåŠŸ"></p><p>å¾ˆå¿«å•Šï¼Œå‰å°é¡¹ç›®éƒ¨ç½²å¥½äº†ã€‚</p><p>è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦éƒ¨ç½²åç«¯é¡¹ç›®äº†ã€‚ideaæ‰“å¼€æ–°å»ºspringbooté¡¹ç›®ã€‚å¼€ç ï¼ï¼ï¼</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/* ç”¨æ¥è·å–ç«¯å£å·é¡¹ç›®è¿è¡Œçš„ç«¯å£å·ï¼Œåé¢æµ‹è¯•è´Ÿè½½å‡è¡¡æ—¶ç”¨åˆ° */</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigWeb</span> <span class="token keyword">implements</span> <span class="token class-name">ApplicationListener</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">WebServerInitializedEvent</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> serverPort<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">InetAddress</span> address <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            address <span class="token operator">=</span> <span class="token class-name">InetAddress</span><span class="token punctuation">.</span><span class="token function">getLocalHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">UnknownHostException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token string">"http://"</span><span class="token operator">+</span> address<span class="token punctuation">.</span><span class="token function">getHostAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">":"</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>serverPort<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onApplicationEvent</span><span class="token punctuation">(</span><span class="token class-name">WebServerInitializedEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>serverPort <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token function">getWebServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æ ¸å¿ƒä»£ç ï¼Œgetè¯·æ±‚è¿”å›é¡¹ç›®è¿è¡Œç«¯å£å·ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/api"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IndexController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">ConfigWeb</span> configWeb<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/get"</span><span class="token punctuation">)</span>    <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span><span class="token string">"æœåŠ¡ç«¯å£"</span><span class="token operator">+</span>configWeb<span class="token punctuation">.</span><span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æ ¸å¿ƒä»£ç å¦‚ä¸Šå›¾ã€‚</p><p>å¾ˆå¿«å•Šåç«¯ä¹Ÿä¸ï¼Œåç«¯å¿«ä¸èµ·æ¥ï¼Œéœ€è¦è£…Javaç¯å¢ƒã€‚ç¨ç­‰ï¼Œå¾ˆå¿«å•Šåç«¯ä¹Ÿéƒ¨ç½²å¥½äº†ã€‚åå°æœåŠ¡çš„ç«¯å£æ˜¯8081ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¾ˆè‡ªç„¶çš„æƒ³åˆ°äº†ï¼ŒæŠŠä¹‹å‰çš„Ajaxä¸­çš„è¯·æ±‚url<code>api/get</code>æ¢æˆ<code>http://localhost:8081/api/get</code>,è¿™æ ·å‰åå°åº”è¯¥å°±èƒ½è¿é€šäº†ã€‚äºæ˜¯æ”¹äº†ä¸€ä¸‹åˆ·æ–°é¡µé¢ï¼Œå†æ¬¡ç‚¹å‡»ï¼Œè¿˜æ˜¯ä¸è¡Œã€‚</p><p>æŠ¥é”™ä¿¡æ¯ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">å·²æ‹¦æˆªè·¨æºè¯·æ±‚ï¼šåŒæºç­–ç•¥ç¦æ­¢è¯»å–ä½äº http://localhost:8081/api/get çš„è¿œç¨‹èµ„æºã€‚ï¼ˆåŸå› ï¼šCORS å¤´ç¼ºå°‘ <span class="token string">'Access-Control-Allow-Origin'</span>ï¼‰ã€‚çŠ¶æ€ç ï¼š200ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>ç«ç‹æµè§ˆå™¨æ˜¯è¿™æ ·æç¤ºçš„ï¼Œåˆ«çš„æµè§ˆå™¨å¯èƒ½ä¼šæœ‰äº›è®¸çš„å·®åˆ«ï¼Œä½†ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬çš„å‰åå°å¹¶æ²¡æœ‰è¿é€šï¼ï¼<br>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦é…ç½®åå‘ä»£ç†äº†ï¼Œæ¥è§„é¿è·¨åŸŸçš„é”™è¯¯ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åœ¨é…ç½®æ–‡ä»¶çš„æ ¹ç›®å½•ä¸­å—ï¼Œupstream åé¢çš„å­—ç¬¦å¹¶ä¸æ˜¯æ ‡è¯†ç¬¦ï¼Œ</span><span class="token comment"># ä½ å¯ä»¥å†™åˆ«çš„å¦‚tomcat,æˆ‘è¿™é‡Œæ˜¯å†™æˆäº†nginxã€‚</span><span class="token comment"># è¿™ä¸ªå—é‡Œçš„serveræ˜¯å¯ä»¥æœ‰å¤šä¸ªçš„ã€‚è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„è´Ÿè½½å‡è¡¡ã€‚</span><span class="token comment"># ä½ é…ä¸€ä¸ªå°±ç”¨æ¥åšç®€å•çš„åå‘ä»£ç†å³å¯ã€‚é…å¤šä¸ªå°±æ˜¯è´Ÿè½½å‡è¡¡ã€‚ é»˜è®¤ä½¿ç”¨è½®è¯¢ï¼Œ</span>upstream nginx <span class="token punctuation">&#123;</span>    server localhost:8081<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment"># åœ¨serverå—ä¸­åŠ ä¸€ä¸ªlocationå—ã€‚`/api/`,è¡¨ç¤ºurlä¸­æœ‰`/api/`ï¼Œ</span><span class="token comment"># æ‰§è¡Œè¿™ä¸ªé€»è¾‘ï¼Œä¸”åˆ«çš„locationä¸åœ¨å¤„ç†è¿™ä¸ªurlè¯·æ±‚</span>location /api/ <span class="token punctuation">&#123;</span>  <span class="token comment"># è¿™é‡Œå°±æ˜¯åå‘ä»£ç†ï¼Œhttp://åé¢çš„å­—ç¬¦å¯¹åº”ä¸Šé¢upstreamå—åçš„å­—ç¬¦ã€‚</span> roxy_pass http://nginx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>åˆ°è¿™é‡Œé…ç½®ç»“æŸï¼Œé¡¹ç›®å°±æ˜¯å°±å¯ä»¥æ­£å¸¸å¯åŠ¨äº†ã€‚éœ€è¦å¼„è´Ÿè½½å‡è¡¡ï¼Œä½ å°±å¤šè·‘å‡ ä¸ªæœåŠ¡ï¼Œèƒ½è¿›è¡Œè´Ÿè½½å‡è¡¡çš„é¡¹ç›®ï¼Œå¯¹é¡¹ç›®æœ‰ä¸€ç‚¹ç‚¹è¦æ±‚ï¼Œè¦æ±‚é¡¹ç›®æœ¬èº«å¿…é¡»æ˜¯æ— çŠ¶æ€çš„ï¼Œä¸ç„¶çš„è¯å¯èƒ½ä¼šå½±å“åˆ°æ­£å¸¸ä½¿ç”¨ï¼Œæ¯”å¦‚å¦‚æœä½ è¿™ä¸ªé¡¹ç›®ä¸­æ˜¯åœ¨é¡¹ç›®é‡Œä¹Ÿå°±æ˜¯å†…å­˜é‡Œä¿å­˜çš„ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ï¼Œé‚£ä¹ˆä½ è´Ÿè½½å‡è¡¡æ—¶ï¼Œå°±ä¼šå‡ºé—®é¢˜ï¼Œå› ä¸ºè´Ÿè½½å‡è¡¡é»˜è®¤æ˜¯è½®è¯¢ï¼Œä½ å¯ä»¥ç†è§£æˆè¿™ä¸ªèŠ‚ç‚¹ï¼Œä½ ç™»é™†è¿‡ï¼Œä½ åˆ·æ–°ä¸€ä¸ªé¡µé¢ï¼Œç„¶åå°±è®¿é—®äº†æ–°çš„èŠ‚ç‚¹ï¼Œä½†æ˜¯ä½ çš„ç™»å½•ä¿¡æ¯æ˜¯ä¿å­˜åœ¨ä¸Šä¸€ä¸ªèŠ‚ç‚¹ä¸­çš„ï¼Œè¿™ä¸ªæ–°èŠ‚ç‚¹ï¼Œå¹¶æ²¡æœ‰ä¿å­˜ä½ çš„ç™»å½•ä¿¡æ¯ï¼Œä½ å°±éœ€è¦é‡æ–°ç™»å½•ã€‚è¿™å°±å½±å“åŠŸèƒ½äº†ã€‚æ‰€ä»¥è¿™ç§æƒ…å†µä¸€èˆ¬ä½¿ç”¨Redisæ¥ä¿å­˜ä¸€äº›çŠ¶æ€ä¿¡æ¯ã€‚å°±å¯ä»¥æƒ³è·‘å‡ ä¸ªé¡¹ç›®å°±è·‘å‡ ä¸ªé¡¹ç›®äº†ã€‚çŠ¶æ€ï¼Œè¿™ä¸ªæ¦‚å¿µå¯èƒ½éš¾ä»¥ç†è§£ï¼Œä½†æ˜¯ï¼Œå®˜æ–¹æ–‡æ¡£è‹±æ–‡å°±æ˜¯è¿™ä¸ªæ„æ€ï¼Œç†è§£äº†è‡ªç„¶ä¹Ÿå°±ç†è§£äº†ã€‚åŠ æ²¹ã€‚</p><p>å…¨éƒ¨é…ç½®æ–‡ä»¶<code>nginx.conf</code></p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">user www-data<span class="token punctuation">;</span>worker_processes auto<span class="token punctuation">;</span>pid /run/nginx.pid<span class="token punctuation">;</span>include /etc/nginx/modules-enabled/*.conf<span class="token punctuation">;</span>events <span class="token punctuation">&#123;</span> worker_connections <span class="token number">768</span><span class="token punctuation">;</span> <span class="token comment"># multi_accept on;</span><span class="token punctuation">&#125;</span>http <span class="token punctuation">&#123;</span> sendfile on<span class="token punctuation">;</span> tcp_nopush on<span class="token punctuation">;</span> tcp_nodelay on<span class="token punctuation">;</span> keepalive_timeout <span class="token number">65</span><span class="token punctuation">;</span> types_hash_max_size <span class="token number">2048</span><span class="token punctuation">;</span> include /etc/nginx/mime.types<span class="token punctuation">;</span> default_type application/octet-stream<span class="token punctuation">;</span> ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3<span class="token punctuation">;</span> <span class="token comment"># Dropping SSLv3, ref: POODLE</span> ssl_prefer_server_ciphers on<span class="token punctuation">;</span> access_log /var/log/nginx/access.log<span class="token punctuation">;</span> error_log /var/log/nginx/error.log<span class="token punctuation">;</span> <span class="token function">gzip</span> on<span class="token punctuation">;</span> include /etc/nginx/conf.d/*.conf<span class="token punctuation">;</span>   upstream nginx <span class="token punctuation">&#123;</span>    server localhost:8081<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  server <span class="token punctuation">&#123;</span>  listen <span class="token number">80</span> default_server<span class="token punctuation">;</span>  listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80 default_server<span class="token punctuation">;</span>  root /var/www/html<span class="token punctuation">;</span>  index index.html index.htm index.nginx-debian.html<span class="token punctuation">;</span>  server_name _<span class="token punctuation">;</span>  location /api/ <span class="token punctuation">&#123;</span>    proxy_pass http://nginx<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  location / <span class="token punctuation">&#123;</span>    try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ <span class="token operator">=</span><span class="token number">404</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="é…ç½®SSL"><a href="#é…ç½®SSL" class="headerlink" title="é…ç½®SSL"></a>é…ç½®SSL</h3><h4 id="ä½¿ç”¨opensslç”Ÿæˆè¯ä¹¦"><a href="#ä½¿ç”¨opensslç”Ÿæˆè¯ä¹¦" class="headerlink" title="ä½¿ç”¨opensslç”Ÿæˆè¯ä¹¦"></a>ä½¿ç”¨opensslç”Ÿæˆè¯ä¹¦</h4><p>opensslæ˜¯ç›®å‰æœ€æµè¡Œçš„SSLå¯†ç åº“å·¥å…·ï¼Œå…¶æä¾›äº†ä¸€ä¸ªé€šç”¨ã€å¥å£®ã€åŠŸèƒ½å®Œå¤‡çš„å·¥å…·å¥—ä»¶ï¼Œç”¨ä»¥æ”¯æŒSSL&#x2F;TLSåè®®çš„å®ç°ã€‚</p><p>æ¯”å¦‚ç”Ÿæˆåˆ°ï¼š<code>/usr/local/ssl</code></p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">openssl req <span class="token parameter variable">-x509</span> <span class="token parameter variable">-nodes</span> <span class="token parameter variable">-days</span> <span class="token number">36500</span> <span class="token parameter variable">-newkey</span> rsa:2048 <span class="token parameter variable">-keyout</span> /usr/local/ssl/nginx.key <span class="token parameter variable">-out</span> /usr/local/ssl/nginx.crt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>ç”Ÿæˆå¥½äº†ï¼Œä¸€èˆ¬æˆ‘ä»¬ç›´æ¥å¼ºåˆ¶httpsï¼Œåªéœ€è¦é…ç½®ä¸€ä¸ªé‡å®šå‘å³å¯ã€‚</p><p>å®Œæ•´çš„é…ç½®nginx.conf</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">user www-data<span class="token punctuation">;</span>worker_processes auto<span class="token punctuation">;</span>pid /run/nginx.pid<span class="token punctuation">;</span>include /etc/nginx/modules-enabled/*.conf<span class="token punctuation">;</span>events <span class="token punctuation">&#123;</span> worker_connections <span class="token number">768</span><span class="token punctuation">;</span> <span class="token comment"># multi_accept on;</span><span class="token punctuation">&#125;</span>http <span class="token punctuation">&#123;</span> sendfile on<span class="token punctuation">;</span> tcp_nopush on<span class="token punctuation">;</span> tcp_nodelay on<span class="token punctuation">;</span> keepalive_timeout <span class="token number">65</span><span class="token punctuation">;</span> types_hash_max_size <span class="token number">2048</span><span class="token punctuation">;</span> include /etc/nginx/mime.types<span class="token punctuation">;</span> default_type application/octet-stream<span class="token punctuation">;</span> ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3<span class="token punctuation">;</span> <span class="token comment"># Dropping SSLv3, ref: POODLE</span> ssl_prefer_server_ciphers on<span class="token punctuation">;</span> access_log /var/log/nginx/access.log<span class="token punctuation">;</span> error_log /var/log/nginx/error.log<span class="token punctuation">;</span> <span class="token function">gzip</span> on<span class="token punctuation">;</span> include /etc/nginx/conf.d/*.conf<span class="token punctuation">;</span> <span class="token comment"># è¿™é‡Œæ˜¯è´Ÿè½½å‡è¡¡ã€‚è¯·æ±‚åç«¯æ—¶å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚é»˜è®¤è´Ÿè½½å‡è¡¡æ˜¯è½®è¯¢ï¼Œå°±æ˜¯ä¸€ä¸ªä¸€ä¸ªæŒ‰é¡ºåºæ¥</span>upstream nginx <span class="token punctuation">&#123;</span>    <span class="token comment"># ç”Ÿäº§ä¸Šè¿™é‡Œä¸€èˆ¬é…ç½®åŸŸåæˆ–è€…ipåœ°å€</span>    server localhost:8081<span class="token punctuation">;</span>    server localhost:8082<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment"># HTTP redirect</span>server <span class="token punctuation">&#123;</span>    listen      <span class="token number">80</span><span class="token punctuation">;</span>    listen      <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80<span class="token punctuation">;</span>    <span class="token comment"># ç”Ÿäº§ä¸Šè¿™é‡Œä¸€èˆ¬é…ç½®åŸŸå</span>    server_name localhost<span class="token punctuation">;</span>    <span class="token comment"># httpå¼ºåˆ¶è·³è½¬httpsï¼Œå¯ä»¥ç†è§£ä¸ºå¼ºåˆ¶https</span>    <span class="token builtin class-name">return</span>  <span class="token number">301</span> https://localhost<span class="token variable">$request_uri</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>server <span class="token punctuation">&#123;</span> listen              <span class="token number">443</span> ssl http2<span class="token punctuation">;</span> listen              <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:443 ssl http2<span class="token punctuation">;</span> server_name         localhost<span class="token punctuation">;</span> <span class="token comment"># SSL è¿™é‡Œç”Ÿäº§ä¸Šéœ€è¦æ¢æˆç”Ÿäº§ä¸Šçš„è¯ä¹¦ä½ç½®å³å¯ã€‚è‡ªå·±ç”Ÿæˆçš„è¯ä¹¦æµè§ˆå™¨å¹¶ä¸è®¤å¯ã€‚</span> ssl_certificate     /usr/local/ssl/nginx.crt<span class="token punctuation">;</span> ssl_certificate_key /usr/local/ssl/nginx.key<span class="token punctuation">;</span> root /var/www/html<span class="token punctuation">;</span> <span class="token comment"># é¦–é¡µè®¾ç½®</span> index index.html index.htm index.nginx-debian.html<span class="token punctuation">;</span> location /api/ <span class="token punctuation">&#123;</span>  <span class="token comment">#  è¯·æ±‚åç«¯æœåŠ¡ï¼Œè¿™é‡Œè®¿é—®çš„æ˜¯é…ç½®çš„è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ã€‚</span>  proxy_pass http://nginx<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> location / <span class="token punctuation">&#123;</span>  <span class="token comment"># å¦‚æœéƒ¨ç½²çš„æ˜¯Vueç­‰é¡¹ç›®ï¼Œè¿™é‡Œå¯èƒ½éœ€è¦æ”¹åŠ¨ï¼Œ</span>  <span class="token comment"># å¦‚æœé¡¹ç›®urlä¸­æœ‰#è¿™ä¸ªçš„ï¼Œé‚£å°±ä¸è¦åŠ¨ï¼Œå¦‚æœæ²¡æœ‰#çš„ï¼Œé‚£å°±éœ€è¦æ”¹åŠ¨ã€‚</span>  try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ <span class="token operator">=</span><span class="token number">404</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å¸¸ç”¨çš„ä¸€èˆ¬æ˜¯åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡ã€‚å…³äºè´Ÿè½½å‡è¡¡çš„åœ°æ–¹å¯ä»¥å¤šçœ‹çœ‹ï¼Œå¦‚æœè´Ÿè½½å‡è¡¡ä¸­ä¸€ä¸ªæœåŠ¡æŒ‚äº†çš„æƒ…å†µï¼Œä¼šæ˜¯æ€ä¹ˆä¸ªå¤„ç†æƒ…å†µï¼Œä¸åŒçš„è´Ÿè½½å‡è¡¡æ¨¡å¼ä¸‹ï¼Œåˆæœ‰ä»€ä¹ˆä¸åŒã€‚ç­‰ç­‰ï¼Œéƒ½æ˜¯éœ€è¦æ€è€ƒçš„ã€‚</p><p>æœ€ååº”è¯¥æ˜¯å…³äºNgixnçš„é«˜å¯ç”¨ï¼Œä½œä¸ºé™æ€æœåŠ¡å™¨æ—¶ï¼ŒNginxçš„æ€§èƒ½åº”è¯¥å¤Ÿç”¨ï¼Œåå‘ä»£ç†æ—¶ï¼Œæˆ‘ä»¬ä¸»è¦è€ƒè™‘çš„åº”è¯¥æ˜¯åå‘ä»£ç†ç›®æ ‡æœåŠ¡å™¨çš„ç¨³å®šã€‚æ‰€ä»¥å°±æš‚ä¸”ä¸ç ”ç©¶Ngixnçš„é«˜å¯ç”¨ï¼Œä¸€èˆ¬ä¸»å¤‡åŒæœºä¹‹ç±»çš„ï¼ŒçœŸåˆ°Nginxæ‰›ä¸ä½çš„é‚£æ—¶å€™ï¼Œé¦–å…ˆåº”è¯¥è€ƒè™‘çš„æ˜¯æ¶æ„çš„é—®é¢˜äº†ã€‚å¾—ä¸Šå¾®æœåŠ¡äº†ã€‚</p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h0v3nbhzz0j32yo1o0u0y.jpg" alt="åŸç¥å’Œç…¦å¸Œæœ›ä¹‹é£"></p>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linux</tag>
      
      <tag>nginx</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ¨æ€æ•°æ®æºï¼Œå¤šæ•°æ®æºï¼Œè¯»å†™åˆ†ç¦»</title>
    <link href="/2022/03/11/java-11/"/>
    <url>/2022/03/11/java-11/</url>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨springbootç»™ä½ å¸¦æ¥å¤šå¤§ä¾¿åˆ©ï¼Œä½ å°±è¦æ¥å—æ–¹ä¾¿ä½¿ç”¨å¸¦æ¥çš„ç›¸åº”çš„å¤æ‚åº¦ã€‚ç›´çº¿æ­£å¸¸è·‘è°ä¸ä¼šç»™æ²¹å•Šï¼Œå¼¯é“å¿«ï¼Œæ‰æ˜¯çœŸçš„å¿«ã€‚è¯´ä¸€è¯´ï¼Œæ•°æ®æºï¼Œå°±æ˜¯ä¸ªDataSourceï¼Œå¤šæ•°æ®æºå°±æ˜¯å¤šä¸ªDataSourceï¼Œè¯»å†™åˆ†ç¦»ï¼Œå°±æ˜¯è¯»ç”¨ä¸€ä¸ªæ•°æ®æºï¼Œå†™å…¥ä¸€ä¸ªæ•°æ®æºã€‚ä¸€èˆ¬å¢åˆ æ”¹ä½¿ç”¨ä¸»åº“ï¼ŒæŸ¥ä½¿ç”¨ä»åº“ã€‚é…ç½®æ•°æ®åº“ä¸»ä»å¤åˆ¶ã€‚</p><p>åœ¨springbootä¸­å¯¹æ•°æ®æºæ€ä¹ˆæ“ä½œå˜ã€‚è¯´æ€è·¯ï¼Œspringbootä¸­çš„è‡ªåŠ¨é…ç½®ç”¨çš„å¾ˆèˆ’æœï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯æŠŠspringbootè¿™ä¸ªæˆ‘ä»¬ç”¨çš„å¾ˆèˆ’æœçš„è‡ªåŠ¨é…ç½®ç»™å»æ‰ã€‚è¿™ä¸ªè‡ªåŠ¨é…ç½®ä¼šå¾€è¿è¡Œç¯å¢ƒé‡Œæ·»åŠ ä¸€ä¸ªé»˜è®¤çš„æ•°æ®æºã€‚è¿™ä¸ªè‡ªåŠ¨é…ç½®è¿™å—ä¸œè¥¿ä¸å°‘ï¼Œå„ç§èŠ±é‡Œèƒ¡å“¨çš„æ³¨è§£ï¼Œæˆ‘è§éƒ½æ˜¯ç¬¬ä¸€æ¬¡è§ï¼Œä½ è®©æˆ‘çŸ¥é“å®ƒçš„ä½œç”¨ï¼Œæ˜¯æœ‰ä¸€ç‚¹æ‰¯çš„ã€‚å®³ï¼Œæ²¡æœ‰å¼€å‘springbooot-staterçš„ç»éªŒï¼Œä¸å®œå¤šè¯´ã€‚</p><h2 id="æ‰‹åŠ¨æ³¨å…¥æ•°æ®æº"><a href="#æ‰‹åŠ¨æ³¨å…¥æ•°æ®æº" class="headerlink" title="æ‰‹åŠ¨æ³¨å…¥æ•°æ®æº"></a>æ‰‹åŠ¨æ³¨å…¥æ•°æ®æº</h2><h3 id="ä»¥å‰çš„XMLå†™æ³•"><a href="#ä»¥å‰çš„XMLå†™æ³•" class="headerlink" title="ä»¥å‰çš„XMLå†™æ³•"></a>ä»¥å‰çš„XMLå†™æ³•</h3><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!--2. é…ç½®æ•°æ®æº--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.alibaba.druid.pool.DruidDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>driverClassName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.driver&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.url&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.username&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.password&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="JavaConfigå†™æ³•"><a href="#JavaConfigå†™æ³•" class="headerlink" title="JavaConfigå†™æ³•"></a>JavaConfigå†™æ³•</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DataContext</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">HikariDataSource</span> dataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HikariDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dataSource<span class="token punctuation">.</span><span class="token function">setJdbcUrl</span><span class="token punctuation">(</span><span class="token string">"xxxx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dataSource<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"xxxx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dataSource<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"xxxx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> dataSource<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>springbootç›¸å½“äºæ˜¯é›†JavaConfigäºå¤§æˆè€…ï¼Œspringbootçš„staterï¼Œå¤§å¤šæ•°å°±æ˜¯é…ç½®ä¸Šé¢çš„å†…å®¹ï¼Œä½¿ç”¨springbootçš„è§„èŒƒå°±èƒ½åœ¨å¯åŠ¨çš„æ—¶å€™åŠ è½½é…ç½®ç±»ã€‚ä¸€èˆ¬æ‰‹åŠ¨æ³¨å…¥æ•°æ®æºï¼Œéœ€è¦å…ˆæŠŠspringbootè‡ªåŠ¨åŠ è½½çš„é…ç½®ç±»ç»™æ’é™¤æ‰ï¼Œæ”¹ä¸€ä¸‹å¯åŠ¨ç±»çš„æ³¨è§£<code>@SpringBootApplication(exclude = &#123;DataSourceAutoConfiguration.class&#125;)</code> æ”¹æˆè¿™æ ·å°±å¯ä»¥ï¼Œä¸ºä»€ä¹ˆæˆ‘è¦æ‹¿å‡ºæ¥è¯´å‘¢ï¼Œå› ä¸ºåœ¨ä¸‹é¢å®ç°åŠ¨æ€æ•°æ®æºçš„æ—¶å€™ä¹Ÿæ˜¯éœ€è¦æ’é™¤è¿™ä¸ªçš„ã€‚</p><h2 id="åŠ¨æ€æ•°æ®æº"><a href="#åŠ¨æ€æ•°æ®æº" class="headerlink" title="åŠ¨æ€æ•°æ®æº"></a>åŠ¨æ€æ•°æ®æº</h2><p>æµ…èŠä¸€ä¸‹ï¼ŒåŠ¨æ€æ•°æ®æºæ˜¯å¯¹æ•°æ®æºçš„é«˜çº§æ“ä½œï¼Œæ‰€ä»¥å°±ä¸è¦æœ‰è¿™æ ·çš„ç–‘é—®ï¼ŒåŠ¨æ€æ•°æ®æºèƒ½ä¸èƒ½åšåˆ°è¯»å†™åˆ†ç¦»ï¼Œèƒ½ä¸èƒ½å¤šæ•°æ®æºè¿™æ ·çš„é—®é¢˜ã€‚è¿™ç§é—®é¢˜å°±å’ŒçŸ¥ä¹ä¸Šçš„æé—®ï¼šè¯·é—®æˆ‘æ‹¿äº†è¯ºå¥–åå¯ä¸å¯ä»¥ä¿ç ”ï¼Ÿ</p><h3 id="å¼•å…¥ä¾èµ–"><a href="#å¼•å…¥ä¾èµ–" class="headerlink" title="å¼•å…¥ä¾èµ–"></a>å¼•å…¥ä¾èµ–</h3><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.baomidou<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>dynamic-datasource-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;dynamic.verion&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- mavenå®˜ç½‘ä¸Šç”¨æœ€æ–°çš„ç‰ˆæœ¬å³å¯ --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ymlé…ç½®"><a href="#ymlé…ç½®" class="headerlink" title="ymlé…ç½®"></a>ymlé…ç½®</h3><figure><div class="code-wrapper"><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token comment"># æ•°æ®æºé…ç½®</span>  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>    <span class="token comment"># åŠ¨æ€æ•°æ®æºé…ç½®</span>    <span class="token key atrule">dynamic</span><span class="token punctuation">:</span>      <span class="token comment"># è®¾ç½®é»˜è®¤çš„åº“,é»˜è®¤master</span>      <span class="token key atrule">primary</span><span class="token punctuation">:</span> master      <span class="token comment"># æ˜¯å¦å¯ç”¨ä¸¥æ ¼æ¨¡å¼,é»˜è®¤ä¸å¯åŠ¨. ä¸¥æ ¼æ¨¡å¼ä¸‹æœªåŒ¹é…åˆ°æ•°æ®æºç›´æ¥æŠ¥é”™, éä¸¥æ ¼æ¨¡å¼ä¸‹åˆ™ä½¿ç”¨é»˜è®¤æ•°æ®æºprimaryæ‰€è®¾ç½®çš„æ•°æ®æº</span>      <span class="token key atrule">strict</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>      <span class="token comment"># æ˜¯å¦ä½¿ç”¨p6spyè¾“å‡ºï¼Œé»˜è®¤ä¸è¾“å‡º</span>      <span class="token key atrule">p6spy</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>      <span class="token comment"># æ•°æ®æºåˆ—è¡¨</span>      <span class="token key atrule">datasource</span><span class="token punctuation">:</span>        <span class="token comment"># ä¸»åº“</span>        <span class="token key atrule">master</span><span class="token punctuation">:</span>          <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>3306/xxxx          <span class="token key atrule">username</span><span class="token punctuation">:</span> root          <span class="token key atrule">password</span><span class="token punctuation">:</span> root        <span class="token comment"># ä»åº“1</span>        <span class="token key atrule">second1</span><span class="token punctuation">:</span>          <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>3306/xxxx          <span class="token key atrule">username</span><span class="token punctuation">:</span> root          <span class="token key atrule">password</span><span class="token punctuation">:</span> root        <span class="token comment"># ä»åº“2</span>        <span class="token key atrule">second2</span><span class="token punctuation">:</span>          <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>3306/xxxx          <span class="token key atrule">username</span><span class="token punctuation">:</span> root          <span class="token key atrule">password</span><span class="token punctuation">:</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ä½¿ç”¨-DSåˆ‡æ¢æ•°æ®æº"><a href="#ä½¿ç”¨-DSåˆ‡æ¢æ•°æ®æº" class="headerlink" title="ä½¿ç”¨@DSåˆ‡æ¢æ•°æ®æº"></a>ä½¿ç”¨<code>@DS</code>åˆ‡æ¢æ•°æ®æº</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NameServer</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token class-name">JdbcTemplate</span> jdbcTemplate<span class="token punctuation">;</span>    <span class="token annotation punctuation">@DS</span><span class="token punctuation">(</span><span class="token class-name">ConstSource</span><span class="token punctuation">.</span><span class="token constant">SECOND2</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span><span class="token punctuation">></span></span> maps <span class="token operator">=</span> jdbcTemplate<span class="token punctuation">.</span><span class="token function">queryForList</span><span class="token punctuation">(</span><span class="token string">"select name from wlf"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> maps<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">""</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// è¿™é‡Œä¸€èˆ¬å¯¹åº”é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®æºæ–°å»ºå¸¸é‡ã€‚</span><span class="token comment">/** * æ•°æ®æºå¸¸é‡ */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConstSource</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">MASTER</span> <span class="token operator">=</span> <span class="token string">"master"</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">SECOND1</span> <span class="token operator">=</span> <span class="token string">"second1"</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">SECOND2</span> <span class="token operator">=</span> <span class="token string">"second2"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><code>@DS</code> å¯ä»¥æ³¨è§£åœ¨æ–¹æ³•ä¸Šæˆ–ç±»ä¸Šï¼ŒåŒæ—¶å­˜åœ¨å°±è¿‘åŸåˆ™ æ–¹æ³•ä¸Šæ³¨è§£ ä¼˜å…ˆäº ç±»ä¸Šæ³¨è§£ã€‚</p><table><thead><tr><th>æ³¨è§£</th><th>ç»“æœ</th></tr></thead><tbody><tr><td>æ²¡æœ‰@DS</td><td>é»˜è®¤æ•°æ®æº</td></tr><tr><td>@DS(â€œdsNameâ€)</td><td>dsNameå¯ä»¥ä¸ºç»„åä¹Ÿå¯ä»¥ä¸ºå…·ä½“æŸä¸ªåº“çš„åç§°</td></tr></tbody></table><h3 id="ç¼–ç¨‹å¼åˆ‡æ¢æ•°æ®æº"><a href="#ç¼–ç¨‹å¼åˆ‡æ¢æ•°æ®æº" class="headerlink" title="ç¼–ç¨‹å¼åˆ‡æ¢æ•°æ®æº"></a>ç¼–ç¨‹å¼åˆ‡æ¢æ•°æ®æº</h3><p>æ¡†æ¶æä¾›äº†ç¼–ç¨‹å¼åˆ‡æ¢æ•°æ®æºã€‚ç¨åŠ å°è£…æ”¹é€ ä¸€ä¸‹ã€‚ä¸å»ºè®®æ‰‹åŠ¨ä¿®æ”¹æ•°æ®æºã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DataContext</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">protected</span> <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">protected</span> <span class="token class-name">DefaultDataSourceCreator</span> dataSourceCreator<span class="token punctuation">;</span>    <span class="token comment">/**     * æ–°å¢æ•°æ®æº     *     * @param name åç§°     * @param username è´¦æˆ·     * @param password å¯†ç      * @param url è¿æ¥     * @param driver é©±åŠ¨     * */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createDataSource</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span> <span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">String</span> driver<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">DynamicRoutingDataSource</span> dynamicRoutingDataSource <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DynamicRoutingDataSource</span><span class="token punctuation">)</span> dataSource<span class="token punctuation">;</span>        <span class="token class-name">DataSourceProperty</span> dsp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataSourceProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dsp<span class="token punctuation">.</span><span class="token function">setPoolName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>        dsp<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>        dsp<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>        dsp<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>        dsp<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span> dataSourceCreator<span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>dsp<span class="token punctuation">)</span><span class="token punctuation">;</span>        dynamicRoutingDataSource<span class="token punctuation">.</span><span class="token function">addDataSource</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ä¸å»ºè®®æ‰‹åŠ¨è°ƒç”¨     * åˆ‡æ¢æ•°æ®æºï¼Œè°ƒç”¨è¿‡åä½¿ç”¨å®Œæ¯•åè¯·åŠ¡å¿…è°ƒç”¨ä¸€æ¬¡cleanDataSource()æ–¹æ³•ã€‚     *     * @param name åç§°     * */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">changeDataSource</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">DynamicDataSourceContextHolder</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ¸…ç©ºæ•°æ®æº     *     * @param name åç§°     * */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cleanDataSource</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">DynamicDataSourceContextHolder</span><span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>     <span class="token comment">/**     * æ¸…ç©ºæ‰€æœ‰æ•°æ®æº     *     * */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cleanDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">DynamicDataSourceContextHolder</span><span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ä¿®æ”¹æ•°æ®æº     *     * @param name åç§°     * @param username è´¦æˆ·     * @param password å¯†ç      * @param url è¿æ¥     * @param driver é©±åŠ¨     * */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateDataSource</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span> <span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">String</span> driver<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">removeDataSource</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">createDataSource</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">,</span> url<span class="token punctuation">,</span> driver<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åˆ é™¤æ•°æ®æº     *     * @param name åç§°     * */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">removeDataSource</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">DynamicRoutingDataSource</span> dynamicRoutingDataSource <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DynamicRoutingDataSource</span><span class="token punctuation">)</span> dataSource<span class="token punctuation">;</span>        dynamicRoutingDataSource<span class="token punctuation">.</span><span class="token function">removeDataSource</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ•°æ®æºåˆ—è¡¨     * */</span>    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">DataSource</span><span class="token punctuation">></span></span> <span class="token function">getDataSources</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">DynamicRoutingDataSource</span> dynamicRoutingDataSource <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DynamicRoutingDataSource</span><span class="token punctuation">)</span> dataSource<span class="token punctuation">;</span>        <span class="token keyword">return</span> dynamicRoutingDataSource<span class="token punctuation">.</span><span class="token function">getDataSources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è·å–æ•°æ®æº     *     * @param name åç§°     * */</span>    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">DynamicRoutingDataSource</span> dynamicRoutingDataSource <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DynamicRoutingDataSource</span><span class="token punctuation">)</span> dataSource<span class="token punctuation">;</span>        <span class="token keyword">return</span> dynamicRoutingDataSource<span class="token punctuation">.</span><span class="token function">getDataSource</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// init dataSource</span>    <span class="token annotation punctuation">@PostConstruct</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">loadDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// è¿™é‡Œæ˜¯ä¼ªç ï¼Œæ­£å¸¸æƒ…å†µæ˜¯ä»æ•°æ®åº“ä¸­è·å–æ•°æ®åº“è¿æ¥ä¿¡æ¯</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SysDataSource</span><span class="token punctuation">></span></span> sysDataSources <span class="token operator">=</span> sysDataSourceService<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å¾ªç¯è°ƒç”¨æ·»åŠ æ–¹æ³•å³å¯</span>        sysDataSources<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>sysDataSource <span class="token operator">-></span> <span class="token punctuation">&#123;</span>            <span class="token function">createDataSource</span><span class="token punctuation">(</span>                    sysDataSource<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    sysDataSource<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    sysDataSource<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    sysDataSource<span class="token punctuation">.</span><span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    sysDataSource<span class="token punctuation">.</span><span class="token function">getDriver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>PS: è¿™ç§ç¼–ç¨‹è¿è¡Œæ—¶æ“ä½œæ•°æ®æºå·²ç»æœ‰ç‚¹ååˆ†æ–¹ä¾¿äº†ï¼Œæ ¸å¿ƒå°±æ˜¯è¿™ä¸ªç±»<code>DefaultDataSourceCreator</code>ï¼Œå¦‚æœæƒ³æ·±å…¥äº†è§£å¯ä»¥çœ‹ä¸€çœ‹æºç ï¼Œå¯ä»¥ä»¥æ­¤ç§æ¨¡å¼æ“ä½œå¤šç§Ÿæˆ·çš„æ¨¡å¼ï¼Œæ ¹æ®ä¸åŒç”¨æˆ·è¿æ¥ä¸åŒçš„æ•°æ®æºã€‚</p><h3 id="ä½¿ç”¨MyBatisæ’ä»¶è¯»å†™åˆ†ç¦»"><a href="#ä½¿ç”¨MyBatisæ’ä»¶è¯»å†™åˆ†ç¦»" class="headerlink" title="ä½¿ç”¨MyBatisæ’ä»¶è¯»å†™åˆ†ç¦»"></a>ä½¿ç”¨MyBatisæ’ä»¶è¯»å†™åˆ†ç¦»</h3><p>æ·»åŠ é…ç½®</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CoreConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">ConfigurationCustomizer</span> <span class="token function">mybatisConfigurationCustomizer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> configuration <span class="token operator">-></span> configuration<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MasterSlaveAutoRoutingPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æ”¯æŒMybatisPlusã€‚åŠMyBatis.<br>PSï¼šä¸»ä»æ•°æ®æºé…ç½®åº”ä¸º</p><figure><div class="code-wrapper"><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>    <span class="token key atrule">dynamic</span><span class="token punctuation">:</span>      <span class="token key atrule">primary</span><span class="token punctuation">:</span> master      <span class="token key atrule">datasource</span><span class="token punctuation">:</span>        <span class="token comment"># ä¸»åº“</span>        <span class="token key atrule">master</span><span class="token punctuation">:</span>        <span class="token comment"># ä»åº“1</span>        <span class="token key atrule">slave_1</span><span class="token punctuation">:</span>        <span class="token comment"># ä»åº“2</span>        slave_2<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><code>slave_1</code>,<code>slave_2</code>è¿™æ ·è¡¨ç¤ºè¿™ä¸¤ä¸ªæ•°æ®æºä¸ºä¸€ç»„ï¼Œæ³¨è§£åˆ‡æ¢æˆ–è€…æ‰‹åŠ¨åˆ‡æ¢æ˜¯æ•°æ®æºååº”ä¸º<code>slave</code>,è€Œä¸æ˜¯<code>slave_1</code>,</p><h2 id="åˆ‡æ¢æ•°æ®æºå¤±è´¥"><a href="#åˆ‡æ¢æ•°æ®æºå¤±è´¥" class="headerlink" title="åˆ‡æ¢æ•°æ®æºå¤±è´¥"></a>åˆ‡æ¢æ•°æ®æºå¤±è´¥</h2><h3 id="ä½¿ç”¨äº†springçš„äº‹åŠ¡ï¼Œåˆ™åˆ‡æ¢æ•°æ®æºä¼šæœ‰å‡ ç‡ä¼šå¤±æ•ˆï¼Œæˆ–è€…ç™¾åˆ†ç™¾å¤±æ•ˆ"><a href="#ä½¿ç”¨äº†springçš„äº‹åŠ¡ï¼Œåˆ™åˆ‡æ¢æ•°æ®æºä¼šæœ‰å‡ ç‡ä¼šå¤±æ•ˆï¼Œæˆ–è€…ç™¾åˆ†ç™¾å¤±æ•ˆ" class="headerlink" title="ä½¿ç”¨äº†springçš„äº‹åŠ¡ï¼Œåˆ™åˆ‡æ¢æ•°æ®æºä¼šæœ‰å‡ ç‡ä¼šå¤±æ•ˆï¼Œæˆ–è€…ç™¾åˆ†ç™¾å¤±æ•ˆ"></a>ä½¿ç”¨äº†springçš„äº‹åŠ¡ï¼Œåˆ™åˆ‡æ¢æ•°æ®æºä¼šæœ‰å‡ ç‡ä¼šå¤±æ•ˆï¼Œæˆ–è€…ç™¾åˆ†ç™¾å¤±æ•ˆ</h3><p>å¼€å‘è€…åŸæ–‡ï¼š</p><div class="note note-info">            <p>åŸå› ï¼š springå¼€å¯äº‹åŠ¡åä¼šç»´æŠ¤ä¸€ä¸ªConnectionHolderï¼Œä¿è¯åœ¨æ•´ä¸ªäº‹åŠ¡ä¸‹ï¼Œéƒ½æ˜¯ç”¨åŒä¸€ä¸ªæ•°æ®åº“è¿æ¥ã€‚è¯·æ£€æŸ¥æ•´ä¸ªè°ƒç”¨é“¾è·¯æ¶‰åŠçš„ç±»çš„æ–¹æ³•å’Œç±»æœ¬èº«è¿˜æœ‰ç»§æ‰¿çš„æŠ½è±¡ç±»ä¸Šæ˜¯å¦æœ‰@Transactionalæ³¨è§£ã€‚</p>          </div><h3 id="æ–¹æ³•å†…éƒ¨è°ƒç”¨"><a href="#æ–¹æ³•å†…éƒ¨è°ƒç”¨" class="headerlink" title="æ–¹æ³•å†…éƒ¨è°ƒç”¨"></a>æ–¹æ³•å†…éƒ¨è°ƒç”¨</h3><p>æŸ¥çœ‹ä»¥ä¸‹ç¤ºä¾‹ å›ç­” å¤–éƒ¨è°ƒç”¨ userservice.test1() èƒ½åœ¨æ‰§è¡Œåˆ° test2() åˆ‡æ¢åˆ°secondæ•°æ®æºå—ï¼Ÿ</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">UserService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@DS</span><span class="token punctuation">(</span><span class="token string">"first"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// do something</span>         <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@DS</span><span class="token punctuation">(</span><span class="token string">"second"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// do something</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ç­”æ¡ˆï¼šï¼ï¼ï¼ä¸èƒ½ä¸èƒ½ä¸èƒ½ï¼ï¼ï¼ï¼ æ•°æ®æºæ ¸å¿ƒåŸç†æ˜¯åŸºäºaopä»£ç†å®ç°åˆ‡æ¢ï¼Œå†…éƒ¨æ–¹æ³•è°ƒç”¨ä¸ä¼šä½¿ç”¨aopã€‚</p><p>è§£å†³æ–¹æ³•:</p><p>æŠŠtest2()æ–¹æ³•æåˆ°å¦å¤–ä¸€ä¸ªservice,å•ç‹¬è°ƒç”¨ã€‚</p><h3 id="ä½¿ç”¨äº†Shiro"><a href="#ä½¿ç”¨äº†Shiro" class="headerlink" title="ä½¿ç”¨äº†Shiro"></a>ä½¿ç”¨äº†Shiro</h3><p>å»ºè®®ä¸ç”¨ï¼Œå¯ä»¥ä½¿ç”¨<code>sa-token</code>æ¥ä»£æ›¿ã€‚</p><h2 id="äº‹åŠ¡æ§åˆ¶"><a href="#äº‹åŠ¡æ§åˆ¶" class="headerlink" title="äº‹åŠ¡æ§åˆ¶"></a>äº‹åŠ¡æ§åˆ¶</h2><p>ä¸Šé¢è¯´åˆ°äº†ä½¿ç”¨springçš„äº‹åŠ¡ï¼Œä¼šå¯¼è‡´åˆ‡æ¢æ•°æ®æºå¤±è´¥ã€‚æ¡†æ¶å¼€å‘è€…ä¹Ÿäº†è§£è¿™ä¸ªæƒ…å†µï¼Œå†™äº†ä¸€ä¸ªæœ¬åœ°çš„äº‹åŠ¡å·¥å…·ç±»<code>LocalTxUtil</code>æ¥è§£å†³æ­¤é—®é¢˜</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">LocalTxUtil</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * æ‰‹åŠ¨å¼€å¯äº‹åŠ¡     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">startTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token class-name">TransactionContext</span><span class="token punctuation">.</span><span class="token function">getXID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"dynamic-datasource exist local tx [&#123;&#125;]"</span><span class="token punctuation">,</span> <span class="token class-name">TransactionContext</span><span class="token punctuation">.</span><span class="token function">getXID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> xid <span class="token operator">=</span> <span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">TransactionContext</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>xid<span class="token punctuation">)</span><span class="token punctuation">;</span>            log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"dynamic-datasource start local tx [&#123;&#125;]"</span><span class="token punctuation">,</span> xid<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ‰‹åŠ¨æäº¤äº‹åŠ¡     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ConnectionFactory</span><span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"dynamic-datasource commit local tx [&#123;&#125;]"</span><span class="token punctuation">,</span> <span class="token class-name">TransactionContext</span><span class="token punctuation">.</span><span class="token function">getXID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">TransactionContext</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ‰‹åŠ¨å›æ»šäº‹åŠ¡     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ConnectionFactory</span><span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"dynamic-datasource rollback local tx [&#123;&#125;]"</span><span class="token punctuation">,</span> <span class="token class-name">TransactionContext</span><span class="token punctuation">.</span><span class="token function">getXID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">TransactionContext</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="åè¯"><a href="#åè¯" class="headerlink" title="åè¯"></a>åè¯</h2><p>åœ¨å¦‚ä»Šå„ç§æŒä¹…å±‚æ¡†æ¶ä¸­ï¼Œæˆ‘ä»¬è¶Šæ¥è¶Šæ„ŸçŸ¥ä¸åˆ°æ•°æ®æºçš„å­˜åœ¨ï¼Œå¥½å¤„æ˜¯ï¼Œé…ç½®ç®€å•äº†ï¼Œåå¤„å°±æ˜¯å¯¹æ•°æ®æºçš„å¤„ç†æ—¶å°±æœ‰äº›éº»çƒ¦ã€‚åœ¨å¤è€çš„JDBCä¸­ï¼Œå…¶å®æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œä¸‡ç‰©<code>queryForList()</code>ï¼Œæ¢ä¸ªæ•°æ®æºç»§ç»­<code>queryForList()</code>ã€‚è¿™ä¸ªæ¡†æ¶ç†è®ºä¸Šæ”¯æŒä»»ä½•æŒä¹…å±‚ï¼Œå› ä¸ºäººæ ¹æœ¬æ²¡æŠŠç›®å…‰æ”¾åœ¨æŒä¹…å±‚ä¸Šï¼Œä¸“æ³¨äºæ•°æ®æºï¼Œå®ƒåªæ“ä½œæ•°æ®æºçš„ã€‚</p><p>åœ¨springboot2.6.xçš„ç‰ˆæœ¬çš„ä¸å…è®¸ä¾èµ–å¾ªç¯ï¼Œæˆ‘å±å®ä¸èƒ½ç†è§£ã€‚æˆ‘ä¸ç†è§£ï¼Œ</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1h0d0j8r2dkj32yo1o07wi.jpg" alt="cosplayåŸç¥ çŠç‘šå®«å¿ƒæµ·"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>springboot</tag>
      
      <tag>æ•°æ®æº</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PostgreSQLæ•°æ®åº“å®‰è£…</title>
    <link href="/2022/03/01/java-10/"/>
    <url>/2022/03/01/java-10/</url>
    
    <content type="html"><![CDATA[<p>postgresqlå’Œmysqlå·®ä¸å¤šï¼Œéƒ½æ˜¯å…è´¹å¼€æºçš„çš„æ•°æ®åº“è½¯ä»¶ï¼Œåœ¨å…è´¹æ•°æ®åº“ï¼Œpostgresqlç®—æ˜¯ä¸€ä¸ªåèµ·ä¹‹ç§€ã€‚å¥½åƒæ˜¯æ¯”Mysqlè¦ä¼˜å¼‚ä¸€ç‚¹ï¼Œåœ¨å„æ–¹é¢ä¸Šã€‚å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œå­¦ä¹ ä¸€ä¸ªä¸œè¥¿çš„ç¬¬ä¸€æ­¥ï¼Œè‚¯å®šæ˜¯å…ˆå®‰è£…ï¼Œç„¶åå†ä½¿ç”¨ï¼Œä½¿ç”¨æˆ‘è¿˜æ²¡æœ‰åœ¨é¡¹ç›®ä¸­ä½¿ç”¨è¿‡ï¼Œä¸è¿‡æˆ‘æ„Ÿè§‰éƒ½æ˜¯sqlæ ‡å‡†ï¼Œå¤§å·®ä¸å·®å§ã€‚</p><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p><a href="https://www.baidu.com/s?ie=UTF-8&wd=PostgreSQL">ç™¾åº¦ä¸€ä¸‹</a></p><p>å®˜ç½‘ä¸Šä¸‹è½½ã€‚æˆ‘è¿™è¾¹ä¸‹è½½çš„æ˜¯14.2çš„ç‰ˆæœ¬ï¼Œå‹ç¼©åŒ…çš„å®‰è£…æ–¹å¼ï¼Œä¸‹è½½è§£å‹è¿›å…¥<code>pgsql</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªdataæ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾æ•°æ®æ–‡ä»¶ï¼Œcmdè¿›å…¥<code>pgsql</code>ç›®å½•ã€‚æ‰§è¡Œå‘½ä»¤ã€‚</p><h3 id="åˆå§‹åŒ–æ•°æ®åº“"><a href="#åˆå§‹åŒ–æ•°æ®åº“" class="headerlink" title="åˆå§‹åŒ–æ•°æ®åº“"></a>åˆå§‹åŒ–æ•°æ®åº“</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">bin<span class="token punctuation">\</span>initdb <span class="token parameter variable">-D</span> data <span class="token parameter variable">-U</span> postgres <span class="token parameter variable">-A</span> password <span class="token parameter variable">-E</span> utf8 <span class="token parameter variable">--locale</span><span class="token operator">=</span>C <span class="token parameter variable">-W</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><div class="note note-info">            <p>-D  data                       æŒ‡å®šåˆå§‹åŒ–çš„æ•°æ®åº“ç›®å½•(æ­¤å¤„ä¸ºå½“å‰ç›®å½•çš„dataæ–‡ä»¶å¤¹)<br>-U  postgres                æ•°æ®åº“è¶…çº§ç”¨æˆ·åï¼ˆæ­¤å¤„ä¸ºpostgresï¼Œå¦‚æœä¸è®¾ç½®ï¼Œä¼šç”¨å½“å‰windowsç”¨æˆ·åä¸ºè´¦å·ï¼‰<br>-A  password              æ•°æ®åº“ä½¿ç”¨å¯†ç æˆæƒ<br>-E  utf8                       æ•°æ®åº“ç¼–ç æ ¼å¼<br>â€“locale&#x3D;C                  æ•°æ®åº“ç°‡ä½¿ç”¨çš„æœ¬åœ°åŒ–è¯­è¨€<br>-W                              å‘½ä»¤è¡Œæ‰§è¡Œå è¾“å…¥å¯†ç </p>          </div><p>æ‰§è¡Œå‘½ä»¤è¿‡åè¾“å…¥å¯†ç ï¼Œåº”è¯¥è¦è¾“å…¥ä¸¤éï¼Œè¾“å…¥ä¸€ä¸ªè‡ªå·±è®°å¾—ä½çš„å¯†ç ï¼Œå…¶ä»–çš„ä»å‚æ•°è¾“å…¥ <code>initdb --help</code>æŸ¥çœ‹</p><h3 id="å¯åŠ¨æ•°æ®åº“"><a href="#å¯åŠ¨æ•°æ®åº“" class="headerlink" title="å¯åŠ¨æ•°æ®åº“"></a>å¯åŠ¨æ•°æ®åº“</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">bin<span class="token punctuation">\</span>pg_ctl <span class="token parameter variable">-D</span> data start<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>ç„¶åä½¿ç”¨æ•°æ®åº“è¿æ¥è½¯ä»¶è¿æ¥æŸ¥çœ‹å³å¯ã€‚</p><h3 id="æ³¨å†Œåˆ°æœåŠ¡"><a href="#æ³¨å†Œåˆ°æœåŠ¡" class="headerlink" title="æ³¨å†Œåˆ°æœåŠ¡"></a>æ³¨å†Œåˆ°æœåŠ¡</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">bin<span class="token punctuation">\</span>pg_ctl register <span class="token parameter variable">-N</span> <span class="token string">"pgsql"</span> <span class="token parameter variable">-D</span> xxxx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>æ³¨æ„ï¼š</p><div class="note note-info">            <p>-Dåé¢å¡«å†™ä½ æ–°å»ºçš„é‚£ä¸ªdataæ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„</p>          </div><p>è¿è¡Œè¿‡åå³å¯ä½¿ç”¨ <code>net start pgsql</code> å‘½ä»¤æ¥å¯åŠ¨æ•°æ®åº“æœåŠ¡ï¼Œä¹Ÿå¯ä»¥è®¾ç½®æˆå¼€æœºè‡ªå¯ã€‚åœæ­¢è¿è¡Œçš„å‘½ä»¤<code>net stop pgsql</code>ï¼Œæ‰§è¡Œnetå‘½ä»¤å¤±è´¥çš„è¯è¯·ä½¿ç”¨ç®¡ç†å‘˜èº«ä»½æ“ä½œCMD</p><h2 id="åè¯"><a href="#åè¯" class="headerlink" title="åè¯"></a>åè¯</h2><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å‹ç¼©åŒ…çš„å®‰è£…æ–¹å¼ï¼Ÿä¸»è¦æ•°æ®åº“è¿™ä¸œè¥¿å¤§å¤šæ•°éƒ½æ˜¯åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œçš„ï¼Œè€Œç°åœ¨å°å…¬å¸linuxæœåŠ¡ç”¨çš„å±…å¤šï¼Œå¤šæ˜¯æ²¡æœ‰æ“ä½œç•Œé¢çš„ï¼Œä½¿ç”¨å‹ç¼©åŒ…çš„å®‰è£…æ–¹å¼ä¸»è¦ä¸æŒ‘ç³»ç»Ÿã€‚å°±æ˜¯è¿™ä¸ªåŸå› ã€‚è¯è¯´æœ‰å‡ ä¸ªåŒå­¦çŸ¥é“Linuxè§£å‹æ–‡ä»¶çš„å‘½ä»¤æ˜¯ä»€ä¹ˆã€‚å“ˆå“ˆå“ˆğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gzwgk3spe5j32yo1o04qq.jpg" alt="å†¬å¤©é›ªé£æ™¯"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®åº“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>springbooté¡¹ç›®è®°å½•httpè¯·æ±‚è®°å½•</title>
    <link href="/2022/02/18/java-09/"/>
    <url>/2022/02/18/java-09/</url>
    
    <content type="html"><![CDATA[<p>ä»£ç æ¥å’¯ï¼Œçœ‹ä»£ç å¤šæ˜¯ä¸€ä»¶ç¾äº‹å‘¦ï¼Œä½ ä»–å¥¶å¥¶çš„ä¸ºä»€ä¹ˆä¸çœ‹ä»£ç ï¼Œç»™æˆ‘çœ‹ã€‚</p><p>å·¥ä½œçš„æ—¶å€™ï¼Œå°¤å…¶æ˜¯æ¥å£è”è°ƒçš„æ—¶å€™ï¼Œæ‰“å°httpè¯·æ±‚è®°å½•æ˜¯ç”©é”…å’Œè§£å†³é—®é¢˜çš„æœ€å¥½çš„æ–¹å¼ã€‚å°¤å…¶æ˜¯è¯·æ±‚ä½“é‡Œçš„å†…å®¹ã€‚å°±æ˜¯è¿™ä¸ªè·å–è¯·æ±‚ä½“çš„å†…å®¹å…¶å®è¿˜æœ‰ç‚¹é—¨é“ï¼Œæˆ‘å°±è¢«å‘è¿‡ï¼Œä½ ç›´æ¥åœ¨æ‹¦æˆªå™¨é‡Œç›´æ¥è·å–requesté‡Œé¢çš„bodyï¼Œæ‹¦æˆªå™¨é‡Œèƒ½è·å–åˆ°ï¼ŒControlleré‡Œé¢å°±è·å–ä¸åˆ°äº†ã€‚å…·ä½“åŸå› ä¸æ·±ç©¶ï¼Œå°±æ˜¯Bodyæ˜¯ç”¨æµä¼ çš„ï¼Œä½ è¯»å–äº†ä¹‹åè¿™ä¸ªæµå°±è¢«æ¶ˆè€—äº†ï¼Œç„¶ååé¢çš„ä»£ç å†ä»requesté‡Œé¢å°±è¯»å–ä¸åˆ°äº†ã€‚</p><h2 id="å¼•å…¥spring-boot-starter-actuator"><a href="#å¼•å…¥spring-boot-starter-actuator" class="headerlink" title="å¼•å…¥spring-boot-starter-actuator"></a>å¼•å…¥<code>spring-boot-starter-actuator</code></h2><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!-- ä¾èµ– --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å¼•å…¥ä¹‹åï¼Œé…ç½®å­˜å‚¨æ–¹å¼<code>httpTraceRepository</code>ï¼Œè¿™ä¸ªå®ä¾‹å°±æ˜¯æ·»åŠ åœ¨å†…å­˜ä¸­å­˜å‚¨æœ€è¿‘100æ¬¡è¯·æ±‚è®°å½•</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigTrace</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">HttpTraceRepository</span> <span class="token function">httpTraceRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">InMemoryHttpTraceRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æœ€ååœ¨application.propertiesä¸­åŠ å…¥</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">management.endpoints.web.exposure.include</span><span class="token operator">=</span>*<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>è¿è¡Œé¡¹ç›®è®¿é—®<code>http://localhost:8080/actuator/httptrace</code></p><p>å¾—åˆ°è¿™æ ·çš„JSONæ•°æ®ï¼ˆå·²ç»æ ¼å¼åŒ–ï¼‰ï¼Œ</p><figure><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"traces"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">&#123;</span>      <span class="token property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2022-02-19T05:08:05.370267100Z"</span><span class="token punctuation">,</span>      <span class="token property">"principal"</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>      <span class="token property">"session"</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>      <span class="token property">"request"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token property">"method"</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>        <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8080/index?a=%E4%BB%8E%E5%89%8D%E4%BB%8E%E5%89%8D&amp;b=%E6%9C%89%E4%B8%AA%E4%BA%BA%E7%88%B1%E4%BD%A0%E5%BE%88%E4%B9%85"</span><span class="token punctuation">,</span>        <span class="token property">"headers"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"host"</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token string">"localhost:8080"</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token property">"content-type"</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token string">"application/x-www-form-urlencoded"</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token property">"connection"</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token string">"Keep-Alive"</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token property">"accept-encoding"</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token string">"gzip,deflate"</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token property">"user-agent"</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token string">"Apache-HttpClient/4.5.13 (Java/11.0.12)"</span>          <span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token property">"remoteAddress"</span><span class="token operator">:</span> <span class="token null keyword">null</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token property">"response"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token property">"status"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>        <span class="token property">"headers"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token property">"Keep-Alive"</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token string">"timeout=60"</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token property">"Connection"</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token string">"keep-alive"</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token property">"Content-Length"</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token string">"35"</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token property">"Date"</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token string">"Sat, 19 Feb 2022 05:08:05 GMT"</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token property">"Content-Type"</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token string">"text/plain;charset=UTF-8"</span>          <span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token property">"timeTaken"</span><span class="token operator">:</span> <span class="token number">120</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å¼•å…¥è¿™ä¸ªä¾èµ–çš„å¥½å¤„ï¼Œå°±æ˜¯å‡ ä¹ä¸éœ€è¦å†™ä»»ä½•ä»£ç ï¼Œå¼•å…¥ï¼Œç„¶åé…ç½®ä¸€ä¸‹å³å¯æŸ¥çœ‹ï¼Œç¼ºç‚¹ä¹Ÿæœ‰å°±æ˜¯ä¸èƒ½è®°å½•postè¯·æ±‚çš„è¯·æ±‚ä½“ï¼Œä¹Ÿæ— æ³•è®°å½•è¿”å›å€¼ï¼ŒæŒä¹…åŒ–ï¼Œç›®å‰æˆ‘æ²¡æœ‰ç ”ç©¶ï¼Œä½†æ˜¯æˆ‘æ„Ÿè§‰å¯ä»¥ã€‚å¯ä»¥è‡ªè¡ŒæŸ¥é˜…èµ„æ–™ç ”ç©¶ã€‚</p><h2 id="ä½¿ç”¨springmvcè‡ªå¸¦çš„ä¸€ä¸ªç±»"><a href="#ä½¿ç”¨springmvcè‡ªå¸¦çš„ä¸€ä¸ªç±»" class="headerlink" title="ä½¿ç”¨springmvcè‡ªå¸¦çš„ä¸€ä¸ªç±»"></a>ä½¿ç”¨springmvcè‡ªå¸¦çš„ä¸€ä¸ªç±»</h2><p>å¢åŠ ä¸€ä¸ªé…ç½®ç±»</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Bean</span>    <span class="token class-name">CommonsRequestLoggingFilter</span> <span class="token function">loggingFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">CommonsRequestLoggingFilter</span> loggingFilter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CommonsRequestLoggingFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è®°å½• å®¢æˆ·ç«¯ IPä¿¡æ¯</span>        loggingFilter<span class="token punctuation">.</span><span class="token function">setIncludeClientInfo</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è®°å½•è¯·æ±‚å¤´</span>        loggingFilter<span class="token punctuation">.</span><span class="token function">setIncludeHeaders</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å¦‚æœè®°å½•è¯·æ±‚å¤´çš„è¯ï¼Œå¯ä»¥æŒ‡å®šå“ªäº›è®°å½•ï¼Œå“ªäº›ä¸è®°å½•</span>        <span class="token comment">// loggingFilter.setHeaderPredicate();</span>        <span class="token comment">// è®°å½• è¯·æ±‚ä½“  ç‰¹åˆ«æ˜¯POSTè¯·æ±‚çš„bodyå‚æ•°</span>        loggingFilter<span class="token punctuation">.</span><span class="token function">setIncludePayload</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è¯·æ±‚ä½“çš„å¤§å°é™åˆ¶ é»˜è®¤50</span>        loggingFilter<span class="token punctuation">.</span><span class="token function">setMaxPayloadLength</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®°å½•è¯·æ±‚è·¯å¾„ä¸­çš„queryå‚æ•°</span>        loggingFilter<span class="token punctuation">.</span><span class="token function">setIncludeQueryString</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> loggingFilter<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><code>CommonsRequestLoggingFilter</code>å¯ä»¥ç‚¹è¿›å»çœ‹ä¸€ä¸‹ï¼Œå°±æ˜¯ä¸€ä¸ªspringbootæä¾›å¾—ä¸€ä¸ªç±»ã€‚å¯ä»¥è‡ªå·±è¿›è¡Œæ”¹é€ ã€‚æ¥ä¸‹æ¥å†é…ç½®ä¸€ä¸‹logbackå°±è¡Œã€‚é…ç½®å¦‚ä¸‹ã€‚çœ‹ä¸æ‡‚æˆ–è€…ä¸ç†è§£çœ‹è¿™ä¸ª<a href="https://wangijun.com/2022/01/05/java-07/">logbacké…ç½®è¯¦æƒ…</a></p><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--        è¾“å‡ºæ—¥å¿—åˆ°æ§åˆ¶å°    --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>soutAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.PatternLayout<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date %level [%thread] %logger&#123;10&#125;.%class&#123;0&#125;#%method[%file:%line] %n%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--        è¾“å‡ºæ—¥å¿—åˆ°æ–‡ä»¶     --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>append</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>append</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prudent</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prudent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span><span class="token punctuation">></span></span>logs/log.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>File</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.TimeBasedRollingPolicy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">></span></span>logs/%d&#123;yyyy-MM-dd&#125;/log%i.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxHistory</span><span class="token punctuation">></span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxHistory</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>timeBasedFileNamingAndTriggeringPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token comment">&lt;!-- å•ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§ä½“ç§¯ --></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxFileSize</span><span class="token punctuation">></span></span>10MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxFileSize</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>timeBasedFileNamingAndTriggeringPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.encoder.PatternLayoutEncoder<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- å¯¹æ—¥å¿—è¿›è¡Œæ ¼å¼åŒ– --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date %level [%thread] %logger&#123;10&#125;.%class&#123;0&#125;#%method[%file:%line] %n%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">></span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- è¿™ä¸ªæ˜¯é‡ç‚¹ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.springframework.web.filter.CommonsRequestLoggingFilter<span class="token punctuation">"</span></span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>debug<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>logger</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>soutAppender<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileAppender<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>é…ç½®å¥½æ‰“å°çš„æ—¥å¿—åº”è¯¥æ˜¯è¿™æ ·</p><figure><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token number">2022</span><span class="token number">-02</span><span class="token number">-19</span> <span class="token number">19</span><span class="token operator">:</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token number">608</span> DEBUG <span class="token punctuation">[</span>http-nio<span class="token number">-8080</span>-exec<span class="token number">-1</span><span class="token punctuation">]</span> o.s.w.f.CommonsRequestLoggingFilter.CommonsRequestLoggingFilter#beforeRequest<span class="token punctuation">[</span>CommonsRequestLoggingFilter.java<span class="token operator">:</span><span class="token number">47</span><span class="token punctuation">]</span> Before request <span class="token punctuation">[</span>GET /index?a=%E4%BB%8E%E5%<span class="token number">89</span>%8D%E4%BB%8E%E5%<span class="token number">89</span>%8D&amp;b=%E6%9C%<span class="token number">89</span>%E4%B8%AA%E4%BA%BA%E7%<span class="token number">88</span>%B1%E4%BD%A0%E5%BE%<span class="token number">88</span>%E4%B9%<span class="token number">85</span><span class="token punctuation">,</span> client=<span class="token number">127.0</span>.<span class="token number">0.1</span><span class="token punctuation">,</span> headers=<span class="token punctuation">[</span>host<span class="token operator">:</span><span class="token string">"localhost:8080"</span><span class="token punctuation">,</span> connection<span class="token operator">:</span><span class="token string">"Keep-Alive"</span><span class="token punctuation">,</span> user-agent<span class="token operator">:</span><span class="token string">"Apache-HttpClient/4.5.13 (Java/11.0.12)"</span><span class="token punctuation">,</span> accept-encoding<span class="token operator">:</span><span class="token string">"gzip,deflate"</span><span class="token punctuation">,</span> Content-Type<span class="token operator">:</span><span class="token string">"application/x-www-form-urlencoded;charset=UTF-8"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token number">2022</span><span class="token number">-02</span><span class="token number">-19</span> <span class="token number">19</span><span class="token operator">:</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token number">668</span> DEBUG <span class="token punctuation">[</span>http-nio<span class="token number">-8080</span>-exec<span class="token number">-1</span><span class="token punctuation">]</span> o.s.w.f.CommonsRequestLoggingFilter.CommonsRequestLoggingFilter#afterRequest<span class="token punctuation">[</span>CommonsRequestLoggingFilter.java<span class="token operator">:</span><span class="token number">55</span><span class="token punctuation">]</span> After request <span class="token punctuation">[</span>GET /index?a=%E4%BB%8E%E5%<span class="token number">89</span>%8D%E4%BB%8E%E5%<span class="token number">89</span>%8D&amp;b=%E6%9C%<span class="token number">89</span>%E4%B8%AA%E4%BA%BA%E7%<span class="token number">88</span>%B1%E4%BD%A0%E5%BE%<span class="token number">88</span>%E4%B9%<span class="token number">85</span><span class="token punctuation">,</span> client=<span class="token number">127.0</span>.<span class="token number">0.1</span><span class="token punctuation">,</span> headers=<span class="token punctuation">[</span>host<span class="token operator">:</span><span class="token string">"localhost:8080"</span><span class="token punctuation">,</span> connection<span class="token operator">:</span><span class="token string">"Keep-Alive"</span><span class="token punctuation">,</span> user-agent<span class="token operator">:</span><span class="token string">"Apache-HttpClient/4.5.13 (Java/11.0.12)"</span><span class="token punctuation">,</span> accept-encoding<span class="token operator">:</span><span class="token string">"gzip,deflate"</span><span class="token punctuation">,</span> Content-Type<span class="token operator">:</span><span class="token string">"application/x-www-form-urlencoded;charset=UTF-8"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token number">2022</span><span class="token number">-02</span><span class="token number">-19</span> <span class="token number">19</span><span class="token operator">:</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">39</span><span class="token punctuation">,</span><span class="token number">737</span> DEBUG <span class="token punctuation">[</span>http-nio<span class="token number">-8080</span>-exec<span class="token number">-3</span><span class="token punctuation">]</span> o.s.w.f.CommonsRequestLoggingFilter.CommonsRequestLoggingFilter#beforeRequest<span class="token punctuation">[</span>CommonsRequestLoggingFilter.java<span class="token operator">:</span><span class="token number">47</span><span class="token punctuation">]</span> Before request <span class="token punctuation">[</span>POST /save<span class="token punctuation">,</span> client=<span class="token number">127.0</span>.<span class="token number">0.1</span><span class="token punctuation">,</span> headers=<span class="token punctuation">[</span>content-length<span class="token operator">:</span><span class="token string">"14"</span><span class="token punctuation">,</span> host<span class="token operator">:</span><span class="token string">"localhost:8080"</span><span class="token punctuation">,</span> connection<span class="token operator">:</span><span class="token string">"Keep-Alive"</span><span class="token punctuation">,</span> user-agent<span class="token operator">:</span><span class="token string">"Apache-HttpClient/4.5.13 (Java/11.0.12)"</span><span class="token punctuation">,</span> accept-encoding<span class="token operator">:</span><span class="token string">"gzip,deflate"</span><span class="token punctuation">,</span> Content-Type<span class="token operator">:</span><span class="token string">"application/x-www-form-urlencoded;charset=UTF-8"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token number">2022</span><span class="token number">-02</span><span class="token number">-19</span> <span class="token number">19</span><span class="token operator">:</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">39</span><span class="token punctuation">,</span><span class="token number">743</span> DEBUG <span class="token punctuation">[</span>http-nio<span class="token number">-8080</span>-exec<span class="token number">-3</span><span class="token punctuation">]</span> o.s.w.f.CommonsRequestLoggingFilter.CommonsRequestLoggingFilter#afterRequest<span class="token punctuation">[</span>CommonsRequestLoggingFilter.java<span class="token operator">:</span><span class="token number">55</span><span class="token punctuation">]</span> After request <span class="token punctuation">[</span>POST /save<span class="token punctuation">,</span> client=<span class="token number">127.0</span>.<span class="token number">0.1</span><span class="token punctuation">,</span> headers=<span class="token punctuation">[</span>content-length<span class="token operator">:</span><span class="token string">"14"</span><span class="token punctuation">,</span> host<span class="token operator">:</span><span class="token string">"localhost:8080"</span><span class="token punctuation">,</span> connection<span class="token operator">:</span><span class="token string">"Keep-Alive"</span><span class="token punctuation">,</span> user-agent<span class="token operator">:</span><span class="token string">"Apache-HttpClient/4.5.13 (Java/11.0.12)"</span><span class="token punctuation">,</span> accept-encoding<span class="token operator">:</span><span class="token string">"gzip,deflate"</span><span class="token punctuation">,</span> Content-Type<span class="token operator">:</span><span class="token string">"application/x-www-form-urlencoded;charset=UTF-8"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> payload=a=%E4%BD%A0%E5%A5%BD%E4%B8%<span class="token number">96</span>%E7%<span class="token number">95</span>%8C<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>payloadä¸­å¾—ä¸œè¥¿ä¸ºè¯·æ±‚ä½“ã€‚ä¸€æ¬¡è¯·æ±‚ä¼šæ‰“å°ä¸¤æ¡æ—¥å¿—ï¼ŒBefore requestä¸ºè¿‡æ»¤å™¨å‰ï¼ŒAfter requestä¸ºè¿‡æ»¤å™¨åçš„è®°å½•ï¼Œè¿™ç§æ–¹å¼å…¶å®å·²ç»æŒºå¥½ç”¨äº†ã€‚ä½†æ˜¯è¿˜æœ‰ä¸ªé—®é¢˜å°±æ˜¯ä¸èƒ½è®°å½•è¿”å›å€¼ï¼Œä¹Ÿæœ‰æ–¹æ³•ã€‚</p><h2 id="è®°å½•è¿”å›å€¼"><a href="#è®°å½•è¿”å›å€¼" class="headerlink" title="è®°å½•è¿”å›å€¼"></a>è®°å½•è¿”å›å€¼</h2><p>ç»§æ‰¿<code>ResponseBodyAdvice</code>å’Œä½¿ç”¨<code>RestControllerAdvice</code>æ³¨è§£æ¥å®ç°ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Slf4j</span><span class="token annotation punctuation">@RestControllerAdvice</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RestBodyAdvice</span> <span class="token keyword">implements</span> <span class="token class-name">ResponseBodyAdvice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">DEFAULT_MAX_PAYLOAD_LENGTH</span> <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">REQUEST_MESSAGE_PREFIX</span> <span class="token operator">=</span> <span class="token string">"Request ["</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">REQUEST_MESSAGE_SUFFIX</span> <span class="token operator">=</span> <span class="token string">"]"</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/**     * é¡¶çº§å¼‚å¸¸     * å¼‚å¸¸çš„ä¿¡æ¯ä¹Ÿèƒ½æ•è·åˆ°     */</span>    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">Exception</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>    <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">handlerException</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">,</span>                                              <span class="token class-name">HttpServletRequest</span> rq<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> rp<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"é¡¶çº§å¼‚å¸¸: &#123;&#125;"</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token string">"ç³»ç»Ÿé”™è¯¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">supports</span><span class="token punctuation">(</span><span class="token class-name">MethodParameter</span> returnType<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">HttpMessageConverter</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span><span class="token punctuation">></span></span> converterType<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@SneakyThrows</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">beforeBodyWrite</span><span class="token punctuation">(</span><span class="token class-name">Object</span> body<span class="token punctuation">,</span>                                  <span class="token class-name">MethodParameter</span> returnType<span class="token punctuation">,</span>                                  <span class="token class-name">MediaType</span> selectedContentType<span class="token punctuation">,</span>                                  <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">HttpMessageConverter</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span><span class="token punctuation">></span></span> selectedConverterType<span class="token punctuation">,</span>                                  <span class="token class-name">ServerHttpRequest</span> request<span class="token punctuation">,</span>                                  <span class="token class-name">ServerHttpResponse</span> response<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ServletServerHttpRequest</span> servletServerHttpRequest <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ServletServerHttpRequest</span><span class="token punctuation">)</span> request<span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token function">createRequestMessage</span><span class="token punctuation">(</span>servletServerHttpRequest<span class="token punctuation">.</span><span class="token function">getServletRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">REQUEST_MESSAGE_PREFIX</span><span class="token punctuation">,</span> <span class="token constant">REQUEST_MESSAGE_SUFFIX</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è¿™é‡Œæ³¨æ„ä¸€ä¸‹ï¼Œå¦‚æœbodyå·²ç»æ˜¯JOSNæ•°æ®äº†åœ¨è¿›è¡Œè½¬JSONå¤„ç†ä¼šæŠ¥é”™ã€‚</span>        log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"Response Body ["</span><span class="token operator">+</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">"]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> body<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">checkPrimitive</span><span class="token punctuation">(</span><span class="token class-name">Object</span> body<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> clazz <span class="token operator">=</span> body<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> clazz<span class="token punctuation">.</span><span class="token function">isPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token operator">||</span> clazz<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token operator">||</span> <span class="token class-name">Collection</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">isAssignableFrom</span><span class="token punctuation">(</span>clazz<span class="token punctuation">)</span>                <span class="token operator">||</span> body <span class="token keyword">instanceof</span> <span class="token class-name">Number</span>                <span class="token operator">||</span> body <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span>                <span class="token operator">||</span> body <span class="token keyword">instanceof</span> <span class="token class-name">Character</span>                <span class="token operator">||</span> body <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">protected</span> <span class="token class-name">String</span> <span class="token function">createRequestMessage</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">String</span> prefix<span class="token punctuation">,</span> <span class="token class-name">String</span> suffix<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">StringBuilder</span> msg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        msg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>prefix<span class="token punctuation">)</span><span class="token punctuation">;</span>        msg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        msg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> queryString <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getQueryString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>queryString <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            msg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token char">'?'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>queryString<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">String</span> client <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRemoteAddr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>client<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            msg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">", client="</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>client<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>session <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            msg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">", session="</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">String</span> user <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRemoteUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            msg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">", user="</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">HttpHeaders</span> headers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletServerHttpRequest</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        msg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">", headers="</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> payload <span class="token operator">=</span> <span class="token function">getMessagePayload</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>payload <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            msg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">", payload="</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        msg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>suffix<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> msg<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">protected</span> <span class="token class-name">String</span> <span class="token function">getMessagePayload</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ContentCachingRequestWrapper</span> wrapper <span class="token operator">=</span>                <span class="token class-name">WebUtils</span><span class="token punctuation">.</span><span class="token function">getNativeRequest</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">ContentCachingRequestWrapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>wrapper <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf <span class="token operator">=</span> wrapper<span class="token punctuation">.</span><span class="token function">getContentAsByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>buf<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">int</span> length <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token constant">DEFAULT_MAX_PAYLOAD_LENGTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> length<span class="token punctuation">,</span> wrapper<span class="token punctuation">.</span><span class="token function">getCharacterEncoding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">UnsupportedEncodingException</span> ex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token string">"[unknown]"</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ç„¶åå†é…ç½®logback</p><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.example.springboothttptrace.RestBodyAdvice<span class="token punctuation">"</span></span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>debug<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>logger</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p>é…ç½®ä¸€ä¸‹ï¼Œè¾“å‡ºçš„æ—¥å¿—ä¸º</p><figure><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token number">2022</span><span class="token number">-02</span><span class="token number">-21</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">19</span><span class="token operator">:</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token number">880</span> DEBUG <span class="token punctuation">[</span>http-nio<span class="token number">-8080</span>-exec<span class="token number">-3</span><span class="token punctuation">]</span> c.e.s.RestBodyAdvice.RestBodyAdvice#beforeBodyWrite<span class="token punctuation">[</span>RestBodyAdvice.java<span class="token operator">:</span><span class="token number">64</span><span class="token punctuation">]</span> Request <span class="token punctuation">[</span>POST /save<span class="token punctuation">,</span> client=<span class="token number">127.0</span>.<span class="token number">0.1</span><span class="token punctuation">,</span> headers=<span class="token punctuation">[</span>content-length<span class="token operator">:</span><span class="token string">"14"</span><span class="token punctuation">,</span> host<span class="token operator">:</span><span class="token string">"localhost:8080"</span><span class="token punctuation">,</span> connection<span class="token operator">:</span><span class="token string">"Keep-Alive"</span><span class="token punctuation">,</span> user-agent<span class="token operator">:</span><span class="token string">"Apache-HttpClient/4.5.13 (Java/11.0.12)"</span><span class="token punctuation">,</span> accept-encoding<span class="token operator">:</span><span class="token string">"gzip,deflate"</span><span class="token punctuation">,</span> Content-Type<span class="token operator">:</span><span class="token string">"application/x-www-form-urlencoded;charset=UTF-8"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> payload=a=%E4%BD%A0%E5%A5%BD%E4%B8%<span class="token number">96</span>%E7%<span class="token number">95</span>%8C<span class="token punctuation">]</span><span class="token number">2022</span><span class="token number">-02</span><span class="token number">-21</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">19</span><span class="token operator">:</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token number">880</span> DEBUG <span class="token punctuation">[</span>http-nio<span class="token number">-8080</span>-exec<span class="token number">-3</span><span class="token punctuation">]</span> c.e.s.RestBodyAdvice.RestBodyAdvice#beforeBodyWrite<span class="token punctuation">[</span>RestBodyAdvice.java<span class="token operator">:</span><span class="token number">66</span><span class="token punctuation">]</span> Response Body <span class="token punctuation">[</span><span class="token string">"ä½ å¥½ä¸–ç•Œ"</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è‡³æ­¤ï¼Œhttpçš„è¯·æ±‚è®°å½•å°±å…¨éƒ¨è®°å½•åˆ°äº†ï¼Œpayloadä¸­ä¸ºè¯·æ±‚ä½“ï¼Œè¯·æ±‚ä½“å’Œè¿”å›å†…å®¹ã€‚è‡ªå·±å¯ä»¥æŒ‰éœ€ä½¿ç”¨ï¼Œå¼€å‘è¿‡ç¨‹ä¸­å»ºè®®æ‰“å°å…¨éƒ¨æ—¥å¿—ï¼Œæ–¹ä¾¿è°ƒè¯•ï¼Œä¸Šçº¿åï¼Œå¯ä»¥ä¸æ‰“å°ã€‚å»æ‰ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œç›´æ¥åœ¨logbacké…ç½®ä¸­é…ç½®ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gzkx54or65j32yo1o01ky.jpg" alt="ååœ¨æ ‘ä¸Šçš„ç¾å¥³å®‹ä»ä½• ç»¿è‰²è£™å­ ç¾è…¿ æŠ¤çœ¼æ£®ç³»"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>springboot</tag>
      
      <tag>httptrace</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä»£ç å¦‚è¯—</title>
    <link href="/2022/01/26/gossip-06/"/>
    <url>/2022/01/26/gossip-06/</url>
    
    <content type="html"><![CDATA[<p>ä»£ç å¦‚è¯—ï¼Œåªæœ‰æ‡‚ï¼Œæ‰èƒ½äº†è§£ï¼Œè¿›è€Œæ‰èƒ½æ¬£èµã€‚æ²¡äº‹çš„æ—¶å€™è¯»äº†è¯»Javaç¼–ç¨‹æ€æƒ³è¿™æœ¬ä¹¦ï¼Œæƒ³èµ·è‡ªå·±ä»¥å‰å¯¹ç¼–ç¨‹æ€æƒ³è¿™ä¸œè¥¿ä¸æ€ä¹ˆåœ¨ä¹ï¼Œç‹‚å¦„ä¸”å‚²æ…¢çš„è®¤ä¸ºåªéœ€è¦å®ç°åŠŸèƒ½å°±å¯ä»¥äº†ï¼Œä½†ä¸å¾—ä¸è¯´ï¼Œç¡®å®èƒ½å®ç°åŠŸèƒ½ï¼Œä½†å¦‚æœä½ ä¸€ç›´æ˜¯è¿™ç§å¿ƒæ€ï¼Œä½ å†™ä¸å‡ºä»€ä¹ˆå¤šå¤§çš„é¡¹ç›®ï¼Œæˆ–è€…è¯´ï¼Œæ²¡æœ‰åŠæ³•å…»æˆæ¶æ„çš„æ€æƒ³ã€‚åªèƒ½è§£å†³è§£å†³è¾¹è§’æ–™é—®é¢˜ï¼Œå½“ç„¶ï¼Œè§£å†³è¾¹è§’æ–™é—®é¢˜ï¼Œä¹Ÿæ˜¯æœ‰å·¥èµ„çš„ï¼Œä¹Ÿæ˜¯èƒ½åƒé¥­çš„ï¼Œä½†å°±æ„Ÿè§‰å·®äº†é‚£ä¹ˆä¸€ç‚¹ç‚¹ã€‚</p><p>é˜…è¯»ä»£ç æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼Œæ€ä¹ˆå†™å‡ºå¥½æ–‡ç« ï¼Œå¤šè¯»ä¹¦å˜›ï¼Œä»£ç ä¹Ÿæ˜¯è¿™ä¸ªé“ç†å˜›ï¼Œå¤šçœ‹ï¼Œå¤šæƒ³å˜›ï¼Œçœ‹çœ‹ä¼˜ç§€æ¡†æ¶å¦‚ä½•ä¿è¯ä»£ç è‡ªç”±çš„æƒ…å†µä¸‹å°½å¯èƒ½çš„æ–¹ä¾¿ä½¿ç”¨ï¼ŒåŒæ—¶åˆå…¼é¡¾ç€ä»£ç è§„èŒƒã€‚</p><p>é˜…è¯»æ–‡æ¡£åŒé˜…è¯»ä»£ç ï¼Œæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ç¼–ç ä¹ æƒ¯ã€‚å¾ˆå¤šäººå°±æ˜¯ä¸çœ‹æ–‡æ¡£ï¼Œå°¤å¤§çš„ç»å…¸è¨€è®ºï¼Œå°±æ˜¯ä¸çœ‹æ–‡æ¡£ï¼Œå¾ˆå¤šåŠŸèƒ½ï¼Œæˆ–è€…å®Œæˆéœ€æ±‚çš„æ–¹å¼æ–‡æ¡£é‡Œé¢æ˜¯æœ‰ä»‹ç»çš„ï¼Œé˜…è¯»æ–‡æ¡£å’Œä»£ç å®é™…ä¸Šæ˜¯ä¸€ç§ä»£ç å‚¨å¤‡ã€‚</p><p>è¶Šæ¥è§¦åº•å±‚ï¼Œèƒ½è§£å†³çš„é—®é¢˜å°±è¶Šå¤šã€‚å¤§é“è‡³ç®€ã€‚åœ¨äº«å—springbootå¸¦æ¥çš„ä¾¿åˆ©æ—¶ï¼Œä¸€ä¸ªå¤šæ•°æ®æºçš„éœ€æ±‚å®ç°èµ·æ¥å´å˜çš„ååˆ†éº»çƒ¦äº†èµ·æ¥ï¼Œè€ŒåŸå§‹çš„JDBCï¼Œå‹æ ¹å°±ä¸éœ€è¦å¤šæ•°æ®æºè¿™ä¸ªæ¦‚å¿µï¼ŒJDBCä¸­ä¸€ä¸ªDataSourceå°±æ˜¯ä¸€ä¸ªæ•°æ®æºï¼Œæˆ‘ä¹Ÿå¹¶ä¸æ˜¯æå€¡ä½¿ç”¨åŸå§‹çš„ä¸œè¥¿ï¼Œå› ä¸ºæ•ˆç‡ç¡®å®æ¯”è¾ƒä½ï¼Œæˆ‘éœ€è¦äº†è§£è¿™ä¸ªæ¦‚å¿µï¼Œå¤šæ•°æ®æºï¼Œæœ¬è´¨ä¸Šå°±æ˜¯åˆ›å»ºå¤šä¸ªDataSourceã€‚å†è¯´å›springï¼Œæ¦‚å¿µåœ¨æä¸€å˜´ï¼Œå®ç°äº†AOPçš„ä¸€ä¸ªè½»é‡åŒ–Beanå®¹å™¨ã€‚AOPå°±æ˜¯å„ç§æ¡†æ¶çš„çµé­‚ï¼ŒAOPä¾é çš„æ˜¯ä»€ä¹ˆï¼Ÿåå°„ã€‚å¥½äº†ï¼Œé€šè¿‡æ³¨è§£æ¥ä½¿ç”¨å¤šæ•°æ®æºçš„ä»£ç é›å½¢ä»¥åŠåœ¨è„‘æµ·é‡Œäº†ï¼Œåˆ©ç”¨AOPçš„å‰ç½®åœ¨æ–¹æ³•æ‰§è¡Œå‰ï¼Œæ›¿æ¢DataSourceï¼Œæœ¬è´¨å°±æ˜¯è¿™æ ·ï¼Œå…·ä½“å®ç°ä»ç„¶éœ€è¦è€ƒè™‘å¾ˆå¤šç»†èŠ‚ï¼Œåªæ˜¯ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œä¸åšæ·±ç©¶ã€‚</p><p>åœ¨èŠæ•°æ®æºï¼Œè¿è¡Œæ—¶å¯¹æ•°æ®æºè¿›è¡Œå˜åŠ¨è¿™ä¸ªéœ€æ±‚ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•å®Œæˆã€‚åœ¨ä¸é‡å¯é¡¹ç›®çš„æƒ…å†µä¸‹ï¼Œå¢åˆ æˆ–è€…ä¿®æ”¹æ•°æ®æºã€‚æˆ‘ä¹Ÿæ˜¯å‡ºäºæ–°å¥‡ï¼Œä»¥å‰æ²¡äº†è§£è¿‡ï¼Œæ•°æ®æºè¿˜èƒ½è¿™ä¹ˆç©ï¼Œæ„Ÿè§‰å°±è´¼å¥½ç”¨äº†ä¸”å¼ºå¤§äº†ï¼Œè™½ç„¶å®é™…ä¸­å¯èƒ½ç”¨åˆ°çš„æœºä¼šä¸å¤šï¼Œä½†è¿™ä¸œè¥¿æ€ä¹ˆè¯´å‘¢ï¼Œè™½è¯´ä¹°èœç”¨ä¸ä¸Šå¾®ç§¯åˆ†ï¼Œä½†æ˜¯å§ï¼Œæˆ‘ä¼šå¾®ç§¯åˆ†ä¹°èœæ˜¯ä¸æ˜¯å¯ä»¥æ¯”åˆ«äººç¡¬æ°”ä¸€ç‚¹ï¼ŒğŸ˜‚ğŸ˜‚ğŸ˜‚</p><p>åªæ˜¯ç®€å•èŠä¸€èŠï¼Œåœ¨ä¸ºåç»­çš„åšå®¢å†™ä¸‹ä¸€ä¸ªä¼ç¬”ï¼Œå¤šæ•°æ®æºä»¥åŠåŠ¨æ€å¢åˆ æ”¹æ•°æ®æºã€‚å·¥ä½œä¸­ç”¨çš„æŠ€æœ¯éƒ½è¿‡äºåº•å±‚ï¼ˆè½åï¼‰åè€Œå¸®åŠ©äº†æˆ‘äº†è§£äº†å¾ˆå¤šä»¥å‰æ²¡æœ‰æƒ³è¿‡çš„ä¸œè¥¿ï¼Œè¯´Javaçš„ç½‘ç»œç¼–ç¨‹ï¼Œäº†è§£çš„äººä¸å¤šï¼Œå¯å¦‚æœè¯´Webç¼–ç¨‹ï¼Œå•Šï¼Œé‚£è¿™æˆ‘ä¼šï¼Œæ®Šä¸çŸ¥åŸºäºServletçš„Httpåè®®åªæ˜¯Javaç½‘ç»œç¼–ç¨‹çš„ä¸€ä¸ªå­åˆ†æ”¯ï¼Œè¯´ç™½äº†å°±æ˜¯ä¸€ç§ç‰¹æ®Šçš„ä¸”è¢«å¤§å®¶éµå®ˆçš„ä¸€ä¸ªSocketé€šä¿¡åè®®ã€‚</p><p>Unixç³»ç»Ÿä¸­æœ‰ä¸€ä¸ªç†å¿µï¼Œä¸‡ç‰©çš†æ–‡ä»¶ï¼Œä½ å¯¹æ­¤æ¦‚å¿µç†è§£æœ‰å‡ åˆ†ã€‚æˆ‘æ˜¯å­¦Javaå…¥é—¨çš„ï¼Œé¢å‘å¯¹è±¡çš„Javaå¸®æˆ‘ä»¬åšäº†å¾ˆå¤šçš„äº‹ï¼Œç»å…¸çš„å°±æ˜¯æŠŠä¸‡ç‰©çš†æ–‡ä»¶ï¼Œå˜æˆäº†ä¸‡ç‰©çš†å¯¹è±¡ã€‚è¯·æƒ³ä¸€æƒ³è¿™æ˜¯ä½•ç­‰å£®ä¸¾ã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gyrfsbigf3j32yo1o0kjl.jpg" alt="è¥¿åŸŸç¾å¥³"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¯·æ±‚ç¬¬ä¸‰æ–¹æ¥å£çš„å„ç§å§¿åŠ¿</title>
    <link href="/2022/01/16/java-08/"/>
    <url>/2022/01/16/java-08/</url>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å†™äº†ä¸€äº›è¯·æ±‚ç¬¬ä¸‰æ–¹æ¥å£çš„éœ€æ±‚ï¼ŒåŸºäºhttpåè®®çš„æ¥å£ï¼Œå®é™…ä¸Šå†™èµ·æ¥å¹¶ä¸éº»çƒ¦ï¼Œå› ä¸ºå°±ä¸‰ä¸ªæ ¸å¿ƒè¦ç´ ï¼Œåœ°å€ï¼Œè¯·æ±‚æ–¹å¼ï¼Œè¯·æ±‚å†…å®¹ã€‚åœ°å€ä»–ä»¬ç»™çš„æ˜¯ä»€ä¹ˆåœ°å€å°±æ˜¯ä»€ä¹ˆåœ°å€ï¼Œæ²¡æœ‰å˜æ•°ï¼Œè¯·æ±‚æ–¹å¼æ˜¯å†™æ­»çš„ï¼Œå¤æ‚ä¸”å®¹æ˜“å‡ºé”™çš„åœ°æ–¹å°±æ˜¯è¯·æ±‚å†…å®¹ï¼Œä¸åŒçš„è¯·æ±‚æ–¹å¼åˆæœ‰ä¸åŒçš„ä¼ å‚æ–¹å¼ã€‚è¯·æ±‚å†…å®¹æ˜¯JSONæ•°æ®è¿˜æ˜¯è¡¨å•æ•°æ®ï¼Œç­‰ç­‰ï¼Œæœ‰æ—¶å› ä¸ºæä¾›æ¥å£çš„å¼€å‘è€…æè¿°ä¸å‡†ç¡®ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬æ€ä¹ˆåŠå‘¢ï¼Œå¾ˆç®€å•çš„ä¸€ä¸ªä¸€ä¸ªè¯•ï¼ŒåŸºæœ¬ä¸Šåªéœ€è¦è¯•ä¸¤åˆ°ä¸‰ä¸‹å°±èƒ½è§£å†³é—®é¢˜ã€‚ä½ é—®äººæ˜¯è¡¨å•æ•°æ®è¿˜æ˜¯JSONæ•°æ®å¯èƒ½ä»–ä»¬è‡ªå·±ä¹Ÿè¯´ä¸æ¸…æ¥šï¼Œå› ä¸ºè¿™ä¸ªè¡¨å•æ•°æ®çš„æ•°æ®æ ¼å¼æˆ‘ä¹Ÿä¸çŸ¥é“å®˜æ–¹çš„å«æ³•æ˜¯ä»€ä¹ˆï¼Œè¡¨å•æ•°æ®ï¼Œæ˜¯æˆ‘è‡ªå·±çš„ç†è§£ï¼Œæ„ä¹‰å¯èƒ½å°±æ˜¯ä¸ºäº†åŒºåˆ†ä¸æ˜¯JSONæ•°æ®ï¼Œæœ‰è¿™ä¸ªé—®çš„æ—¶é—´ï¼Œä½ å·²ç»è¯•å‡ºæ¥äº†ã€‚å› ä¸ºå°±è¿™ä¸‰ç§æ•°æ®ï¼Œè¿˜æœ‰ä¸€ç§æ•°æ®æ˜¯ä¸Šä¼ çš„æ–‡ä»¶æ•°æ®ï¼Œé™¤å»æ–‡ä»¶æ•°æ®å°±ä¸¤ç§æ•°æ®ã€‚getè¯·æ±‚åªèƒ½å‘é€è¡¨å•æ•°æ®ï¼Œpostèƒ½å‘é€è¡¨å•æ•°æ®ï¼Œä¹Ÿèƒ½å‘é€jsonæ•°æ®ï¼Œä¸€èˆ¬postç”¨çš„å¤šã€‚æ‰€ä»¥è®°ä½è¿™ä¸¤ç§ä¼ å‚æ–¹å¼å°±å¯ä»¥äº†ã€‚</p><p>å®é™…æ“ä½œä¸­ä½¿ç”¨äº†hutoolè¿™ä¸ªå·¥å…·ç±»ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç”¨å¤§å®¶æ›´ä¸ºç†ŸçŸ¥ä¸€ç‚¹çš„okhttpè¿™ä¸ªhttpå·¥å…·ï¼Œèåœé’èœéƒ½èƒ½å†™ï¼Œåªä¸è¿‡æˆ‘æ„Ÿè§‰hutoolæä¾›çš„å·¥å…·ä»£ç æ¯”è¾ƒç®€æ´ä¹Ÿä¾¿äºç†è§£ã€‚</p><p>ä¾èµ–</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">implementation<span class="token punctuation">(</span><span class="token string">'cn.hutool:hutool-all:5.7.19'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>å®é™…æ“ä½œä»£ç </p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// å‘èµ·getè¯·æ±‚ï¼Œå¹¶è·å–è¿”å›å†…å®¹</span><span class="token class-name">String</span> body <span class="token operator">=</span> <span class="token class-name">HttpRequest</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span> <span class="token comment">// è¯·æ±‚æ–¹å¼ï¼Œä»¥åŠurl</span>        <span class="token punctuation">.</span><span class="token function">form</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"å°çº¢"</span><span class="token punctuation">)</span><span class="token comment">// å‚æ•°ï¼Œé‡å¤è°ƒç”¨å³å¯</span>        <span class="token punctuation">.</span><span class="token function">form</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token string">"24"</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è·å–bodyå†…å®¹</span><span class="token comment">// å‘èµ·postè¯·æ±‚å‘é€è¡¨å•æ•°æ®ï¼Œå¹¶è·å–è¿”å›æ•°æ®</span><span class="token class-name">String</span> body1 <span class="token operator">=</span> <span class="token class-name">HttpRequest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"utl"</span><span class="token punctuation">)</span> <span class="token comment">// postè¯·æ±‚</span>        <span class="token punctuation">.</span><span class="token function">form</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"å°çº¢"</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">form</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token string">"24"</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å‘é€postè¯·æ±‚å¹¶å‘é€JSONæ•°æ®ï¼Œå¹¶è·å–è¿”å›ä¿¡æ¯</span><span class="token class-name">String</span> body2 <span class="token operator">=</span> <span class="token class-name">HttpRequest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token class-name">JSONUtil</span>                <span class="token punctuation">.</span><span class="token function">createObj</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"å°çº¢"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span><span class="token string">"24"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å¦‚æœç¡®è®¤ä¼ é€’çš„å‚æ•°æ²¡æœ‰é—®é¢˜ï¼Œä¸€ä¸ªä¸€ä¸ªè¯•åŸºæœ¬å°±èƒ½è§£å†³é—®é¢˜ã€‚å¦‚æœè¿˜æœ‰ç‰¹æ®Šçš„éœ€æ±‚ï¼Œé˜…è¯»æºç ï¼Œå»ºè®®ç›´æ¥çœ‹æºç ï¼Œæ³¨é‡Šéƒ½æ˜¯ä¸­æ–‡çš„ï¼Œä½¿ç”¨èµ·æ¥åŸºæœ¬æ²¡æœ‰ä»»ä½•éšœç¢ã€‚<a href="https://www.hutool.cn/docs/#/http/Http%E8%AF%B7%E6%B1%82-HttpRequest">å®˜ç½‘æ–‡æ¡£åœ°å€</a></p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gyfnlrsvuyj32yo1o0kjl.jpg" alt="æµ·ç´çƒŸ åŒäºº"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>http</tag>
      
      <tag>hu-tool</tag>
      
      <tag>api</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºJavaç¨‹åºçš„æ—¥å¿—å¤„ç†</title>
    <link href="/2022/01/05/java-07/"/>
    <url>/2022/01/05/java-07/</url>
    
    <content type="html"><![CDATA[<p>æ—¥å¿—è®°å½•è¿™å—ï¼Œç®€å•çš„æ§åˆ¶å°æ‰“å°ä¹Ÿæ˜¯æ—¥å¿—ï¼Œè¾“å‡ºlogæ–‡ä»¶ä¹Ÿæ˜¯æ—¥å¿—ï¼Œè·¨æœåŠ¡å™¨è¾“å‡ºæ—¥å¿—ï¼Œä¹Ÿæ˜¯æ—¥å¿—ã€‚è¿™è¿˜æ²¡è¯´å¤æ‚çš„æ—¥å¿—ç›‘æ§ï¼Œæ—¥å¿—ç›‘æ§ï¼Œéœ€è¦å¯¹ä»£ç æ‰“å°æ—¥å¿—çš„æ ‡å‡†æœ‰è¦æ±‚ã€‚è¿™ä¸ªå°±æ¯”è¾ƒå¤æ‚äº†ï¼Œ</p><p>é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ï¼Œæ—¥å¿—æ˜¯æœ‰çº§åˆ«çš„ï¼Œlog4j,æˆ‘è®°å¾—å¥½åƒæœ‰7ä¸ªçº§åˆ«ï¼Œslf4jï¼Œæœ‰äº”ä¸ªçº§åˆ«ã€‚é¦–å…ˆæˆ‘ä»¬å¾—çŸ¥é“log4jå’Œslf4jæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œä¸ºå•¥æŠŠè¿™ä¸¤ä¸ªæ”¾åœ¨ä¸€èµ·è¯´ã€‚é¢˜å¤–è¯è¯´ä¸€ä¸‹å‘½åï¼Œè¿™ä¸ª4jåº”è¯¥ä¸å°‘äººæœ‰ç–‘é—®ï¼Œå› ä¸ºè¿™ä¸œè¥¿ä¸ç¬¦åˆJavaçš„é©¼å³°å‘½åè§„åˆ™å•Šï¼Œä¸ºå•¥è¦èµ·è¿™ä¸ªåå‘¢ï¼Œå¥½å§ï¼Œå…¶å®å°±æ˜¯For Javaçš„éŸ³è¯‘åŠ ç¼©å†™ã€‚æ®è¯´æ˜¯ä¼ ç»Ÿï¼Œæ¯”å¦‚ä»€ä¹ˆdom4jç­‰ç­‰ã€‚è¿™ä¸ªçº§åˆ«æ˜¯ç”¨æ¥æ§åˆ¶æ—¥å¿—è¾“å‡ºå†…å®¹çš„ï¼Œä½ è®¾ç½®çš„çº§åˆ«è¶Šé«˜ï¼Œæ‰“å°çš„æ—¥å¿—å°±è¶Šå°‘ï¼Œä½ é…ç½®çº§åˆ«æœ€ä½ï¼Œåˆ™æ‰“å°å…¨éƒ¨çº§åˆ«çš„æ—¥å¿—ã€‚å‡†ç¡®æ¥è¯´æ˜¯åŒ…å«å…³ç³»ï¼Œå°±åƒä¸€ä¸ªé‡‘å­—å¡”ç»“æ„ä¸€æ ·ã€‚</p><p>è¿˜æœ‰Log4jå’ŒSlf4jè¿™ä¸¤ä¸ªå¹¶ä¸è´Ÿè´£è¾“å‡ºæ—¥å¿—ï¼Œå‡†ç¡®çš„è¯´è¿™ä¸¤ä¸ªæ˜¯Javaæ—¥å¿—çš„é—¨é¢ï¼Œåˆæˆ–è€…æ˜¯æ ‡å‡†ï¼Œé—¨é¢æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå°±æ˜¯æœåŠ¡å‘˜ï¼Œä½ å»åƒé¥­ï¼Œåªéœ€è¦å’ŒæœåŠ¡å‘˜è¯´ï¼Œæˆ‘è¦ä¸€ç¢—è›‹ç‚’é¥­ã€‚è‡³äºæœåŠ¡å‘˜å»æ‰¾å“ªä¸ªå¨å¸ˆå¸®ä½ åšï¼Œä½ ä¸ç”¨ç®¡ï¼Œè¿™ä¸¤ä¸ªä¸œè¥¿ä¹Ÿæ˜¯ä¸€æ ·ï¼Œä½ å’Œslf4jè¯´ï¼Œæˆ‘è¦æ‰“å°æ—¥å¿—ï¼Œslf4jå¾—å»æ‰¾å®ç°ç»™ä½ æ‰“å°æ—¥å¿—ï¼Œä½†æ˜¯åªæœ‰slf4jæ˜¯æ²¡æœ‰åŠæ³•ç»™ä½ æ‰“å°æ—¥å¿—çš„ã€‚è¿™ä¸ªæ—¶å€™ä½ å°±éœ€è¦å»æ‰¾ä¸€ä¸ªå¨å¸ˆï¼Œå°±æ˜¯å®ç°ã€‚logbackæ˜¯ç›´æ¥å®ç°äº†slf4jçš„ä¸€ä¸ªæ—¥å¿—å®ç°ã€‚å¥½äº†ã€‚åº”è¯¥è¯´æ˜ç™½äº†ã€‚</p><p>å®é™…ä¸Š<a href="https://logback.qos.ch/">logbackå®˜ç½‘</a>ä¸Šæ˜¯æœ‰ååˆ†è¯¦ç»†çš„ä»‹ç»ï¼Œå°¬å°±å°¬åœ¨ï¼Œæ˜¯è‹±æ–‡æ–‡æ¡£ã€‚</p><h2 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h2><p>æ™®é€šçš„Javaé¡¹ç›®</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">implementation <span class="token string">'ch.qos.logback:logback-classic:1.2.10'</span>implementation <span class="token string">'ch.qos.logback:logback-core:1.2.10'</span>implementation <span class="token string">'org.slf4j:slf4j-api:1.7.32'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p>springbootä¸­æ— éœ€æ­¤ä¾èµ–ï¼Œé»˜è®¤çš„æ—¥å¿—å°±æ˜¯lagbackã€‚</p><h2 id="é…ç½®æ–‡ä»¶ä»‹ç»"><a href="#é…ç½®æ–‡ä»¶ä»‹ç»" class="headerlink" title="é…ç½®æ–‡ä»¶ä»‹ç»"></a>é…ç½®æ–‡ä»¶ä»‹ç»</h2><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?></span><span class="token comment">&lt;!--    configurationèŠ‚ç‚¹æœ‰ä¸‰ä¸ªå±æ€§    scan:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œé…ç½®æ–‡ä»¶å¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œå°†ä¼šè¢«é‡æ–°åŠ è½½ï¼Œé»˜è®¤å€¼ä¸ºtrue    scanPeriod:è®¾ç½®ç›‘æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹çš„æ—¶é—´é—´éš”ï¼Œå¦‚æœæ²¡æœ‰ç»™å‡ºæ—¶é—´å•ä½é»˜è®¤å•ä½æ˜¯æ¯«ç§’ï¼Œå½“scanä¸ºtrueæ—¶æ­¤å±æ€§ç”Ÿæ•ˆï¼Œé»˜è®¤æ—¶é—´é—´éš”ä¸º1åˆ†é’Ÿ    debug:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡ºlogbackå†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ï¼Œé»˜è®¤å€¼ä¸ºfalse --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span> <span class="token attr-name">scan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">scanPeriod</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2 seconds<span class="token punctuation">"</span></span> <span class="token attr-name">debug</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--         è®¾ç½®ä¸Šä¸‹æ–‡åç§°ï¼Œæ¯ä¸ª&lt;logger>éƒ½å…³è”åˆ°&lt;logger>ä¸Šä¸‹æ–‡ï¼Œé»˜è®¤ä¸Šä¸‹æ–‡åç§°ä¸ºdefault,ä½†å¯ä»¥ä½¿ç”¨è®¾ç½®æˆå…¶ä»–åå­—ï¼Œç”¨äºåŒºåˆ†ä¸åŒåº”ç”¨ç¨‹åºçš„è®°å½•,ä¸€æ—¦è®¾ç½®ï¼Œä¸èƒ½ä¿®æ”¹,å¯ä»¥é€šè¿‡ %contextName æ¥æ‰“å°æ—¥å¿—ä¸Šä¸‹æ–‡åç§°ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬ä¸ç”¨è¿™ä¸ªå±æ€§ï¼Œå¯æœ‰å¯æ— ã€‚     --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>contextName</span><span class="token punctuation">></span></span>demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>contextName</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--         ç”¨æ¥å®šä¹‰å˜é‡çš„èŠ‚ç‚¹ï¼Œå®šä¹‰å˜é‡åï¼Œå¯ä»¥ä½¿$&#123;&#125;æ¥ä½¿ç”¨å˜é‡,ä¸¤ä¸ªå±æ€§        è¿™ä¸ªå±æ€§åªæœ‰åœ¨springbootç¯å¢ƒä¸­ä½¿ç”¨æ‰å¯ä»¥ï¼Œä¸”é…ç½®æ–‡ä»¶åè¦ä¸ºlogback-spring.xmlæ‰å¯æ­£å¸¸ä½¿ç”¨ã€‚        name: å’Œä¸‹æ–‡ä¸­çš„nameä¸€æ ·        scopeï¼šä¸€èˆ¬å°±å¡«contextå°±è¡Œäº†ï¼Œå…·ä½“é…ç½®å¯æŸ¥çœ‹å®˜ç½‘        source: è¯»å–application.ymlæˆ–application.propertiesæ–‡ä»¶ä¸­çš„é…ç½®ï¼Œ     --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProperty</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>context<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app_name<span class="token punctuation">"</span></span> <span class="token attr-name">source</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logging.file.name<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token comment">&lt;!--         ç”¨æ¥å®šä¹‰å˜é‡çš„èŠ‚ç‚¹ï¼Œå®šä¹‰å˜é‡åï¼Œå¯ä»¥ä½¿$&#123;&#125;æ¥ä½¿ç”¨å˜é‡,ä¸¤ä¸ªå±æ€§,å½“å®šä¹‰äº†å¤šä¸ª&lt;appender>çš„æ—¶å€™è¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ï¼š        nameï¼šå˜é‡å        valueï¼šå˜é‡å€¼     --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>log.dir<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logs<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token comment">&lt;!--    å®šä¹‰æ»šåŠ¨è®°å½•æ–‡ä»¶appender ä½œç”¨:æ»šåŠ¨è®°å½•æ–‡ä»¶,å…ˆå°†æ—¥å¿—è®°å½•åˆ°æŒ‡å®šæ–‡ä»¶,å½“ç¬¦åˆæŸä¸ªæ¡ä»¶æ—¶,å°†æ—¥å¿—è®°å½•åˆ°å…¶ä»–æ–‡ä»¶    RollingFileAppender class="ch.qos.logback.core.rolling.RollingFileAppender"        å‚æ•°ï¼š        &lt;append>:å¦‚æœæ˜¯trueæ—¥å¿—è¢«è¿½åŠ åˆ°æ–‡ä»¶ç»“å°¾ï¼Œå¦‚æœæ˜¯falseæ¸…ç©ºç°å­˜æ–‡ä»¶,é»˜è®¤æ˜¯true        &lt;fileNamePattern>:è¢«å†™å…¥çš„æ–‡ä»¶åï¼Œå¯ä»¥æ˜¯ç›¸å¯¹ç›®å½•ä¹Ÿå¯ä»¥æ˜¯ç»å¯¹ç›®å½•ï¼Œå¦‚æœä¸Šçº§ç›®å½•ä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œæ²¡æœ‰é»˜è®¤å€¼        &lt;rollingPolicy>:å½“å‘ç”Ÿæ»šåŠ¨æ—¶ï¼Œå†³å®šRollingFileAppenderçš„è¡Œä¸ºï¼Œæ¶‰åŠæ–‡ä»¶ç§»åŠ¨å’Œé‡å‘½å        &lt;triggeringPolicy>:å‘ŠçŸ¥RollingFileAppenderåˆé€‚æ¿€æ´»æ»šåŠ¨        &lt;prudent>:å½“ä¸ºtrueæ—¶ä¸æ”¯æŒFixedWindowRollingPolicyæ”¯æŒTimeBasedRollingPolicyï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªé™åˆ¶:1ä¸æ”¯æŒä¹Ÿä¸å…è®¸æ–‡ä»¶å‹ç¼©,2ä¸èƒ½è®¾ç½®fileå±æ€§å¿…é¡»ç•™ç©º    --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- å¦‚æœæ˜¯true,æ—¥å¿—è¢«è¿½åŠ åˆ°æ–‡ä»¶ç»“å°¾ï¼Œå¦‚æœæ˜¯false,æ¸…ç©ºç°å­˜æ–‡ä»¶.é»˜è®¤æ˜¯true --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>append</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>append</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prudent</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prudent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.TimeBasedRollingPolicy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- æ¯å¤©æ»šåŠ¨ä¸€æ¬¡çš„æ—¥å¿— åªä¿ç•™30å¤©å†…çš„æ—¥å¿—æ–‡ä»¶ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">></span></span>logs/%d&#123;yyyy-MM-dd&#125;/info%i.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxHistory</span><span class="token punctuation">></span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxHistory</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>timeBasedFileNamingAndTriggeringPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxFileSize</span><span class="token punctuation">></span></span>10MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxFileSize</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>timeBasedFileNamingAndTriggeringPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.encoder.PatternLayoutEncoder<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- å¯¹æ—¥å¿—è¿›è¡Œæ ¼å¼åŒ– --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date %level [%thread] %logger&#123;10&#125;.%class&#123;0&#125;#%method[%file:%line] %n%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">></span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>errorAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prudent</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prudent</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--æ—¥å¿—åç§°ï¼Œå¦‚æœæ²¡æœ‰File å±æ€§ï¼Œé‚£ä¹ˆåªä¼šä½¿ç”¨FileNamePatternçš„æ–‡ä»¶è·¯å¾„è§„åˆ™            å¦‚æœåŒæ—¶æœ‰&lt;File>å’Œ&lt;FileNamePattern>ï¼Œé‚£ä¹ˆå½“å¤©æ—¥å¿—æ˜¯&lt;File>ï¼Œæ˜å¤©ä¼šè‡ªåŠ¨æŠŠä»Šå¤©            çš„æ—¥å¿—æ”¹åä¸ºä»Šå¤©çš„æ—¥æœŸã€‚å³ï¼Œ&lt;File> çš„æ—¥å¿—éƒ½æ˜¯å½“å¤©çš„ã€‚        --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span><span class="token punctuation">></span></span>logs/error.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>File</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>append</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>append</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--             å½“ä¸ºtrueæ—¶ä¸æ”¯æŒFixedWindowRollingPolicyæ”¯æŒTimeBasedRollingPolicyï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªé™åˆ¶:1ä¸æ”¯æŒä¹Ÿä¸å…è®¸æ–‡ä»¶å‹ç¼©,2ä¸èƒ½è®¾ç½®fileå±æ€§å¿…é¡»ç•™ç©º         --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prudent</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prudent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.TimeBasedRollingPolicy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">></span></span>logs/%d&#123;yyyy-MM-dd&#125;/error%i.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxHistory</span><span class="token punctuation">></span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxHistory</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>timeBasedFileNamingAndTriggeringPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxFileSize</span><span class="token punctuation">></span></span>10MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxFileSize</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>timeBasedFileNamingAndTriggeringPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date %level [%thread] %logger&#123;10&#125;.%class&#123;0&#125;#%method[%file:%line] %n%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">></span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--             é…ç½®æ—¥å¿—çº§åˆ«è¿‡æ»¤å™¨ ä½œç”¨:æ ¹æ®æ—¥å¿—çº§åˆ«è¿›è¡Œè¿‡æ»¤ï¼Œå¦‚æœæ—¥å¿—çº§åˆ«ç­‰äºé…ç½®çº§åˆ«è¿‡æ»¤å™¨ä¼šæ ¹æ®onMathå’ŒonMismatchæ¥æ”¶æˆ–æ‹’ç»æ—¥å¿—             å‚æ•°:             &lt;level>:è®¾ç½®è¿‡æ»¤çº§åˆ«             &lt;onMatch>:ç”¨äºé…ç½®ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æ“ä½œ             &lt;onMismatch>:ç”¨äºé…ç½®ä¸ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æ“ä½œ                                       æ­¤å¤„é…ç½®ä¸ºåªæ¥æ”¶ERRORæ—¥å¿—çº§åˆ«ä¿¡æ¯         --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.filter.LevelFilter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span><span class="token punctuation">></span></span>ERROR<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>level</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onMatch</span><span class="token punctuation">></span></span>ACCEPT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>onMatch</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onMismatch</span><span class="token punctuation">></span></span>DENY<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>onMismatch</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- å®šä¹‰æ§åˆ¶å°appender ä½œç”¨:æŠŠæ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å° class="ch.qos.logback.core.ConsoleAppender" --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>console<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.PatternLayout<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date %level [%thread] %logger&#123;10&#125;.%class&#123;0&#125;#%method[%file:%line] %n%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--       loggerç”¨æ¥è®¾ç½®æŸä¸€ä¸ªåŒ…çš„æ—¥å¿—æ‰“å°çº§åˆ«       &lt;loger> ä»…æœ‰ä¸€ä¸ªnameå±æ€§,ä¸€ä¸ªå¯é€‰çš„levelå’Œä¸€ä¸ªå¯é€‰çš„addtivityå±æ€§               name:ç”¨æ¥æŒ‡å®šå—æ­¤logerçº¦æŸçš„æŸä¸€ä¸ªåŒ…æˆ–è€…å…·ä½“çš„æŸä¸€ä¸ªç±»               level:ç”¨æ¥è®¾ç½®æ‰“å°çº§åˆ«,å¤§å°å†™æ— å…³:TRACE, DEBUG, INFO, WARN, ERROR, ALL å’Œ OFF               addtivity:æ˜¯å¦å‘ä¸Šçº§logerä¼ é€’æ‰“å°ä¿¡æ¯ã€‚é»˜è®¤æ˜¯true,ä¼šå°†ä¿¡æ¯è¾“å…¥åˆ°rooté…ç½®æŒ‡å®šçš„åœ°æ–¹,å¯ä»¥åŒ…å«å¤šä¸ªappender-refï¼Œæ ‡è¯†è¿™ä¸ªappenderä¼šæ·»åŠ åˆ°è¿™ä¸ªlogger   --></span>    <span class="token comment">&lt;!--    &lt;logger name="com.xcbeyond.springboot" level="debug"/>--></span>    <span class="token comment">&lt;!-- å°†rootçš„æ‰“å°çº§åˆ«è®¾ç½®ä¸º"error",æŒ‡å®šäº†åå­—ä¸º"console","fileAppender","errorAppender"çš„appender --></span>    <span class="token comment">&lt;!--         springProfileæ ‡ç­¾ç”¨æ¥å¤„ç†å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„ä¸åŒé…ç½®        name: è¯»å–spring.profiles.activeçš„å€¼        profileå³æ ¹æ®ä¸åŒçš„ç¯å¢ƒä½¿ç”¨ä¸åŒçš„æ—¥å¿—ç­–ç•¥ï¼Œè¿™é‡Œä¸¾ä¾‹å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒï¼š     --></span>     <span class="token comment">&lt;!-- å¼€å‘ç¯å¢ƒè¾“å‡ºåˆ°æ§åˆ¶å° --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProfile</span>  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dev<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>DEBUG<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>STDOUT<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>springProfile</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- ç”Ÿäº§ç¯å¢ƒè¾“å‡ºåˆ°æ–‡ä»¶ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProfile</span>  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prod<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>INFO<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>FILE_LOG<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>springProfile</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>debug<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>console<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileAppender<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>errorAppender<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>åº”è¯¥æ˜¯ä»‹ç»çš„æ¯”è¾ƒè¯¦ç»†äº†ï¼Œå› ä¸ºè¿™ä¸œè¥¿å¹³æ—¶å¾ˆå°‘æœ‰äººå»ä¸“é—¨å»è®°ä¸€ä¸‹ï¼Œæˆ‘ä¹Ÿæ˜¯å¼„å¥½ä¸€å¥—ï¼Œç„¶åCVä¸€ä¸‹å°±å¯ä»¥äº†ï¼Œ<strong>æ³¨æ„ä¸Šé¢çš„é…ç½®åªæ˜¯ç”¨æ¥æ¼”ç¤ºçš„ï¼Œå¹¶ä¸èƒ½ç›´æ¥CVä¸‹æ¥ç”¨ã€‚ä¸‹é¢æˆ‘é…ç½®å‡ ç§å¸¸ç”¨çš„é…ç½®ï¼Œå¯ä»¥ç›´æ¥CVä¸‹æ¥ç”¨çš„ã€‚</strong></p><h2 id="å…¨éƒ¨æ—¥å¿—ä¸€ä¸ªæ–‡ä»¶"><a href="#å…¨éƒ¨æ—¥å¿—ä¸€ä¸ªæ–‡ä»¶" class="headerlink" title="å…¨éƒ¨æ—¥å¿—ä¸€ä¸ªæ–‡ä»¶"></a>å…¨éƒ¨æ—¥å¿—ä¸€ä¸ªæ–‡ä»¶</h2><div class="note note-info">            <p>æ§åˆ¶å°æ‰“å°æ—¥å¿—ï¼Œå¹¶è¾“å‡ºæ—¥å¿—æ–‡ä»¶ã€‚</p>          </div><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--         è¾“å‡ºæ—¥å¿—åˆ°æ§åˆ¶å°    --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>soutAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.PatternLayout<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date %level [%thread] %logger&#123;10&#125;.%class&#123;0&#125;#%method[%file:%line] %n%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--         è¾“å‡ºæ—¥å¿—åˆ°æ–‡ä»¶     --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>append</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>append</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prudent</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prudent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span><span class="token punctuation">></span></span>logs/log.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>File</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.TimeBasedRollingPolicy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">></span></span>logs/%d&#123;yyyy-MM-dd&#125;/log%i.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxHistory</span><span class="token punctuation">></span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxHistory</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>timeBasedFileNamingAndTriggeringPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token comment">&lt;!-- å•ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§ä½“ç§¯ --></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxFileSize</span><span class="token punctuation">></span></span>10MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxFileSize</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>timeBasedFileNamingAndTriggeringPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.encoder.PatternLayoutEncoder<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- å¯¹æ—¥å¿—è¿›è¡Œæ ¼å¼åŒ– --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date %level [%thread] %logger&#123;10&#125;.%class&#123;0&#125;#%method[%file:%line] %n%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">></span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>soutAppender<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileAppender<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="ä¸åŒçº§åˆ«ä¸åŒæ–‡ä»¶"><a href="#ä¸åŒçº§åˆ«ä¸åŒæ–‡ä»¶" class="headerlink" title="ä¸åŒçº§åˆ«ä¸åŒæ–‡ä»¶"></a>ä¸åŒçº§åˆ«ä¸åŒæ–‡ä»¶</h2><div class="note note-info">            <p>æ§åˆ¶å°æ‰“å°å¤ªåŸºç¡€æˆ‘å°±ä¸è¯´äº†ï¼ŒåŠ å¼ºä¸»è¦é’ˆå¯¹logæ–‡ä»¶ï¼Œè¿™ä¸ªé…ç½®æˆ‘ä»¬æŒ‰æ—¥å¿—çº§åˆ«è¾“å‡ºå¯¹åº”çº§åˆ«çš„æ—¥å¿—ã€‚æ–¹ä¾¿æˆ‘ä»¬å®šä½å’ŒæŸ¥æ‰¾ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦infoå’Œerrorçº§åˆ«çš„æ—¥å¿—å³å¯ã€‚</p>          </div><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--         è¾“å‡ºæ—¥å¿—åˆ°æ§åˆ¶å°    --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>soutAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.PatternLayout<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date %level [%thread] %logger&#123;10&#125;.%class&#123;0&#125;#%method[%file:%line] %n%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--         è¾“å‡ºæ—¥å¿—åˆ°æ–‡ä»¶     --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>infoAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- å¦‚æœæ˜¯true,æ—¥å¿—è¢«è¿½åŠ åˆ°æ–‡ä»¶ç»“å°¾ï¼Œå¦‚æœæ˜¯false,æ¸…ç©ºç°å­˜æ–‡ä»¶.é»˜è®¤æ˜¯true --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>append</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>append</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prudent</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prudent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span><span class="token punctuation">></span></span>logs/info.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>File</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.TimeBasedRollingPolicy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">></span></span>logs/%d&#123;yyyy-MM-dd&#125;/info%i.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxHistory</span><span class="token punctuation">></span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxHistory</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>timeBasedFileNamingAndTriggeringPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token comment">&lt;!-- å•ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§ä½“ç§¯ --></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxFileSize</span><span class="token punctuation">></span></span>10MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxFileSize</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>timeBasedFileNamingAndTriggeringPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.encoder.PatternLayoutEncoder<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- å¯¹æ—¥å¿—è¿›è¡Œæ ¼å¼åŒ– --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date %level [%thread] %logger&#123;10&#125;.%class&#123;0&#125;#%method[%file:%line] %n%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">></span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- ä¸¤ä¸ªè¿‡æ»¤å™¨è¿‡æ»¤warnå’ŒerroråŸºæœ¬çš„æ—¥å¿— --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.filter.LevelFilter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--è¿‡æ»¤ WARN--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span><span class="token punctuation">></span></span>WARN<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>level</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--åŒ¹é…åˆ°å°±ç¦æ­¢--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onMatch</span><span class="token punctuation">></span></span>DENY<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>onMatch</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--æ²¡æœ‰åŒ¹é…åˆ°å°±å…è®¸--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onMismatch</span><span class="token punctuation">></span></span>ACCEPT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>onMismatch</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.filter.LevelFilter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--è¿‡æ»¤ Error--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span><span class="token punctuation">></span></span>ERROR<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>level</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--åŒ¹é…åˆ°å°±ç¦æ­¢--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onMatch</span><span class="token punctuation">></span></span>DENY<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>onMatch</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--æ²¡æœ‰åŒ¹é…åˆ°å°±å…è®¸--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onMismatch</span><span class="token punctuation">></span></span>ACCEPT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>onMismatch</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>errorAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- å¦‚æœæ˜¯true,æ—¥å¿—è¢«è¿½åŠ åˆ°æ–‡ä»¶ç»“å°¾ï¼Œå¦‚æœæ˜¯false,æ¸…ç©ºç°å­˜æ–‡ä»¶.é»˜è®¤æ˜¯true --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>append</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>append</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prudent</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prudent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span><span class="token punctuation">></span></span>logs/error.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>File</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.TimeBasedRollingPolicy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">></span></span>logs/%d&#123;yyyy-MM-dd&#125;/error%i.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxHistory</span><span class="token punctuation">></span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxHistory</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>timeBasedFileNamingAndTriggeringPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token comment">&lt;!-- å•ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§ä½“ç§¯ --></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxFileSize</span><span class="token punctuation">></span></span>10MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxFileSize</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>timeBasedFileNamingAndTriggeringPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.encoder.PatternLayoutEncoder<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- å¯¹æ—¥å¿—è¿›è¡Œæ ¼å¼åŒ– --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date %level [%thread] %logger&#123;10&#125;.%class&#123;0&#125;#%method[%file:%line] %n%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">></span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--             è¿‡æ»¤æ—¥å¿—ï¼ŒåªåŒ…å«warnä»¥åŠwarnä»¥ä¸Šçº§åˆ«çš„æ—¥å¿—ä¹Ÿå°±æ˜¯errorçš„æ—¥å¿—         --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.filter.ThresholdFilter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span><span class="token punctuation">></span></span>WARN<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>level</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>soutAppender<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>infoAppender<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>errorAppender<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æœ€ç»ˆç»“æœæ˜¯ä¼šè¾“å‡ºä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œ<code>info.log</code>å’Œ<code>error.log</code>, infoåŒ…æ‹¬infoçº§åˆ«ä»¥åŠä»¥ä¸‹çº§åˆ«çš„æ—¥å¿—ï¼Œ<code>error.log</code>åŒ…æ‹¬<code>warn</code>å’Œ<code>error</code>ä¸¤ä¸ªçº§åˆ«çš„æ—¥å¿—ã€‚</p><h2 id="ä¸åŒåŒ…ä¸åŒæ—¥å¿—æ–‡ä»¶"><a href="#ä¸åŒåŒ…ä¸åŒæ—¥å¿—æ–‡ä»¶" class="headerlink" title="ä¸åŒåŒ…ä¸åŒæ—¥å¿—æ–‡ä»¶"></a>ä¸åŒåŒ…ä¸åŒæ—¥å¿—æ–‡ä»¶</h2><p>æˆ‘ä»¬ä¸€èˆ¬çš„ç³»ç»ŸåŸºæœ¬éƒ½æœ‰å‡ å±‚æ¶æ„ï¼Œæœ‰controllerå±‚ï¼Œä»¥åŠserviceå±‚ï¼Œlogbackå¯ä»¥æ ¹æ®ä¸åŒçš„åŒ…æ¥è¾“å‡ºæ—¥å¿—ï¼Œä¹Ÿå¯ä»¥ç²¾ç¡®åˆ°å…·ä½“çš„æŸä¸€ä¸ªç±»åã€‚ä¸»è¦ä½¿ç”¨<code>logger</code>è¿™ä¸ªæ ‡ç­¾æ¥å®Œæˆã€‚<strong>è¿™ä¸ªæ²¡æœ‰åŠæ³•CVï¼Œå› ä¸ºä¸åŒçš„é¡¹ç›®åŒ…åä¸ä¸€æ ·ï¼Œæ ¹æ®è‡ªå·±çš„é¡¹ç›®éœ€è¦ä¿®æ”¹ä¸€ä¸‹</strong>ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--        è¾“å‡ºæ—¥å¿—åˆ°æ§åˆ¶å°    --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>soutAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.PatternLayout<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date %level [%thread] %logger&#123;10&#125;.%class&#123;0&#125;#%method[%file:%line] %n%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--        è¾“å‡ºæ—¥å¿—åˆ°æ–‡ä»¶     --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>infoAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- å¦‚æœæ˜¯true,æ—¥å¿—è¢«è¿½åŠ åˆ°æ–‡ä»¶ç»“å°¾ï¼Œå¦‚æœæ˜¯false,æ¸…ç©ºç°å­˜æ–‡ä»¶.é»˜è®¤æ˜¯true --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>append</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>append</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prudent</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prudent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span><span class="token punctuation">></span></span>logs/info.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>File</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.TimeBasedRollingPolicy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">></span></span>logs/%d&#123;yyyy-MM-dd&#125;/info%i.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxHistory</span><span class="token punctuation">></span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxHistory</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>timeBasedFileNamingAndTriggeringPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token comment">&lt;!-- å•ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§ä½“ç§¯ --></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxFileSize</span><span class="token punctuation">></span></span>10MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxFileSize</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>timeBasedFileNamingAndTriggeringPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.encoder.PatternLayoutEncoder<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- å¯¹æ—¥å¿—è¿›è¡Œæ ¼å¼åŒ– --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date %level [%thread] %logger&#123;10&#125;.%class&#123;0&#125;#%method[%file:%line] %n%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">></span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.filter.LevelFilter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--è¿‡æ»¤ WARN--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span><span class="token punctuation">></span></span>WARN<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>level</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--åŒ¹é…åˆ°å°±ç¦æ­¢--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onMatch</span><span class="token punctuation">></span></span>DENY<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>onMatch</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--æ²¡æœ‰åŒ¹é…åˆ°å°±å…è®¸--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onMismatch</span><span class="token punctuation">></span></span>ACCEPT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>onMismatch</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.filter.LevelFilter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--è¿‡æ»¤ Error--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span><span class="token punctuation">></span></span>ERROR<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>level</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--åŒ¹é…åˆ°å°±ç¦æ­¢--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onMatch</span><span class="token punctuation">></span></span>DENY<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>onMatch</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--æ²¡æœ‰åŒ¹é…åˆ°å°±å…è®¸--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onMismatch</span><span class="token punctuation">></span></span>ACCEPT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>onMismatch</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>errorAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- å¦‚æœæ˜¯true,æ—¥å¿—è¢«è¿½åŠ åˆ°æ–‡ä»¶ç»“å°¾ï¼Œå¦‚æœæ˜¯false,æ¸…ç©ºç°å­˜æ–‡ä»¶.é»˜è®¤æ˜¯true --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>append</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>append</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prudent</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prudent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span><span class="token punctuation">></span></span>logs/error.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>File</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.TimeBasedRollingPolicy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">></span></span>logs/%d&#123;yyyy-MM-dd&#125;/error%i.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxHistory</span><span class="token punctuation">></span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxHistory</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>timeBasedFileNamingAndTriggeringPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token comment">&lt;!-- å•ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§ä½“ç§¯ --></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxFileSize</span><span class="token punctuation">></span></span>10MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxFileSize</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>timeBasedFileNamingAndTriggeringPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.encoder.PatternLayoutEncoder<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- å¯¹æ—¥å¿—è¿›è¡Œæ ¼å¼åŒ– --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date %level [%thread] %logger&#123;10&#125;.%class&#123;0&#125;#%method[%file:%line] %n%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">></span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.filter.ThresholdFilter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span><span class="token punctuation">></span></span>WARN<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>level</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wlfAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- å¦‚æœæ˜¯true,æ—¥å¿—è¢«è¿½åŠ åˆ°æ–‡ä»¶ç»“å°¾ï¼Œå¦‚æœæ˜¯false,æ¸…ç©ºç°å­˜æ–‡ä»¶.é»˜è®¤æ˜¯true --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>append</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>append</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prudent</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prudent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span><span class="token punctuation">></span></span>logs/wlf/wlf.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>File</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.TimeBasedRollingPolicy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">></span></span>logs/wlf/%d&#123;yyyy-MM-dd&#125;/wlf%i.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxHistory</span><span class="token punctuation">></span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxHistory</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>timeBasedFileNamingAndTriggeringPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token comment">&lt;!-- å•ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§ä½“ç§¯ --></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxFileSize</span><span class="token punctuation">></span></span>10MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxFileSize</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>timeBasedFileNamingAndTriggeringPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.encoder.PatternLayoutEncoder<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- å¯¹æ—¥å¿—è¿›è¡Œæ ¼å¼åŒ– --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date %level [%thread] %logger&#123;10&#125;.%class&#123;0&#125;#%method[%file:%line] %n%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">></span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--         è¿™ä¸ªé…ç½®è¡¨ç¤ºæŠŠcom.wlfåŒ…ä¸‹çš„æ—¥å¿—ä»¥wlfAppenderçš„é…ç½®è¿›è¡Œæ‰“å°æ—¥å¿—        levelï¼š ä»£è¡¨æ—¥å¿—çº§åˆ«ï¼Œä¸é…ç½®é»˜è®¤ä¸ºall    --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.wlf<span class="token punctuation">"</span></span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>debug<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wlfAppender<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>logger</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>soutAppender<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>infoAppender<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>errorAppender<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¿™ä¸ªä¸æ€ä¹ˆå¸¸ç”¨ï¼Œåªéœ€è¦çŸ¥é“å°±è¡Œäº†ï¼Œä¸€èˆ¬åªä½¿ç”¨ç¬¬äºŒä¸ªé…ç½®å°±è¡Œäº†ï¼Œç›´æ¥CVå°±è¡Œã€‚è‡³äºå’Œspringbootä¸­ä½¿ç”¨ï¼Œå¯ä»¥æ•´ï¼Œä½†æ˜¯æ²¡å•¥å¿…è¦ã€‚å…·ä½“çš„é…ç½®è¿˜æ˜¯å¤šçœ‹çœ‹ä»‹ç»ï¼Œå¤šå¤šå­¦ä¹ ã€‚æˆ–è€…ç›´æ¥CVã€‚ğŸ˜ğŸ˜</p><h2 id="å°¾"><a href="#å°¾" class="headerlink" title="å°¾"></a>å°¾</h2><p>ä¸»è¦å†…å®¹åˆ°è¿™é‡Œå°±ä»‹ç»å®Œäº†ï¼Œlogbackçš„é…ç½®ååˆ†çš„çµæ´»ï¼Œä½†æƒ³è¦çµæ´»çš„ä½¿ç”¨ï¼Œè¿˜æ˜¯éœ€è¦å¤šå¤šçš„äº†è§£ã€‚å½“ç„¶æ‰“å°æ—¥å¿—å½’æ‰“å°æ—¥å¿—ï¼Œå¦‚æœä½ å†™ä»£ç æ‰“æ—¥å¿—æ—¶ä¸æŒ‰ç…§æ ‡å‡†è¾“å‡ºï¼Œå†ç‰›é€¼çš„é…ç½®ä¹Ÿæ•‘ä¸äº†ã€‚æ‰“å°æ—¥å¿—ä¹Ÿéœ€è¦è§„èŒƒä¸€ç‚¹ã€‚å¼€å‘ä½¿ç”¨debugï¼Œéœ€è¦ç•™å­˜çš„æ—¥å¿—ä¿¡æ¯ç”¨infoï¼Œå¼‚å¸¸ä¿¡æ¯ç”¨errorã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gy6gxzioj4j32yo1o0gv3.jpg" alt="2022æ–°å¹´å¿«ä¹"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>log</tag>
      
      <tag>logback</tag>
      
      <tag>slf4j</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°æ®æ ¡éªŒäºŒä¸‰äº‹</title>
    <link href="/2021/12/25/java-06/"/>
    <url>/2021/12/25/java-06/</url>
    
    <content type="html"><![CDATA[<p>åšå¼€å‘çš„åº”è¯¥éƒ½å†™è¿‡ç±»ä¼¼çš„æ ¡éªŒæ–¹æ³•ï¼Œæœ€ç®€å•çš„åˆ¤æ–­nullï¼Œå¤æ‚ä¸€ç‚¹çš„å­—ç¬¦ä¸²æ­£åˆ™æ ¡éªŒã€‚å•çº¯ä»é€»è¾‘ä¸Šè¯´è¿™ç±»ä»£ç ä¸å¤æ‚ï¼Œä½†æ˜¯æœ‰æ²¡æœ‰ä¸€ç§å¯èƒ½å‡å¦‚éœ€è¦ä¸€æ¬¡æ€§åˆ¤æ–­å¤šä¸ªï¼Œå†åŠ ä¸Šåˆ¤æ–­å¤±è´¥åçš„å¤„ç†é€»è¾‘ï¼Œè¿˜æœ‰å¯èƒ½éœ€è¦ä¸€äº›ç‰¹æ®Šå¤„ç†ï¼Œæ¯”å¦‚æ­£åˆ™æ ¡éªŒï¼Œç­‰ç­‰ï¼Œä¸‰ä¸ªä¸€ä¸‹ï¼Œå†™å†™ä¹Ÿè¿˜è¡Œï¼Œäº”ä¸ªä»¥ä¸Šï¼Œå¦‚æœä»£ç æŒ‰è¡Œæ”¶è´¹çš„è¯ï¼Œé‚£èƒ½å¤Ÿç‹ ç‹ çš„èµšäº†ä¸€ç¬”ã€‚</p><p>å¤§å®¶è„‘æµ·é‡Œçš„ä»£ç å¯èƒ½æ˜¯è¿™æ ·</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SysController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"by_id"</span><span class="token punctuation">)</span>    <span class="token class-name">Object</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>id <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//Â·Â·Â·Â·Â·</span>            <span class="token keyword">return</span> <span class="token string">"msg: idä¸ºnull"</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token comment">// Â·Â·Â·Â·</span>            <span class="token keyword">return</span> <span class="token string">"id,é•¿åº¦è¿‡é•¿"</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¿™åªæ˜¯ä¸€ä¸ªï¼Œå®é™…å¼€å‘ä¸­æœ‰äº›å½•å…¥éå¸¸å¤æ‚çš„è¡¨å•æ•°æ®æ—¶å¯èƒ½æœ‰ä¸‰å››åä¸ªï¼Œä¸Šé¢æˆ‘å†™çš„å¤„ç†é€»è¾‘ä¹Ÿä¸å¤æ‚ï¼ŒçœŸå®ä¸­å¯èƒ½æœ‰äº›éœ€è¦ä½¿ç”¨å¼‚å¸¸æç¤ºï¼Œæœ‰äº›éœ€è¦ç›´æ¥returnè¿”å›ä¿¡æ¯ï¼Œç­‰ç­‰ï¼Œå¤æ‚ä¸”éš¾ä»¥ç»´æŠ¤ã€‚éš¾ä»¥ç»´æŠ¤ï¼Œåˆ°å¹¶ä¸æ˜¯ä¸èƒ½ç»´æŠ¤ï¼Œé’±ç»™çš„å¤Ÿå¤šï¼Œç»´æŠ¤ï¼Œä¹Ÿè¿˜æ˜¯èƒ½ç»´æŠ¤çš„ï¼Œå½“ç„¶è¿™ä¸ªæ ä¸èƒ½è¿™æ ·æŠ¬ã€‚ğŸ¤£ğŸ˜‚ğŸ˜‚ğŸ˜‚</p><p>ä»‹ç»ä¸€ä¸ªå·¥å…·ï¼Œåº”è¯¥è¯´æ˜¯ä¸€å¥—å·¥å…·ï¼ŒåŸºäºæ³¨è§£å’Œåå°„ã€‚</p><p>çœ‹åˆ°è¿™ä¸¤ä¸ªè¯ï¼Œæ€§èƒ½æœ‰æ‰€æŸè€—æ˜¯å¾ˆæ­£å¸¸çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬å¼€å‘å…¨å‘˜Mapï¼Œå…¶å®ä»£ç çš„è¿è¡Œé€Ÿåº¦æ¥è¯´ï¼Œä¸æ…¢ï¼Œä½†æ˜¯æ€»æ‰€å‘¨çŸ¥HASH(å“ˆå¸Œ)è¡¨æ˜¯ä¸€ç§éå¸¸è€—å†…å­˜çš„æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥ä»£ç åœ¨æœ¬åœ°è·‘çš„æ—¶å€™æ—¶ä¸æ—¶çš„ommå¼‚å¸¸ä¸€ä¸‹ä¹Ÿæ˜¯åˆç¬¦æƒ…ç†çš„ä¸€ä»¶äº‹ã€‚ğŸ˜ğŸ˜ï¼Œç°åœ¨è¿™ç¡¬ä»¶å‘å±•çš„ç¯å¢ƒï¼Œåº”è¯¥ä¸ç¼ºå†…å­˜è¿™ä¸œè¥¿ã€‚</p><h3 id="validationæ˜¯ä»€ä¹ˆ"><a href="#validationæ˜¯ä»€ä¹ˆ" class="headerlink" title="validationæ˜¯ä»€ä¹ˆ"></a>validationæ˜¯ä»€ä¹ˆ</h3><p>æ¡†æ¶åå­—å«javax.validationï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—çš„æ³¨è§£æ¥è¿›è¡Œå¯¹JavaBeançš„å‚æ•°æ ¡éªŒã€‚é€šå¸¸ç”¨æ¥å¤„ç†Controlleré‡Œé¢æ–¹æ³•çš„å‚æ•°çš„æ ¡éªŒã€‚å°±æ˜¯æš´éœ²å‡ºå»çš„APIï¼Œå†…éƒ¨çš„æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨ï¼Œä½†æ²¡å¿…è¦ï¼Œæš´éœ²å‡ºå»çš„æ¥å£è·å–çš„æ•°æ®æ˜¯ä¸å¯æ§çš„ï¼Œæ‰€ä»¥æ‰éœ€è¦æ ¡éªŒï¼Œå†…éƒ¨çš„æ•°æ®æ˜¯å¯æ§çš„ï¼Œå½“ç„¶å†…éƒ¨æ–¹æ³•å¯æ§çš„å‰ææ˜¯æºå¤´çš„æ•°æ®æ˜¯å¯æ§çš„ã€‚</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>springbootä¸­æœ‰äº›åšå®¢ä¸­å†™çš„æ˜¯è¿™ä¸ªä¾èµ–é»˜è®¤åŒ…å«åœ¨starter-webä¸­äº†ï¼Œä¸æ¸…æ¥šä»å“ªä¸ªç‰ˆæœ¬å¼€å§‹å°±ä¸åŒ…å«åœ¨å…¶ä¸­äº†ï¼Œå°±è¯´ç°åœ¨çš„ç¯å¢ƒæ˜¯springboot2.5.xç³»åˆ—çš„ï¼Œvalidationé»˜è®¤å·²ç»ä¸åŒ…å«åœ¨starter-webä¸­äº†ï¼Œéœ€è¦å•ç‹¬å¼•å…¥è¿™ä¸ªä¾èµ–ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!--Controllerå‚æ•°æ ¡éªŒ--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-validation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>åœ¨å…¶ä»–é¡¹ç›®ä¸­å¯ä»¥å¼•å…¥è¿™ä¸ªä¾èµ–ï¼Œå¹¶è‡ªå·±è°ƒæ•´ç‰ˆæœ¬å³å¯ä½¿ç”¨ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.hibernate.validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>hibernate-validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>6.0.2.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ³¨è§£è¯´æ˜"><a href="#æ³¨è§£è¯´æ˜" class="headerlink" title="æ³¨è§£è¯´æ˜"></a>æ³¨è§£è¯´æ˜</h3><table><thead><tr><th>éªŒè¯æ³¨è§£</th><th>éªŒè¯çš„æ•°æ®ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>@AssertFalse</td><td>Boolean,boolean</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼æ˜¯false</td></tr><tr><td>@AssertTrue</td><td>Boolean,boolean</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼æ˜¯true</td></tr><tr><td>@NotNull</td><td>ä»»æ„ç±»å‹</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼ä¸æ˜¯null</td></tr><tr><td>@Null</td><td>ä»»æ„ç±»å‹</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼æ˜¯null</td></tr><tr><td>@Min(value&#x3D;å€¼)</td><td>BigDecimalï¼ŒBigInteger, byte,short, int, longï¼Œç­‰ä»»ä½•Numberæˆ–CharSequenceï¼ˆå­˜å‚¨çš„æ˜¯æ•°å­—ï¼‰å­ç±»å‹</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼å¤§äºç­‰äº@MinæŒ‡å®šçš„valueå€¼</td></tr><tr><td>@Maxï¼ˆvalue&#x3D;å€¼ï¼‰</td><td>å’Œ@Minè¦æ±‚ä¸€æ ·</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼å°äºç­‰äº@MaxæŒ‡å®šçš„valueå€¼</td></tr><tr><td>@DecimalMin(value&#x3D;å€¼)</td><td>å’Œ@Minè¦æ±‚ä¸€æ ·</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼å¤§äºç­‰äº@ DecimalMinæŒ‡å®šçš„valueå€¼</td></tr><tr><td>@DecimalMax(value&#x3D;å€¼)</td><td>å’Œ@Minè¦æ±‚ä¸€æ ·</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼å°äºç­‰äº@ DecimalMaxæŒ‡å®šçš„valueå€¼</td></tr><tr><td>@Digits(integer&#x3D;æ•´æ•°ä½æ•°, fraction&#x3D;å°æ•°ä½æ•°)</td><td>å’Œ@Minè¦æ±‚ä¸€æ ·</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼çš„æ•´æ•°ä½æ•°å’Œå°æ•°ä½æ•°ä¸Šé™</td></tr><tr><td>@Size(min&#x3D;ä¸‹é™, max&#x3D;ä¸Šé™)</td><td>å­—ç¬¦ä¸²ã€Collectionã€Mapã€æ•°ç»„ç­‰</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼çš„åœ¨minå’Œmaxï¼ˆåŒ…å«ï¼‰æŒ‡å®šåŒºé—´ä¹‹å†…ï¼Œå¦‚å­—ç¬¦é•¿åº¦ã€é›†åˆå¤§å°</td></tr><tr><td>@Past</td><td>java.util.Date,java.util.Calendar;Joda Timeç±»åº“çš„æ—¥æœŸç±»å‹</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼ï¼ˆæ—¥æœŸç±»å‹ï¼‰æ¯”å½“å‰æ—¶é—´æ—©</td></tr><tr><td>@Future</td><td>ä¸@Pastè¦æ±‚ä¸€æ ·</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼ï¼ˆæ—¥æœŸç±»å‹ï¼‰æ¯”å½“å‰æ—¶é—´æ™š</td></tr><tr><td>@NotBlank</td><td>CharSequenceå­ç±»å‹</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼ä¸ä¸ºç©ºï¼ˆä¸ä¸ºnullã€å»é™¤é¦–ä½ç©ºæ ¼åé•¿åº¦ä¸º0ï¼‰ï¼Œä¸åŒäº@NotEmptyï¼Œ@NotBlankåªåº”ç”¨äºå­—ç¬¦ä¸²ä¸”åœ¨æ¯”è¾ƒæ—¶ä¼šå»é™¤å­—ç¬¦ä¸²çš„é¦–ä½ç©ºæ ¼</td></tr><tr><td>@Length(min&#x3D;ä¸‹é™, max&#x3D;ä¸Šé™)</td><td>CharSequenceå­ç±»å‹</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼é•¿åº¦åœ¨minå’ŒmaxåŒºé—´å†…</td></tr><tr><td>@NotEmpty</td><td>CharSequenceå­ç±»å‹ã€Collectionã€Mapã€æ•°ç»„</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼ä¸ä¸ºnullä¸”ä¸ä¸ºç©ºï¼ˆå­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º0ã€é›†åˆå¤§å°ä¸ä¸º0ï¼‰</td></tr><tr><td>@Range(min&#x3D;æœ€å°å€¼, max&#x3D;æœ€å¤§å€¼)</td><td>BigDecimal,BigInteger,CharSequence, byte, short, int, longç­‰åŸå­ç±»å‹å’ŒåŒ…è£…ç±»å‹</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼åœ¨æœ€å°å€¼å’Œæœ€å¤§å€¼ä¹‹é—´</td></tr><tr><td>@Email(regexp&#x3D;æ­£åˆ™è¡¨è¾¾å¼,flag&#x3D;æ ‡å¿—çš„æ¨¡å¼)</td><td>CharSequenceå­ç±»å‹ï¼ˆå¦‚Stringï¼‰</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼æ˜¯Emailï¼Œä¹Ÿå¯ä»¥é€šè¿‡regexpå’ŒflagæŒ‡å®šè‡ªå®šä¹‰çš„emailæ ¼å¼</td></tr><tr><td>@Pattern(regexp&#x3D;æ­£åˆ™è¡¨è¾¾å¼,flag&#x3D;æ ‡å¿—çš„æ¨¡å¼)</td><td>Stringï¼Œä»»ä½•CharSequenceçš„å­ç±»å‹</td><td>éªŒè¯æ³¨è§£çš„å…ƒç´ å€¼ä¸æŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</td></tr><tr><td>@Valid</td><td>ä»»ä½•éåŸå­ç±»å‹</td><td>æŒ‡å®šé€’å½’éªŒè¯å…³è”çš„å¯¹è±¡å¦‚ç”¨æˆ·å¯¹è±¡ä¸­æœ‰ä¸ªåœ°å€å¯¹è±¡å±æ€§ï¼Œå¦‚æœæƒ³åœ¨éªŒè¯ç”¨æˆ·å¯¹è±¡æ—¶ä¸€èµ·éªŒè¯åœ°å€å¯¹è±¡çš„è¯ï¼Œåœ¨åœ°å€å¯¹è±¡ä¸ŠåŠ @Validæ³¨è§£å³å¯çº§è”éªŒè¯</td></tr></tbody></table><p>è¿™é‡Œåªåˆ—å‡ºHibernate Validatoræä¾›çš„å¤§éƒ¨åˆ†éªŒè¯çº¦æŸæ³¨è§£ï¼Œå¦‚éœ€äº†è§£æ›´å¤šè¯·å‚è€ƒhibernate validatorå®˜æ–¹æ–‡æ¡£äº†è§£å…¶ä»–éªŒè¯çº¦æŸæ³¨è§£å’Œè¿›è¡Œè‡ªå®šä¹‰çš„éªŒè¯çº¦æŸæ³¨è§£å®šä¹‰ã€‚è¿™å—å†…å®¹åŸºæœ¬å°±æ˜¯ç¿»è¯‘æ–‡æ¡£ï¼Œæ²¡å•¥å¥½è¯´çš„ã€‚</p><h3 id="å®é™…ä½¿ç”¨"><a href="#å®é™…ä½¿ç”¨" class="headerlink" title="å®é™…ä½¿ç”¨"></a>å®é™…ä½¿ç”¨</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æ¥å£æ˜¯å¼•ç”¨ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼è¿›è¡Œå‚æ•°æ ¡éªŒã€‚</span>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/save/valid"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token annotation punctuation">@Validated</span> <span class="token class-name">UserDTO</span> userDTO<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        userService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>userDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"æˆåŠŸ"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token comment">// å¦‚æœæ¥å£æ¥æ”¶å‚æ•°æ˜¯è¿™ç§åŸå­ç±»å‹ï¼Œéœ€è¦åœ¨è¿™ä¸ªæ–¹æ³•æ‰€åœ¨ç±»ä¸Š `@Validated` æ³¨è§£</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/get/id"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotBlank</span> <span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        userService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>userDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"æˆåŠŸ"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>DTO ä¸Šçš„æ³¨è§£</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Data</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDTO</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>    <span class="token comment">/*** ç”¨æˆ·ID*/</span>    <span class="token annotation punctuation">@NotNull</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"ç”¨æˆ·idä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Long</span> userId<span class="token punctuation">;</span>        <span class="token comment">/** ç”¨æˆ·å*/</span>    <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Length</span><span class="token punctuation">(</span>max <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">"ç”¨æˆ·åä¸èƒ½è¶…è¿‡20ä¸ªå­—ç¬¦"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Pattern</span><span class="token punctuation">(</span>regexp <span class="token operator">=</span> <span class="token string">"^[\\u4E00-\\u9FA5A-Za-z0-9\\*]*$"</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">"ç”¨æˆ·æ˜µç§°é™åˆ¶ï¼šæœ€å¤š20å­—ç¬¦ï¼ŒåŒ…å«æ–‡å­—ã€å­—æ¯å’Œæ•°å­—"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>        <span class="token comment">/** æ‰‹æœºå·*/</span>    <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"æ‰‹æœºå·ä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Pattern</span><span class="token punctuation">(</span>regexp <span class="token operator">=</span> <span class="token string">"^[1][3,4,5,6,7,8,9][0-9]&#123;9&#125;$"</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">"æ‰‹æœºå·æ ¼å¼æœ‰è¯¯"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> mobile<span class="token punctuation">;</span>    <span class="token comment">/**æ€§åˆ«*/</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> sex<span class="token punctuation">;</span>    <span class="token comment">/** é‚®ç®±*/</span>    <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"è”ç³»é‚®ç®±ä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Email</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"é‚®ç®±æ ¼å¼ä¸å¯¹"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>    <span class="token comment">/** å¯†ç */</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>    <span class="token comment">/*** åˆ›å»ºæ—¶é—´ */</span>    <span class="token annotation punctuation">@Future</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"æ—¶é—´å¿…é¡»æ˜¯å°†æ¥æ—¶é—´"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Date</span> createTime<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å…¨å±€å¼‚å¸¸å¤„ç†"><a href="#å…¨å±€å¼‚å¸¸å¤„ç†" class="headerlink" title="å…¨å±€å¼‚å¸¸å¤„ç†"></a>å…¨å±€å¼‚å¸¸å¤„ç†</h3><p>å‚æ•°æ ¡éªŒå¤±è´¥æ—¶ä¼šæŠ¥å¼‚å¸¸ï¼Œä½†æ˜¯æŠŠå¼‚å¸¸ç›´æ¥æ˜¾ç¤ºç»™ç”¨æˆ·æ˜¯éå¸¸ä¸å‹å¥½çš„ï¼Œäºæ˜¯éœ€è¦å…¨å±€å¤„ç†ä¸€ä¸‹å¼‚å¸¸ã€‚</p><p>é»˜è®¤å¼‚å¸¸ä¿¡æ¯</p><figure><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2022-01-01T04:41:23.164+00:00"</span><span class="token punctuation">,</span>  <span class="token property">"status"</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>  <span class="token property">"error"</span><span class="token operator">:</span> <span class="token string">"Internal Server Error"</span><span class="token punctuation">,</span>  <span class="token property">"message"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"/by_id"</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å…¨å±€å¼‚å¸¸æ‹¦æˆªå™¨</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestControllerAdvice</span><span class="token comment">// å…¨å±€å¼‚å¸¸æ‹¦æˆªå¹¶è¿”å›JSONæ•°æ®</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GlobalExceptionHandler</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**    è¿™ä¸ªæ‹¦æˆªå¼‚å¸¸ï¼Œå¼‚å¸¸çš„æ¥å£çº§åˆ«è¶Šé«˜å°±è¶Šè¦æ”¾åœ¨ä¸‹é¢å†™ï¼Œ    å› ä¸ºè¿™ä¸ªæ‹¦æˆªå¼‚å¸¸æ˜¯åŒ¹é…é“¾çš„æ–¹å¼ï¼Œå¦‚æœåŒ¹é…åˆ°äº†å°±ä¸å¾€ä¸‹åŒ¹é…äº†ï¼Œ    å¦‚æœä½ ç¬¬ä¸€ä¸ªå°±å†™æœ€é«˜çº§åˆ«çš„å¼‚å¸¸ï¼Œé‚£ä¹ˆä¸‹é¢çš„å¼‚å¸¸åŒ¹é…å°±åŒ¹é…ä¸åˆ°ã€‚    */</span>    <span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token constant">DUPLICATE_KEY_CODE</span> <span class="token operator">=</span> <span class="token number">1001</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token constant">PARAM_FAIL_CODE</span> <span class="token operator">=</span> <span class="token number">1002</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token constant">VALIDATION_CODE</span> <span class="token operator">=</span> <span class="token number">1003</span><span class="token punctuation">;</span>    <span class="token comment">/**     * å¤„ç†è‡ªå®šä¹‰å¼‚å¸¸     */</span>    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">BizException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token comment">// æ³¨è§£é‡Œé¢å†™éœ€è¦æ‹¦æˆªçš„å¼‚å¸¸å³å¯</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">handleRRException</span><span class="token punctuation">(</span><span class="token class-name">BizException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token comment">// è‡ªå·±å†³å®šè¿”å›ä»€ä¹ˆç±»å‹çš„æ•°æ®</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ–¹æ³•å‚æ•°æ ¡éªŒ     */</span>    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">MethodArgumentNotValidException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">handleMethodArgumentNotValidException</span><span class="token punctuation">(</span><span class="token class-name">MethodArgumentNotValidException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token comment">// è‡ªå·±å†³å®šè¿”å›ä»€ä¹ˆç±»å‹çš„æ•°æ®</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ValidationException     */</span>    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">ValidationException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">handleValidationException</span><span class="token punctuation">(</span><span class="token class-name">ValidationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token comment">// è‡ªå·±å†³å®šè¿”å›ä»€ä¹ˆç±»å‹çš„æ•°æ®</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ConstraintViolationException     */</span>    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">ConstraintViolationException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">handleConstraintViolationException</span><span class="token punctuation">(</span><span class="token class-name">ConstraintViolationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token comment">// è‡ªå·±å†³å®šè¿”å›ä»€ä¹ˆç±»å‹çš„æ•°æ®</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">NoHandlerFoundException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">handlerNoFoundException</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token comment">// è‡ªå·±å†³å®šè¿”å›ä»€ä¹ˆç±»å‹çš„æ•°æ®</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">DuplicateKeyException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">handleDuplicateKeyException</span><span class="token punctuation">(</span><span class="token class-name">DuplicateKeyException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token comment">// è‡ªå·±å†³å®šè¿”å›ä»€ä¹ˆç±»å‹çš„æ•°æ®</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">Exception</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">handleException</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token comment">// è‡ªå·±å†³å®šè¿”å›ä»€ä¹ˆç±»å‹çš„æ•°æ®</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="è‡ªå®šä¹‰å‚æ•°æ³¨è§£"><a href="#è‡ªå®šä¹‰å‚æ•°æ³¨è§£" class="headerlink" title="è‡ªå®šä¹‰å‚æ•°æ³¨è§£"></a>è‡ªå®šä¹‰å‚æ•°æ³¨è§£</h3><p>å¦‚æœé»˜è®¤çš„æ³¨è§£ä¸å¤Ÿç”¨ï¼Œä½ è¿˜å¯ä»¥è‡ªå®šä¹‰æ³¨è§£ï¼Œæ¯”å¦‚ä¸€ä¸ªèº«ä»½è¯å·çš„éªŒè¯</p><h4 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h4><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Documented</span><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">PARAMETER</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">FIELD</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Constraint</span><span class="token punctuation">(</span>validatedBy <span class="token operator">=</span> <span class="token class-name">IdentityCardNumberValidator</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">IdentityCardNumber</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">"èº«ä»½è¯å·ç ä¸åˆæ³•"</span><span class="token punctuation">;</span>    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">groups</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Payload</span><span class="token punctuation">></span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">payload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h4 id="è‡ªå®šä¹‰Validator"><a href="#è‡ªå®šä¹‰Validator" class="headerlink" title="è‡ªå®šä¹‰Validator"></a>è‡ªå®šä¹‰Validator</h4><p>è¿™é‡Œæ‰æ˜¯æ‰æ˜¯çœŸæ­£çš„å¤„ç†é€»è¾‘ï¼Œæ³¨è§£ç±»ä¼¼æ˜¯ä¸€ä¸ªå¾½ç« ï¼Œåœ¨AOPå¤„ç†å¤„ç†æ—¶ï¼Œæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ ‡è¯†ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IdentityCardNumberValidator</span> <span class="token keyword">implements</span> <span class="token class-name">ConstraintValidator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">IdentityCardNumber</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initialize</span><span class="token punctuation">(</span><span class="token class-name">IdentityCardNumber</span> identityCardNumber<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">,</span> <span class="token class-name">ConstraintValidatorContext</span> constraintValidatorContext<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">IdCardValidatorUtils</span><span class="token punctuation">.</span><span class="token function">isValidate18Idcard</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"èº«ä»½è¯å·ä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@IdentityCardNumber</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"èº«ä»½è¯ä¿¡æ¯æœ‰è¯¯,è¯·æ ¸å¯¹åæäº¤"</span><span class="token punctuation">)</span><span class="token keyword">private</span> <span class="token class-name">String</span> clientCardNo<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ä½¿ç”¨groupsçš„æ ¡éªŒ"><a href="#ä½¿ç”¨groupsçš„æ ¡éªŒ" class="headerlink" title="ä½¿ç”¨groupsçš„æ ¡éªŒ"></a>ä½¿ç”¨groupsçš„æ ¡éªŒ</h3><p>å°±æ˜¯åˆ†ç»„æ ¡éªŒï¼Œä¸€ä¸ªå®ä½“ç±»ä½œä¸ºä¸åŒçš„æ¥å£å‚æ•°æ ¡éªŒæ—¶ï¼Œå¯èƒ½æœ‰ä¸åŒçš„éœ€æ±‚ã€‚å®šä¹‰ä¸¤ä¸ªæ¥å£ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>groups<span class="token punctuation">.</span></span><span class="token class-name">Default</span></span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Create</span> <span class="token keyword">extends</span> <span class="token class-name">Default</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>groups<span class="token punctuation">.</span></span><span class="token class-name">Default</span></span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Update</span> <span class="token keyword">extends</span> <span class="token class-name">Default</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å†åœ¨éœ€è¦æ ¡éªŒçš„åœ°æ–¹@Validatedå£°æ˜æ ¡éªŒç»„</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/update/groups"</span><span class="token punctuation">)</span>                 <span class="token comment">// è¿™é‡Œå°±æ˜¯æ ¸å¿ƒ</span>   <span class="token keyword">public</span> <span class="token class-name">RspDTO</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token annotation punctuation">@Validated</span><span class="token punctuation">(</span><span class="token class-name">Update</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token class-name">UserDTO</span> userDTO<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>       userService<span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span>userDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">return</span> <span class="token class-name">RspDTO</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>DTO æ”¹ä¸€ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Data</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDTO</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>    <span class="token comment">/*** ç”¨æˆ·ID*/</span>    <span class="token annotation punctuation">@NotNull</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"ç”¨æˆ·idä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">,</span> groups <span class="token operator">=</span> <span class="token class-name">Update</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Long</span> userId<span class="token punctuation">;</span>    <span class="token comment">/**     * ç”¨æˆ·å     */</span>    <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Length</span><span class="token punctuation">(</span>max <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">"ç”¨æˆ·åä¸èƒ½è¶…è¿‡20ä¸ªå­—ç¬¦"</span><span class="token punctuation">,</span> groups <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token class-name">Create</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">Update</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Pattern</span><span class="token punctuation">(</span>regexp <span class="token operator">=</span> <span class="token string">"^[\\u4E00-\\u9FA5A-Za-z0-9\\*]*$"</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">"ç”¨æˆ·æ˜µç§°é™åˆ¶ï¼šæœ€å¤š20å­—ç¬¦ï¼ŒåŒ…å«æ–‡å­—ã€å­—æ¯å’Œæ•°å­—"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>    <span class="token comment">/**     * æ‰‹æœºå·     */</span>    <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"æ‰‹æœºå·ä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Pattern</span><span class="token punctuation">(</span>regexp <span class="token operator">=</span> <span class="token string">"^[1][3,4,5,6,7,8,9][0-9]&#123;9&#125;$"</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">"æ‰‹æœºå·æ ¼å¼æœ‰è¯¯"</span><span class="token punctuation">,</span> groups <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token class-name">Create</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">Update</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> mobile<span class="token punctuation">;</span>    <span class="token comment">/**     * æ€§åˆ«     */</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> sex<span class="token punctuation">;</span>    <span class="token comment">/**     * é‚®ç®±     */</span>    <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"è”ç³»é‚®ç®±ä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Email</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"é‚®ç®±æ ¼å¼ä¸å¯¹"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>    <span class="token comment">/**     * å¯†ç      */</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>    <span class="token comment">/*** åˆ›å»ºæ—¶é—´ */</span>    <span class="token annotation punctuation">@Future</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"æ—¶é—´å¿…é¡»æ˜¯å°†æ¥æ—¶é—´"</span><span class="token punctuation">,</span> groups <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token class-name">Create</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Date</span> createTime<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><div class="note note-info">            <p>tips æ³¨æ„:åœ¨å£°æ˜åˆ†ç»„çš„æ—¶å€™å°½é‡åŠ ä¸Š <code>extend javax.validation.groups.Default</code> å¦åˆ™,åœ¨ä½ å£°æ˜<code>@Validated(Update.class)</code> çš„æ—¶å€™,å°±ä¼šå‡ºç°ä½ åœ¨é»˜è®¤æ²¡æ·»åŠ <code>groups = {}</code>çš„æ—¶å€™çš„æ ¡éªŒç»„<code>@Email(message = &quot;é‚®ç®±æ ¼å¼ä¸å¯¹&quot;)</code>,ä¼šä¸å»æ ¡éªŒ,å› ä¸ºé»˜è®¤çš„æ ¡éªŒç»„æ˜¯<code>groups = {Default.class}</code></p>          </div><h3 id="restfulé£æ ¼ç”¨æ³•"><a href="#restfulé£æ ¼ç”¨æ³•" class="headerlink" title="restfulé£æ ¼ç”¨æ³•"></a>restfulé£æ ¼ç”¨æ³•</h3><p>åœ¨å¤šä¸ªå‚æ•°æ ¡éªŒ,æˆ–è€…@RequestParam å½¢å¼æ—¶å€™,éœ€è¦åœ¨controllerä¸ŠåŠ æ³¨@Validated</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/get"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">RspDTO</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"userId"</span><span class="token punctuation">)</span> <span class="token annotation punctuation">@NotNull</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"ç”¨æˆ·idä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> userId<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RspDTO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">nonAbsent</span><span class="token punctuation">(</span><span class="token string">"ç”¨æˆ·ä¸å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RspDTO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>éœ€è¦åŠ ä¸Š</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"user/"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Validated</span>  <span class="token comment">// è¿™ä¸ªæ˜¯é‡ç‚¹</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractController</span> <span class="token punctuation">&#123;</span>    Â·Â·Â·Â·Â·Â·Â·Â·Â·<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¯´äº†ä¸€å¤§é€šåŸºç¡€çš„ä¸œè¥¿ï¼Œä½†æ˜¯æ„Ÿè§‰å…¶å®æŒºå…¨é¢äº†ï¼Œå„ç§ç”¨æ³•éƒ½ä»‹ç»äº†ï¼Œä¸è¶³å°±æ˜¯ ä½†æ˜¯æ²¡æœ‰å¾ˆæ·±å…¥ï¼Œå¦‚å¼‚å¸¸çš„æ—¥å¿—çš„è®°å½•ï¼Œç­‰ç­‰ã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gxy53k0f3ej335s1o0nif.jpg" alt="é›†åŸç¾ ç²‰è‰²å¸½å­"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>validation</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ™šé—»</title>
    <link href="/2021/12/20/gossip-05/"/>
    <url>/2021/12/20/gossip-05/</url>
    
    <content type="html"><![CDATA[<p>æ­£å¸¸æ™šä¸Šä¸‹ç­ï¼Œä¸‹äº†å…¬äº¤è½¦ï¼Œè½¦ç«™åˆ°æˆ‘ç§Ÿçš„çš„å‡ºç§Ÿå±‹é‡Œè¿˜æœ‰æ®µè·ç¦»ï¼Œä¸‹äº†ç­åˆ°ä¹Ÿä¸ç€æ€¥ï¼Œæ‚ å“‰æ¸¸å“‰çš„èµ°åœ¨è·¯ä¸Šï¼Œè§†é‡é‡Œä¸çŸ¥é“ä»å“ªä¸ªè§’è½é‡Œå†’å‡ºæ¥ä¸€åªæµæµªç‹—ï¼Œä¸€å¼€å§‹æˆ‘å¹¶æ²¡æœ‰å»æ³¨æ„è¿™ä¸ªåŠ¨ç‰©ï¼Œäººæ¥äººå¾€çš„å¤§è¡—ä¸Šæµæµªç‹—å¾ˆå¤šï¼Œæˆ‘åªæ˜¯ä¸€ä¸ªè·¯äººè€Œå·²ï¼Œæ— èŠçš„æ‘‡å¤´æ™ƒè„‘æ—¶ä¸ç»æ„æ’‡äº†ä¸€çœ¼ï¼Œæ˜¯ä¸€åªæˆ‘ä¹Ÿä¸å¤ªä¼šå½¢å®¹ï¼Œä¸ªå­ä¸é«˜ï¼Œå››è‚¢çŸ­å°ï¼Œä¸çŸ¥ æ˜¯å› ä¸ºæµæµªçš„ç¼˜æ•…ï¼Œè¿˜æ˜¯å¤œè‰²ç¬¼ç½©çš„ç¼˜æ•…ï¼Œæˆ‘çœ‹ç€æ˜¯åªç°æºœæºœçš„å°ç‹—ï¼Œä¸è¿‡çœ¼ç›åœ¨ç°æš—ä¸­æ˜¾çš„å¾ˆäº®ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæ²¡ç”±å¤´çš„å¿µæƒ³è®©æˆ‘æƒ³è·Ÿç€å®ƒèµ°ä¸€èµ°ï¼Œå°±è·Ÿäº†å®ƒä¸€é˜µå­ï¼Œæƒ³è¯•è¯•èƒ½ä¸èƒ½æŠŠå®ƒå¸¦èµ°ï¼Œä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆä¼šç”Ÿå‡ºè¿™ç§æƒ³æ³•ï¼Œä¸‹äº†ç­çš„æ—¶é—´æ˜¯æˆ‘å¯ä»¥è‡ªç”±æ”¯é…çš„æ—¶é—´ï¼Œæˆ‘ä¾¿è·Ÿç€å®ƒèµ°äº†ä¸€æ®µæ—¶é—´ï¼Œå°ç‹—çš„æˆ’å¿ƒæ¯”è¾ƒé‡ï¼Œæ ¹æœ¬ä¸è®©æˆ‘é è¿‘ï¼Œè¿™ä¹Ÿæ˜¯å®ƒå­˜æ´»åˆ°ç°åœ¨çš„åŸå› å§ï¼Œæˆ‘ä¸æ˜¯ä¸€ä¸ªå¾ˆæœ‰è€å¿ƒçš„äººï¼Œè·Ÿç€çš„æ—¶å€™ï¼Œæˆ‘æ²¡æœ‰åˆ«çš„è¡ŒåŠ¨ï¼Œæˆ‘å”¯ä¸€åšçš„å°±æ˜¯è·Ÿåœ¨åé¢å°è¯•å¦‚æœå®ƒå›è¿‡å¤´æ¥æˆ‘å°±è¹²ä¸‹ï¼Œä¼¸å‡ºæ‰‹æ¥ï¼Œçœ‹çœ‹å®ƒä¼šä¸ä¼šè¿‡æ¥ï¼Œæœ€åçš„æœ€åå®ƒæ²¡æœ‰è¿‡æ¥ï¼Œæˆ‘ä¹Ÿè½¬èº«å›å»äº†ï¼Œæˆ‘å¯¹è‡ªå·±è¯´ï¼Œè¿™å°±æ˜¯æ²¡æœ‰ç¼˜åˆ†å•Šï¼Œä¸ä»…äººä¸äººï¼Œäººä¸ç‹—ä¹Ÿæ˜¯ã€‚è·¯ä¸Šæˆ‘å¯ä»¥ä»åº—é‡Œä¹°ä¸¤æ ¹ç«è…¿è‚ ï¼Œè¿™æ ·åšä¹Ÿè®¸ä¼šå¢åŠ å®ƒè¿‡æ¥çš„å‡ ç‡ï¼Œå¯æˆ‘ä¸æƒ³ï¼Œè¿™ç§äº‹è¿˜æ˜¯ç›¸ä¿¡ç¼˜åˆ†å§ï¼Œä¹°ç«è…¿è¿™ç§è¡Œä¸ºä¼šä¸ä¼šåªæ˜¯åœ¨éª—è‡ªå·±ã€‚å®ƒä¸è¿‡æ¥ï¼Œè¿™ä¹Ÿä¸æ˜¯ä¸€ä»¶åäº‹ï¼Œæˆ‘å°±ä¸€æ™®æ™®é€šé€šæ‰“å·¥äººï¼Œå°±ç®—å®ƒè¿‡æ¥è·Ÿæˆ‘èµ°äº†ï¼Œæˆ‘å¯ä»¥è®©å®ƒâ€œé”¦è¡£ç‰é£Ÿâ€ï¼Œâ€œå¹²å¹²å‡€å‡€â€ä¸€æ®µæ—¶é—´ï¼Œå¯ç°å®æ˜¯ï¼Œæˆ‘æ²¡æœ‰æ±½è½¦ï¼Œæˆ‘æ²¡æœ‰åŠæ³•å¸¦å®ƒä¸Šé«˜é“ï¼Œæˆ–è€…å¤§å·´ï¼Œå¯èƒ½è¿™ä¹Ÿæ˜¯å€Ÿå£ï¼Œæ˜¯æˆ‘ä¸ºæˆ‘çš„è‡ªç§è‡ªåˆ©æ‰¾çš„ä¸€ä¸ªå€Ÿå£ï¼Œæ²¡æœ‰åŠæ³•å¸¦å›å®¶ã€‚åœ¨è¿‡å¹´å›å®¶è¿™ä¸€é“å¾‹ä¸‹ï¼Œå®ƒè¢«æˆ‘æŠ›å¼ƒçš„å¯èƒ½æ€§å¾ˆé«˜ã€‚é‚£æ—¶å€™æ‰æ˜¯çœŸæ­£çš„å¥½å¿ƒåŠäº†åäº‹ï¼Œå®ƒæœ¬æ¥å°±æ˜¯æµæµªçš„ï¼ŒåŸæœ¬å°±æ˜¯ï¼Œä¸€ç›´å¦‚æ­¤å°±æŒºå¥½ã€‚</p><p>å› ä¸ºä½ çš„ä¸€ç‚¹â€œå–„æ„â€ã€‚ä½ æ‰“ç ´å®ƒå¹³é™çš„ç”Ÿæ´»ï¼Œæ•…äº‹çš„æœ€åï¼Œä½ è¿˜è¡¨ç°å‡ºä¸€å¹…æˆ‘å·²ç»å°½åŠ›çš„æ— è¾œè¡¨æƒ…ã€‚æŒºè®©äººç¬‘è¯çš„ã€‚</p><blockquote><p>åŸæ–‡è®°äº2020å¹´æœ«</p></blockquote><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gxkcc6lgslj32yo1o0x6p.jpg" alt="ç«å½±å¿è€…æ˜¥é‡æ¨±"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åˆæ‹</title>
    <link href="/2021/12/20/other-05/"/>
    <url>/2021/12/20/other-05/</url>
    
    <content type="html"><![CDATA[<div class="note note-light">            <p>æ— è®ºæˆ‘ä»¬æœ€åç”Ÿç–æˆä»€ä¹ˆæ ·å­ï¼Œæ›¾ç»å¯¹ä½ çš„å¥½éƒ½æ˜¯çœŸçš„ï¼Œå°±ç®—ç»ˆæœ‰ä¸€æ•£ï¼Œä¹Ÿåˆ«è¾œè´Ÿç›¸é‡ï¼Œå¸Œæœ›ä½ ä¸åæ‚”è®¤è¯†æˆ‘ï¼Œä¹Ÿæ˜¯çœŸçš„å¿«ä¹è¿‡ï¼Œå¦‚æœèƒ½å›åˆ°ä»å‰ï¼Œæˆ‘ä¼šé€‰æ‹©ä¸è®¤è¯†ä½ ï¼Œä¸æ˜¯æˆ‘åæ‚”ï¼Œæ˜¯æˆ‘ä¸èƒ½é¢å¯¹ç°åœ¨çš„ç»“å±€ã€‚</p>          </div><div class="note note-light">            <p>ç›¸æ‹867å¤©ï¼Œåˆ†æ‰‹ä¸ƒå¹´ï¼Œå•èº«ä¸ƒå¹´ï¼Œè‡³ä»Šæ— æ³•é‡Šæ€€ï¼Œæ›´å¤šçš„å¯èƒ½æ˜¯ä¸ç”˜å§ã€‚</p>          </div><div class="note note-light">            <p>åˆ°ç°åœ¨éƒ½è®°å¾—å¾ˆæ¸…æ¥šï¼<br>è¯»åˆäºŒï¼ŒæŠ¥é“çš„ç¬¬ä¸€å¤©ï¼Œä¸€çœ¼æœ›å»å°±çœ‹ä¸­äº†ä»–ï¼Œç„¶åç»™äº†æˆ‘ä¸€ä¸ªæœ‹å‹5å—é’±ï¼Œå«ä»–è·Ÿæˆ‘æ¢åº§ä½ã€‚è¿™æ ·å°±ååœ¨äº†å¥¹åé¢ä½ç½®ï¼Œå°±è¿™æ ·ä¸€æ¥äºŒå»æ…¢æ…¢ç†Ÿæ‚‰äº†ï¼Œåæ¥åœ¨ä¸€èµ·äº†ï¼Œåˆä¸‰è¯»å®Œå¥¹è€ƒä¸Šäº†é«˜ä¸­æˆ‘å› ä¸ºå·®äº†å‡ åˆ†ï¼Œæœ€åè¯»äº†èŒæ ¡ï¼Œåˆ°äº†2015å¹´å› ä¸ºè¯»èŒæ ¡å­¦ä¼šäº†æ··ç¤¾ä¼šï¼Œæœ€åå®¶é‡Œä¸‹äº†é€šç‰’ï¼Œä¸å¥¹å•†é‡äº†åé€‰æ‹©äº†å…¥ä¼ï¼Œå½“æ—¶è®°å¾—è¿˜è·Ÿå¥¹çº¦å®šå¥½äº†ï¼Œäº”å¹´åå›æ¥å°±å¨¶å¥¹ï¼Œ2016å¹´æˆ‘æ»¡18å²çš„æ—¶å€™å¥¹è¿˜è·Ÿæˆ‘çˆ¶æ¯æ¥äº†éƒ¨é˜Ÿè·Ÿæˆ‘åº†ç¥ç”Ÿæ—¥ï¼Œæˆ‘çˆ¶æ¯å¯¹å¥¹ä¹Ÿå¾ˆæ»¡æ„ï¼Œå†œå†2016å¤§å¹´ä¸‰åï¼Œå› ä¸ºéƒ¨é˜Ÿæ™šä¸Šæœ‰è·¨å¹´æ™šä¼šï¼Œæ‰‹æœºå°±æ”¾åœ¨äº†å®¿èˆé‡Œï¼Œç­‰åˆ°å›æ¥æ—¶ï¼ŒåªçŸ¥é“å¥¹è·Ÿæˆ‘è¯´å‡ºäº†åˆ†æ‰‹ï¼éšåæˆ‘2017å¹´é€€ä¼ï¼Œå›æ¥ä¹Ÿæ‰“å¬äº†å¥¹æ¶ˆæ¯ï¼Œå¯æ˜¯ä¸æ„¿æ„è§æˆ‘ï¼ä¹‹åè°ˆè¿‡å‡ ä¸ªå¥³æœ‹å‹ï¼Œä½†æ˜¯éƒ½å·²ä¹ æƒ¯ä¸å¥¹åšæ¯”è¾ƒï¼Œç›´åˆ°ç°åœ¨éƒ½è®°å¾—å¥¹çš„ç”Ÿæ—¥ï¼Œæ‰‹æœºå·ç ï¼Œæˆ–è®¸å¥¹æ‰‹æœºå·ç å·²æ¢ï¼Œæˆ–è®¸å¥¹å·²ç»“å©šï¼Œä¸ºäººæ¯ï¼Œä½†æ˜¯å¾ˆé«˜å…´æœ‰è¿™ä¹ˆä¸€æ®µå›å¿†ï¼Œæˆ–è®¸ä¸ç¾å¥½ï¼</p>          </div><div class="note note-light">            <p>æˆ‘çš„åˆæ‹æ˜¯ä¸€ä¸ªå¾ˆå–„è§£äººæ„çš„å¥³å­©ï¼Œåªæ˜¯è´¥åœ¨äº†å½“åˆçš„å¹´å°‘æ— çŸ¥ï¼Œå¦‚ä»Šå›å¿†èµ·æ¥ï¼Œè¿½æ‚”è«åŠï¼</p>          </div><div class="note note-light">            <p>å¥¹æ˜¯ç¬¬ä¸€ä¸ªæˆ‘å¾ˆæ­£å¼çš„ä»‹ç»ç»™å®¶é‡Œçš„å¥³å­©å­</p>          </div><div class="note note-light">            <p>åˆæ‹ ä¸€ä¸ªç°åœ¨æ—¶åˆ»ç‰µåŠ¨æˆ‘æƒ…ç»ªçš„äºº å³ä½¿åˆ†å¼€äº† ä¹Ÿå¸Œæœ›å¥¹èƒ½è¿‡çš„å¥½ å¹´å°‘ä¸æ‡‚çˆ±çš„æ—¶æœŸç¢°åˆ°çˆ±çš„äººçœŸçš„å¾ˆéš¾æŠŠæ¡ä½ å½“ä¸€ä¸ªè¦èµ°ä¸€ä¸ªæŒ½ç•™æ— æœçš„æ—¶å€™ é‚£æ—¶å¯èƒ½çœŸçš„æ˜¯å¿ƒåŠ›æ†”æ‚´ æ— èƒ½ä¸ºåŠ›å§ åªèƒ½è¯´é”™è¿‡äº†å¥¹ä»¥å è²Œä¼¼æ˜¯ä¸§å¤±äº†çˆ±åˆ«äººçš„èƒ½åŠ› æ¯å½“è‡ªå·±å»åšæˆ–è€…å¾—åˆ°æ–°çš„ä¸œè¥¿çš„æ—¶å€™ æ€»ä¼šå¹»æƒ³å¥¹åœ¨èº«è¾¹åº”è¯¥ä¼šæ˜¯æ€ä¹ˆæ · å¯èƒ½åˆ°ç°åœ¨ä¹Ÿè¿˜æ²¡æœ‰é‡Šæ€€ é‡Šæ€€ä¸æ‰è¿™æ®µæ„Ÿæƒ… é‡Šæ€€ä¸æ‰å¥¹ æ€»æ˜¯åœ¨å›å¿†ä¸ç°å®ä¸­æ¥å›æ‹‰æ‰¯ ä¸è¿‡å¯ä»¥ç¡®å®šçš„æ˜¯å¥¹ä¸ä¼šå›æ¥äº† ä¹Ÿæ²¡æœ‰åæ–¹å‘çš„é’Ÿ ä¹Ÿä¸ä¼šæœ‰é‚£ä¸ªä¸€èµ·ä¸Šè¯¾ ä¸€èµ·è‡ªä¹  ä¸€èµ·åƒé¥­çš„æƒ…æ™¯ ä¸Šè¯¾ è‡ªä¹  åƒé¥­å¯èƒ½ä¸ä¼šå˜ å˜å¾—åªæ˜¯ä»ä¸¤äººå˜æˆä¸¤ä¸ªäºº é™·å…¥å›å¿†ä¸å¯è‡ªæ‹” å¯èƒ½çœŸçš„æ˜¯æƒ³è°ˆä¸€åœºä»å§‹è€Œç»ˆçš„æ‹çˆ± å¯¼è‡´çˆ±å¾—å¤ªæ»¡ å¤ªç”¨åŠ› åŠå¹´æ„Ÿæƒ…ä¸¤å¹´ç¥­å¥  æ‰€ä»¥è¯´å•Š ä¸ä¼šçˆ±çš„å¹´çºª å¹´å°‘æ—¶æœŸçœŸçš„ä¸è¦çˆ±çš„å¤ªç”¨åŠ› ç‰©æå¿…å<br> åªèƒ½è¯´ä¸€æ­¥ä¸€å›çœ¸ ä½†ä¸ä¼šåœç•™åŸåœ°</p>          </div><div class="note note-light">            <p>å¥¹æ˜¯æˆ‘æƒ³æŠŠæ‰€æœ‰æ¸©æš–éƒ½ç»™å¥¹çš„äºº å¥¹ä¹Ÿæ•‘èµè¿‡æˆ‘</p>          </div><div class="note note-light">            <p>åˆæ‹å•Šï¼Œæœ‰ç‚¹ç”œæœ‰ç‚¹é…¸æœ‰ç‚¹æ— å¥ˆï¼Œè®©æˆ‘ä¹…ä¹…ä¸èƒ½å¿˜æ€€ï¼Œä»–è¯´è¿‡çš„è¯åšè¿‡çš„äº‹éƒ½åˆ»åœ¨æˆ‘å¿ƒé‡Œå¹¶æ°¸è¿œå­˜åœ¨ï¼Œå’Œä»–åˆ†å¼€æˆ‘è§‰å¾—æˆ‘å†ä¹Ÿä¸ä¼šé‚£ä¹ˆå¼€å¿ƒï¼Œæ­¤æ—¶æ­¤åˆ»æˆ‘éƒ½è§‰å¾—æˆ‘ä»¬åº”è¯¥æ°¸è¿œåœ¨ä¸€èµ·ï¼Œå¥½æƒ³æ‹¥æœ‰ä¸€å°æ—¶å…‰æœºå•Šï¼Œå›åˆ°æˆ‘ä»¬çœ¼é‡Œéƒ½æ˜¯å½¼æ­¤çš„æ—¶å€™ã€‚ã€‚ã€‚</p>          </div><div class="note note-light">            <p>å¥¹å°±ç«™åœ¨å“ªå„¿ ç«™åœ¨æˆ‘åå…«å²çš„å¿ƒä¸­ã€‚</p>          </div><div class="note note-light">            <p>å¤§æ¦‚å°±æ˜¯å±±æµ·äº¦å¯å¹³ï¼Œå”¯æœ‰å¥¹ç»ˆæ˜¯æ„éš¾å¹³å§</p>          </div><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gxk2cqm12uj32yo1o0kjp.jpg" alt="é˜¿å°”å‘æ–¯å±±"></p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤§å­¦é‡Œdeä¸€äº›äº‹</title>
    <link href="/2021/12/14/gossip-04/"/>
    <url>/2021/12/14/gossip-04/</url>
    
    <content type="html"><![CDATA[<p>é¥æƒ³åˆšè¿›å¤§å­¦ï¼Œæ¼«æ— ç›®çš„ï¼Œä¸çŸ¥é“è‡ªå·±è¦èµ°å“ªæ¡è·¯ï¼Œæ— ä¸€ä¾‹å¤–ï¼ŒåšæŒä¸‹æ¥å°±æ˜¯ä½ èµ°çš„è·¯ã€‚å¤§ä¸€åˆï¼ŒåŸæœ¬çš„è®¡ç®—æœºç½‘ç»œä¸“ä¸šï¼Œä¸“ç§‘å°±ä¸“ç§‘å‘—ï¼Œå½“æ—¶ä¹Ÿæ²¡æœ‰ä¸»è§ï¼Œå¬äº†åˆ«äººçš„è¦æ±‚ï¼Œè½¬äº†ä¸€æ¬¡ä¸“ä¸šï¼Œè½¬åˆ°äº†åœŸæœ¨ä¸“ä¸šï¼Œæˆ‘çš„æ€§æ ¼æ˜¯å±äºæ¯”è¾ƒæç«¯çš„ï¼Œæˆ–è€…è¯´åŠå…¶çš„éµå¾ªæœ¬å¿ƒï¼Œä¸“ä¸šè¯¾å­¦å¾—ä¸å¤šï¼Œç®—æ˜¯ä¸ºè‡ªå·±ä¸å¥½å¥½å­¦ä¹ æ‰¾äº†ä¸ªå€Ÿå£å§ï¼Œå¬é—»å¤§å­¦é‡Œé¢å­¦ç”Ÿä¼šæœ‰æ„æ€ï¼Œç†æ‰€åº”å½“çš„åŠ äº†ä¸€ä¸ªå­¦ç”Ÿä¼šï¼Œæ„Ÿå—äº†ä¸€ä¸‹ï¼Œç®—æ˜¯æœ‰äº†ä¸€ç‚¹è§è§£ã€‚å¤§ä¸€ç”±äºåªæ˜¯ä¸€ä¸ªå¤§ä¸€æ–°ç”Ÿï¼Œåˆç”±äºä¸€äº›è®©äººç”Ÿæ¼çš„æ„ç»ªï¼Œæˆ‘æ²¡å•¥è¡¨ç°ï¼Œåªæ˜¯æœ¬æœ¬åˆ†åˆ†çš„åšä¸€äº›ç®€å•çš„äº‹ã€‚</p><p>å¤§äºŒï¼Œå½“äº†ä¸€ä¸ªæ‰€è°“çš„éƒ¨é•¿ï¼Œå½“æ—¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œå°±æƒ³ç•™ä¸‹æ¥ï¼Œ</p><p>æˆ‘è®°å¾—å­¦ç”Ÿä¼šä¸»å¸­è¯´çš„è¯æˆ‘æœ‰ä¸€ç‚¹è§è§£ï¼Œè¯´ä½ ä»¬å½“éƒ¨é•¿ä¸æ˜¯å› ä¸ºä½ ä»¬æœ‰å¤šä¼˜ç§€ï¼Œè€Œæ˜¯åªæ˜¯ä½ ä»¬æ„¿æ„ç•™ä¸‹æ¥ã€‚æ˜¯å•Šï¼Œæ„¿æ„ç•™ä¸‹æ¥çš„æ‰æ˜¯çœŸçš„æƒ³ç•™ä¸‹æ¥çš„ï¼Œä¼˜ç§€ä¸ä¼˜ç§€ï¼Œç•™ä¸‹æ¥çš„æ‰æ˜¯çœŸçš„ã€‚ç•™ä¸‹æ¥çš„æ‰æ˜¯çœŸçš„ã€‚</p><p>æ¥ä¸‹æ¥çš„æ—¥å­ï¼Œå¤§äºŒä¸€å¹´æ˜¯æˆ‘æœ€å·…å³°çš„æ—¶å€™ï¼Œå¸¦ç€å¤§ä¸€çš„æ–°ç”Ÿä¸€èµ·ç©é—¹ï¼Œå‡ ä¸ªéƒ¨é•¿ä¹‹é—´çš„æ‰“é—¹ï¼Œè¿™æ®µæ—¶é—´ç®—æ˜¯æˆ‘å¤§å­¦é‡Œæœ€å¿«ä¹çš„æ—¶å…‰ï¼Œæˆ‘çš„æ€§æ ¼å¦‚æ­¤ï¼Œå¦‚æœæ²¡æœ‰äº‹æƒ…è®©æˆ‘ä»¬äº§ç”Ÿè”ç³»ï¼Œæˆ‘ä»¬çš„å…³ç³»åŠå…¶å®¹æ˜“å°±æ­¢æ­¥äºæ­¤ï¼Œå°±ç®—å¶å°”èƒ½æ’è§ï¼Œä¹Ÿåªæ˜¯ç®€å•çš„å¯’æš„ä¸¤å¥ï¼Œæ˜¯æ²¡æœ‰åŠæ³•å›åˆ°ä»å‰çš„ã€‚ä»å°åˆ°å¤§ï¼Œæ— ä¸€ä¾‹å¤–ï¼</p><p>å†è€…å¤§ä¸‰äº†ï¼Œå½“æ—¶ä¸Šå­¦æœŸè¿˜æ˜¯ä¸€èµ·ç›´æ¥åœ¨æ“åœºä¸Šå–å•¤é…’ï¼Œçœ¼é‡Œé—ªç€å°æ˜Ÿæ˜Ÿå’Œå¤§å®¶è¯´ç€è¢«ç²‰é¥°è¿‡åçš„çˆ±æƒ…æ•…äº‹ï¼Œå¬å®Œä¹äº†ï¼Œæˆ‘ä¹Ÿä¹äº†ã€‚ä¸Šå¤´ä¹‹åï¼Œæœ‰äººåµï¼Œæœ‰äººé—¹ï¼Œæœ‰äººå“­ç€å–Šç€è¦åƒå¥èƒƒæ¶ˆé£Ÿç‰‡ï¼Œæˆ‘ä¹Ÿä¸è¯´æ˜¯è°ï¼Œè¿™ä¸ªç¡®å®æŒºè®¨å–œã€‚åæ¥å•Šï¼Œå› ä¸ºæ²¡æœ‰å­¦ç”Ÿä¼šçš„äº¤é›†ï¼ŒåŠ ä¸Šæˆ‘æ¯•ä¸šå°†è‡³ï¼Œå†åæ¥ï¼Œå› ä¸ºä¸€åœºçªå¦‚å…¶æ¥çš„ç–«æƒ…ï¼Œæœˆäº®ä¸‹äº†å±±ï¼Œæ˜Ÿæ˜Ÿä¹Ÿå¤±äº†çº¦ï¼Œæˆ‘ä»¬éƒ½å¼„ä¸¢äº†ä¸€äº›äººå’Œäº‹ï¼Œå°½ç®¡ä½ ç°åœ¨å˜å¾—æ¯”ä»¥å‰ä¼˜ç§€äº†ã€‚</p><p>åˆæ˜¯ä¸€å¹´å¯’å†¬ï¼Œæˆ‘åœ¨ä½•å¤„å¤©æ¶¯ï¼Œä½ åˆåœ¨è°çš„ä¼ä¸‹ã€‚</p><blockquote><p>åŸæ–‡è®°äº2020å¹´å¹´æœ«ã€‚</p></blockquote><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gxdqoo9ln1j32yo1o07wj.jpg" alt="é›†åŸç¾2å‘¨å¹´ç”Ÿæ—¥å¿«ä¹"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çŸ¥æ˜“è¡Œéš¾</title>
    <link href="/2021/12/14/gossip-03/"/>
    <url>/2021/12/14/gossip-03/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>â€œæ— ä¸€ä¾‹å¤–ï¼Œæˆ‘æ°¸è¿œçŸ¥é“å“ªæ¡è·¯æ˜¯å¯¹çš„ã€‚ä½†æˆ‘ä»æ¥ä¸èµ°ï¼Œå› ä¸ºå¤ªä»–å¨˜éš¾äº†â€</p><p>â€“ è¿™å¥è¯ä¸æ˜¯æˆ‘è¯´çš„ï¼Œä½†äº‹å®å¦‚æ­¤ã€‚</p>          </div><p>è·ç¦»ä¸Šä¸€æ¬¡å†™è¿™ä¸œè¥¿çš„æ—¶å€™å·²ç»è¿‡å»æœ‰æ®µæ—¶é—´äº†ï¼Œä»æ—¶é—´ä¸Šæ¥è¯´ï¼Œæˆ‘å¹¶ä¸å¿™ï¼Œä½†æ˜¯æˆ‘å´è¿Ÿè¿Ÿä¸åŠ¨é”®ç›˜ï¼Œæˆ‘å´ä¸€ç›´æ²¡æœ‰äº§å‡ºï¼Œåœ¨ä¿æŒè¾“å‡ºçš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿæ˜¯éœ€è¦ä¿æŒè¾“å…¥çš„ï¼Œå¦åˆ™ä¼šæœ‰ä¸€ç§æ‹”å‰‘å››é¡¾å¿ƒèŒ«ç„¶çš„æ„Ÿè§‰ï¼Œåˆä¼‘çš„æ—¶å€™ï¼Œç”µè„‘é¢å‰ä¸€åï¼Œæ„Ÿè§‰æˆ‘åº”è¯¥åšç‚¹ä»€ä¹ˆï¼Œäºæ˜¯æ–°å»ºäº†ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ŒğŸ‘¼ç„¶åå®‰å¿ƒçš„æ‰“å¼€äº†åŸç¥ã€‚</p><p>ç°åœ¨ç›¸è¾ƒäºå†™demoï¼Œæ›´å¤šçš„æ—¶é—´æ˜¯åœ¨çœ‹demoï¼Œæˆ‘ä»£ç å†™çš„å¹¶ä¸å°‘ï¼ŒåšæŒæ˜¯ä¸€ä»¶å¾ˆéš¾çš„äº‹ï¼Œåœ¨ä¸€æ¬¡ä¸€æ¬¡çš„é‡å¤é€ è½®å­ä¸­ï¼Œæˆ‘çš„å†™ä»£ç çš„çƒ­æƒ…å¥½åƒè¢«æ¶ˆè€—çš„éå¸¸ä¸¥é‡ï¼Œä¸€æ®µæ—¶é—´å°±æ˜¯æ‡’ç™Œä¸Šèº«ï¼Œä¸æƒ³é‡æ„ï¼Œä¸æƒ³çœ‹è‡ªå·±å†™çš„ä»£ç ï¼Œçœ‹è‡ªå·±çš„ä»£ç æœ‰ç§æ— åŠ›çš„èŒ«ç„¶æ„Ÿï¼Œè¿™æ—¶å€™æˆ‘ä¼šæœŸå¾…æœ‰ä¸ªäººèƒ½å¸®æˆ‘é‡æ„ä¸€ä¸‹ä»£ç ï¼Œèƒ½å¸®æˆ‘æŠŠè¿™ä¸ªä»£ç å˜å¾—è€³ç›®ä¸€æ–°ï¼Œä»¥è®©æˆ‘é‡æ‹¾å¯¹ä»£ç çš„çƒ­æƒ…ï¼Œä½†å¯æƒœçš„æ˜¯ï¼Œè¿™ç§æœŸå¾…åªèƒ½æ˜¯æœŸå¾…ï¼Œåªæ˜¯æˆ‘ç»™è‡ªå·±æ‰¾çš„ä¸€ä¸ªå€Ÿå£ï¼Œå€Ÿå£çš„èƒŒåå°±æ˜¯æˆ‘çœŸå®çš„æƒ°æ€§ã€‚é“ç†éƒ½æ‡‚ï¼Œä½ ä¸æƒ³åšçš„äº‹ï¼Œå…¶å®å°±æ˜¯ä½ åº”è¯¥åšçš„äº‹ã€‚çŸ¥æ˜“è¡Œéš¾ã€‚</p><p>çœ‹å¼€æºé¡¹ç›®çš„ä»£ç ï¼Œå®é™…ä¸Šæ˜¯å¾ˆè½»æ¾çš„ï¼Œä½†æœ‰äº›äººçœ‹ä»£ç æ„Ÿè§‰ç´¯ï¼Œæ„Ÿè§‰ç´¯ï¼Œåº”è¯¥å°±æ˜¯ä»£ç å†™å°‘äº†ï¼Œéœ€è¦å¤šå¤šå­¦ä¹ ï¼Œå¸¦å…¥åŸæœ‰å¼€å‘è€…çš„æ€æƒ³ï¼Œåœ¨ä½ æœªé˜…è¯»ä¸€å®šé‡çš„ä»£ç ä¹‹å‰ï¼Œè¯·åŠ¡å¿…è™šå¿ƒå½“ä¸€ä¸ªå­¦ä¹ è€…ã€‚</p><p>åŠªåŠ›è®©è‡ªå·±æˆä¸ºäº†ä¸€ä¸ªå‚ä¸è€…ï¼Œå‚ä¸å¼€æºé¡¹ç›®ï¼Œæ˜¯æœ€å¥½çš„æå‡è‡ªå·±çš„æ–¹å¼ï¼Œå­¦ä¹ ä¼˜ç§€é¡¹ç›®çš„æ€è·¯ï¼Œæ˜¯æå‡è‡ªå·±æœ€å¥½çš„æ–¹æ³•ï¼Œ</p><h2 id="é›¾å¤±æ¥¼å°"><a href="#é›¾å¤±æ¥¼å°" class="headerlink" title="é›¾å¤±æ¥¼å°"></a>é›¾å¤±æ¥¼å°</h2><div class="note note-info">            <p>é‚£æ—¥æœ¬äººé ä¸ä½ï¼Œæˆ‘é è°å•Šï¼Ÿè€è’‹ï¼Ÿâ€</p><p>â€œæ›´é ä¸ä½ã€‚â€</p><p>â€œä¸€ä¸ªå†™æ—¥è®°çš„äººã€‚â€</p><p>â€œæ­£ç»äººè°å†™æ—¥è®°å•Šã€‚â€</p><p>â€œæ˜¯å•Šã€‚â€</p><p>â€œä½ å†™æ—¥è®°å—ã€‚â€</p><p>â€œæˆ‘ä¸å†™ã€‚â€</p><p>â€œä½ å†™æ—¥è®°å—ï¼Ÿâ€</p><p>â€œè°èƒ½æŠŠå¿ƒé‡Œè¯å†™æ—¥è®°é‡Œï¼Ÿâ€</p><p>â€œå†™å‡ºæ¥çš„å“ªèƒ½å«å¿ƒé‡Œè¯ï¼Ÿâ€</p><p>â€œä¸‹è´±ã€‚â€</p><p>â€œä¸‹è´±ã€‚â€</p>          </div><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gxdqc3tq92j31z41404qp.jpg" alt="å¥³å­©"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vue+TS+é»˜è®¤ç»„åˆå¼API</title>
    <link href="/2021/11/29/vue-03/"/>
    <url>/2021/11/29/vue-03/</url>
    
    <content type="html"><![CDATA[<p>å¯¹äºå‰ç«¯çš„å¼€å‘ï¼Œæˆ‘ä¸€ç›´æœ‰åœ¨å…³æ³¨ï¼ŒVueçš„å†™æ³•æœ‰ç‚¹å¤šï¼Œæ˜¯å¥½äº‹è¿˜æ˜¯åäº‹ï¼Œæˆ‘ä¹Ÿæä¸æ‡‚äº†ï¼Œå‡ ç§å†™æ³•æˆ‘ä¹Ÿéƒ½è¯•äº†ä¸€è¯•ï¼Œå¯èƒ½æ˜¯TSçš„åŸå› ï¼Œè§‰å¾—å¹¶ä¸æ˜¯å¾ˆå®Œç¾ï¼Œé»˜è®¤çš„å†™æ³•å¯¹TSå…¼å®¹æ€§åº”è¯¥æ˜¯æœ€å¥½çš„ï¼Œå…¼å®¹çš„åœºæ™¯è¿˜æ˜¯è›®å¤šçš„ï¼Œä½†æ˜¯ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶çš„æ—¶å€™ï¼Œæ²¡æœ‰æç¤ºã€‚</p><p><code>&lt;script setup lang=&quot;ts&quot;&gt;</code>çš„å†™æ³•ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶çš„æç¤ºååˆ†å‹å¥½ï¼Œä½†è¿™ç§å†™æ³•è®¿é—®å­ç»„ä»¶é‡Œçš„å±æ€§æ—¶ä¹Ÿä¸å‹å¥½ã€‚ä½†æ˜¯è½¬å¿µæƒ³ä¸€æƒ³ï¼Œç»„ä»¶ä¹‹é—´åº”è¯¥æ˜¯ç‹¬ç«‹çš„ï¼Œå†µä¸”Vueä¹Ÿæä¾›äº†çˆ¶å­ç»„ä»¶äº¤äº’çš„æ–¹æ³•ï¼Œçˆ¶ç»„ä»¶ç›´æ¥æ“ä½œå­ç»„ä»¶è¿™ç§è¡Œä¸ºå¹¶ä¸æ¨èã€‚è¿™ç§å†™æ³•ä»£ç çš„ç®€æ´åº¦å¾ˆé«˜ï¼ŒæŒ‰å¸¸ç†æ¥è¯´ï¼Œä»£ç è¶Šå°‘è¶Šæ˜“ç»´æŠ¤ã€‚è‡ªå·±æ–Ÿé…Œã€‚</p><p>æˆ‘æ˜¯æœŸæœ›å‰ç«¯å‘å±•å¦‚åç«¯çš„springbootä¸€æ ·ï¼Œå†™æ³•è§„èŒƒç»Ÿä¸€èµ·æ¥ï¼Œä¸ç®¡ä»ç»´æŠ¤ä¸Šï¼Œè¿˜æ˜¯å¼€å‘ä¸Šéƒ½èƒ½å‡å°‘ä¸€äº›æ²¡æœ‰å¿…è¦çš„å·¥ä½œé‡ã€‚</p><h2 id="é»˜è®¤ç»„åˆå¼APIå†™æ³•"><a href="#é»˜è®¤ç»„åˆå¼APIå†™æ³•" class="headerlink" title="é»˜è®¤ç»„åˆå¼APIå†™æ³•"></a>é»˜è®¤ç»„åˆå¼APIå†™æ³•</h2><h3 id="å“åº”å¼"><a href="#å“åº”å¼" class="headerlink" title="å“åº”å¼"></a>å“åº”å¼</h3><h4 id="ç®€å•çš„å“åº”å¼"><a href="#ç®€å•çš„å“åº”å¼" class="headerlink" title="ç®€å•çš„å“åº”å¼"></a>ç®€å•çš„å“åº”å¼</h4><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>&#123;&#123; name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>&#123;&#123;sum&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineComponent<span class="token punctuation">,</span> toRefs<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> computed<span class="token punctuation">,</span> watch<span class="token punctuation">,</span> ref <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// å®šä¹‰</span>        <span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>        <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'hahahahah'</span><span class="token punctuation">)</span>        <span class="token comment">// ä½¿ç”¨ç¬¬ä¸€æ­¥</span>        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>            sum<span class="token punctuation">,</span>name        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h4 id="å¤æ‚çš„å“åº”å¼"><a href="#å¤æ‚çš„å“åº”å¼" class="headerlink" title="å¤æ‚çš„å“åº”å¼"></a>å¤æ‚çš„å“åº”å¼</h4><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- ä½¿ç”¨ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>&#123;&#123;user.name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>&#123;&#123;user.age&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>&#123;&#123;user.sex&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineComponent<span class="token punctuation">,</span> toRefs<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> computed<span class="token punctuation">,</span> watch<span class="token punctuation">,</span> ref <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// å®šä¹‰ä¸€ä¸ªå˜é‡</span>        <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'å°çº¢'</span><span class="token punctuation">,</span>            <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>            <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'ç”·'</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>        <span class="token comment">// å¯¼å‡ºæ‰èƒ½åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨</span>        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>            user        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h4 id="ä¸€äº›å°å¦™æ‹›"><a href="#ä¸€äº›å°å¦™æ‹›" class="headerlink" title="ä¸€äº›å°å¦™æ‹›"></a>ä¸€äº›å°å¦™æ‹›</h4><p>ä¸æƒ³åœ¨returnä¸­å†™å¤ªå¤šçš„æ„Ÿè§‰æ²¡å•¥æ„ä¹‰çš„ä»£ç ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è¿™æ ·å†™</p><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- ä½¿ç”¨ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>&#123;&#123; user.name &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>&#123;&#123; user.age &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>&#123;&#123; user.sex &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>&#123;&#123; sum &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sunc('233')<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æŒ‰é’®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineComponent<span class="token punctuation">,</span> toRefs<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> computed<span class="token punctuation">,</span> watch<span class="token punctuation">,</span> ref <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>            <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'å°çº¢'</span><span class="token punctuation">,</span>                <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>                <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'ç”·'</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token comment">// å¯ä»¥å†™ä»»æ„å˜é‡ï¼Œå°±ä¸éœ€è¦åœ¨returnä¸­å†™äº†</span>            <span class="token literal-property property">sum</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>            <span class="token comment">// å‡½æ•°ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œé¢å†™</span>            <span class="token function">sunc</span><span class="token punctuation">(</span>id<span class="token operator">:</span>string<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span> <span class="token punctuation">&#123;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'id='</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token comment">// è®¡ç®—å±æ€§ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œå†™ï¼Œå°±ä¸éœ€è¦åœ¨returné‡Œé¢å†™å¾ˆå¤šä»£ç äº†ã€‚</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// è§£æ„å¯¼å‡ºï¼Œè®¿é—®çš„æ—¶å€™ä¸éœ€è¦å¸¦ä¸Šdata</span>            <span class="token operator">...</span><span class="token function">toRefs</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ç›‘å¬äº‹ä»¶"><a href="#ç›‘å¬äº‹ä»¶" class="headerlink" title="ç›‘å¬äº‹ä»¶"></a>ç›‘å¬äº‹ä»¶</h3><p>å…³äºç›‘å¬çš„APIè¿˜æŒºå¤šçš„ï¼Œè¿™é‡Œä¸è¿‡å¤šä»‹ç»ï¼Œåªä»‹ç»å¸¸è§çš„ã€‚</p><h4 id="ç®€å•çš„ç›‘å¬"><a href="#ç®€å•çš„ç›‘å¬" class="headerlink" title="ç®€å•çš„ç›‘å¬"></a>ç®€å•çš„ç›‘å¬</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>       <span class="token keyword">const</span> fastName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'3222'</span><span class="token punctuation">)</span>       <span class="token function">watch</span><span class="token punctuation">(</span>fastName<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span>oldVal</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>           console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal <span class="token operator">+</span><span class="token string">'---'</span><span class="token operator">+</span>oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>       <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>           fastName       <span class="token punctuation">&#125;</span>   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h4 id="ä¾¦å¬ä¸€ä¸ªGetterå‡½æ•°"><a href="#ä¾¦å¬ä¸€ä¸ªGetterå‡½æ•°" class="headerlink" title="ä¾¦å¬ä¸€ä¸ªGetterå‡½æ•°"></a>ä¾¦å¬ä¸€ä¸ªGetterå‡½æ•°</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// ä½¿ç”¨reactiveå®šä¹‰çš„ä¸èƒ½ç›´æ¥data.user.nameæ¥ç›‘å¬ã€‚</span>    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'å°çº¢'</span><span class="token punctuation">,</span>            <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>            <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'ç”·'</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token comment">// å¯ä»¥å†™ä»»æ„å˜é‡ï¼Œå°±ä¸éœ€è¦åœ¨returnä¸­å†™äº†</span>        <span class="token literal-property property">sum</span><span class="token operator">:</span> <span class="token number">200</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token comment">// ä½¿ç”¨è¿™ç§æ–¹å¼å°±æ˜¯å¯ä»¥ç›‘å¬å¾—åˆ°ã€‚</span>    <span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> data<span class="token punctuation">.</span>user<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal <span class="token operator">+</span> <span class="token string">'---'</span> <span class="token operator">+</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// è§£æ„å¯¼å‡ºï¼Œè®¿é—®çš„æ—¶å€™ä¸éœ€è¦å¸¦ä¸Šdata</span>        <span class="token operator">...</span><span class="token function">toRefs</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h4 id="ç›‘å¬å¤šä¸ªæº"><a href="#ç›‘å¬å¤šä¸ªæº" class="headerlink" title="ç›‘å¬å¤šä¸ªæº"></a>ç›‘å¬å¤šä¸ªæº</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> fooRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span>    <span class="token keyword">const</span> barRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">"bar"</span><span class="token punctuation">)</span>    <span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>fooRef<span class="token punctuation">,</span> barRef<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>foo<span class="token punctuation">,</span> bar<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>prevFoo<span class="token punctuation">,</span> prevBar<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'newVal = '</span> <span class="token operator">+</span> foo<span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> bar<span class="token operator">+</span><span class="token string">',,,oldVal'</span> <span class="token operator">+</span> prevFoo<span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> prevBar<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å®šä¹‰Props"><a href="#å®šä¹‰Props" class="headerlink" title="å®šä¹‰Props"></a>å®šä¹‰Props</h3><h4 id="ç®€å•çš„å®šä¹‰"><a href="#ç®€å•çš„å®šä¹‰" class="headerlink" title="ç®€å•çš„å®šä¹‰"></a>ç®€å•çš„å®šä¹‰</h4><p>çˆ¶ç»„ä»¶ä¼ å€¼æ—¶ä¼šæœ‰ç±»å‹æ ¡éªŒã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>ctx</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h4 id="é«˜ç«¯çš„å®šä¹‰"><a href="#é«˜ç«¯çš„å®šä¹‰" class="headerlink" title="é«˜ç«¯çš„å®šä¹‰"></a>é«˜ç«¯çš„å®šä¹‰</h4><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">interface</span> <span class="token class-name">Book</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">title</span><span class="token operator">:</span> string  <span class="token literal-property property">author</span><span class="token operator">:</span> string  <span class="token literal-property property">year</span><span class="token operator">:</span> number<span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// æ™®é€šå˜é‡</span>    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>      <span class="token comment">// é»˜è®¤å€¼</span>      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token string">'è¿™æ˜¯é»˜è®¤å€¼'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token comment">// æ ¡éªŒ</span>      <span class="token function-variable function">validator</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">msg</span><span class="token operator">:</span> String</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> msg<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">3</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token comment">// å¯¹è±¡å˜é‡</span>    <span class="token literal-property property">book</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// è¦ä½¿ç”¨PropTypeæ¥å®šä¹‰å˜é‡</span>      <span class="token literal-property property">type</span><span class="token operator">:</span> Object <span class="token keyword">as</span> PropType<span class="token operator">&lt;</span>Book<span class="token operator">></span><span class="token punctuation">,</span>      <span class="token comment">// è¯·åŠ¡å¿…ä½¿ç”¨ç®­å¤´å‡½æ•°</span>      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'è¿™æ˜¯ä¸€ä¸ªé”™è¯¯'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token function-variable function">validator</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">book</span><span class="token operator">:</span> Book</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">!</span><span class="token operator">!</span>book<span class="token punctuation">.</span>title    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="è‡ªå®šä¹‰äº‹ä»¶"><a href="#è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="è‡ªå®šä¹‰äº‹ä»¶"></a>è‡ªå®šä¹‰äº‹ä»¶</h3><p>propså’Œè‡ªå®šä¹‰äº‹ä»¶éƒ½å±äºç»„ä»¶åŒ–å¸¸ç”¨çš„ï¼Œè‡ªå®šä¹‰äº‹ä»¶çš„å†å²åŒ…è¢±è¿‡é‡ï¼Œåœ¨setupçš„å†™æ³•ä¸­å¾—åˆ°äº†è§£å†³ï¼Œè¿™ä¸ªç»„åˆå¼APIä¸­æ²¡å•¥å¥½çš„åŠæ³•</p><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// è¿™é‡Œä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> ctx</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> aaaa <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>      <span class="token function">changeTaa</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// æŠ›å‡ºäº‹ä»¶ï¼Œäº‹ä»¶åä¸ºdel</span>        ctx<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'del'</span><span class="token punctuation">,</span> <span class="token number">233</span><span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>      <span class="token operator">...</span><span class="token function">toRefs</span><span class="token punctuation">(</span>aaaa<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> ç›‘å¬éƒ¨åˆ† <span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>HelloWorld ref<span class="token operator">=</span><span class="token string">"model"</span> @del<span class="token operator">=</span><span class="token string">"testEmit"</span><span class="token operator">/</span><span class="token operator">></span><span class="token comment">// å½“åœ¨å­ç»„ä»¶ä¸­æŠ›å‡ºäº‹ä»¶æ­¤æ–¹æ³•å°±ä¼šè¢«è§¦å‘ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•è¿”å›å€¼æ¥ç»™å­ç»„ä»¶ä¼ é€’æ•°æ®ã€‚å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼ŒåŠåŠå­å¾ˆéš¾çš„å•¦ã€‚</span><span class="token function">testEmit</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">id</span><span class="token operator">:</span>string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è‡ªå®šä¹‰äº‹ä»¶è§¦å‘äº†'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'id='</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>åˆ°è¿™ï¼Œå¸¸ç”¨çš„ç»„åˆå¼APIçš„å†™æ³•å…¶å®å°±å·²ç»å·®ä¸å¤šäº†ã€‚</p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gwwg1k0x9cj32yo1o04qq.jpg" alt="é›†åŸç¾Sky train"></p>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
      <tag>typescript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringBoot2.5.xæ•´åˆQuartzå¹¶æŒä¹…åŒ–</title>
    <link href="/2021/11/22/java-05/"/>
    <url>/2021/11/22/java-05/</url>
    
    <content type="html"><![CDATA[<p>é£é£ç«ç«ï¼Œæææƒšæƒšï¼Œspringboot2.6.0æ­£å¼ç‰ˆä¹Ÿå‘å¸ƒäº†ï¼ŒåŒæ—¶ä¹Ÿå®£å¸ƒäº†2.4xç‰ˆæœ¬åœæ­¢ç»´æŠ¤ã€‚2.5.xç³»åˆ—ä¹Ÿæ˜¯ç›®å‰è‡ªå·±å†™Demoåœ¨ç”¨çš„ï¼Œä¸ºä»€ä¹ˆè¦è®°å½•ä¸‹æ¥å‘¢ï¼Œ ä¸»è¦æˆ‘æŠŠé¡¹ç›®å‡çº§åˆ°2.6ä¹‹åé¡¹ç›®è·‘ä¸èµ·æ¥äº†ï¼ŒåŸå› æˆ‘çŸ¥é“ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“æ€ä¹ˆè§£å†³ï¼Œçœ‹äº†çœ‹æœºç¿»çš„æ›´æ–°æ–‡æ¡£ï¼Œæœ‰å¤„å¯èƒ½æ˜¯å½±å“æˆ‘é¡¹ç›®è·‘ä¸èµ·æ¥çš„åŸå› ï¼Œå°±æ˜¯é™åˆ¶äº†ä¾èµ–çš„å¾ªç¯å¯¼å…¥ï¼Œç°åœ¨ä¾èµ–å¾ªç¯å¯¼å…¥ï¼Œé¡¹ç›®æ˜¯ä¼šç›´æ¥è·‘ä¸èµ·æ¥ã€‚æˆ‘çš„é—®é¢˜æ˜¯é¡¹ç›®é‡Œè·å–ä¸åˆ°DataSourceæ•°æ®æºï¼Œæˆ‘ç”¨äº†å„ç§å§¿åŠ¿ï¼Œéƒ½è·å–ä¸åˆ°ï¼Œé“ä»”åœ¨çº¿ç–‘æƒ‘ã€‚æ—¢ç„¶ä¸èƒ½æ— ç¼å‡çº§ï¼Œé‚£æˆ‘å°±è®°ä¸‹æ¥ä¸€ä¸ªæ­£å¸¸çš„ç‰ˆæœ¬ã€‚</p><p>å®šæ—¶ä»»åŠ¡æ˜¯å¾ˆå¸¸ç”¨çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œæ¯”å¦‚ç®€å•çš„ç”Ÿæ—¥æé†’ï¼Œæ¯å¤©å®šç‚¹æŸ¥è¯¢ç”¨æˆ·çš„ç”Ÿæ—¥ä¿¡æ¯ã€‚ç„¶åå‘å‡ºä¸€ç³»åˆ—çš„æç¤ºæ“ä½œã€‚ä¸äº†è§£ä½ å°±æ„Ÿè§‰å¾ˆéš¾ï¼Œä½†æ˜¯ç°åœ¨springç»™æˆ‘ä»¬å¸¦æ¥äº†å¾ˆå¤šçš„ä¾¿åˆ©ï¼Œçœ‹ä¸€çœ‹ï¼Œåœ¨å¤´è„‘é£æš´ä¸€ä¸‹ï¼Œä¹Ÿä¸éš¾ã€‚ç¼–ç¨‹ä¸€é€”ï¼Œæ®Šé€”åŒå½’ã€‚</p><p>ä¸»è¦å·¥ä½œä¸­å¥½å¤šåŒæ­¥ä»£ç æ„Ÿè§‰éƒ½å¯ä»¥ä½¿ç”¨å®šæ—¶ä»»åŠ¡æ¥å¤„ç†ï¼Œç„¶è€Œå®é™…ä¸Šç”¨çš„æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„Mainæ–¹æ³•ï¼Œåæ§½å§ï¼Œäººå®¶é‚£ä»£ç åˆä¸æ˜¯ä¸èƒ½è·‘ï¼Œä¸ä»…èƒ½è·‘ï¼Œè¿˜èƒ½èµšé’±ã€‚æ²¡å•¥å¥½åæ§½çš„ï¼Œå°±æ˜¯ç»´æŠ¤æ—¶æƒ³éª‚å¨˜ï¼Œéª‚å¨˜å°±éª‚å¨˜ï¼Œè¿˜ååˆ†å®¹æ˜“å‡ºé”™ã€‚</p><h2 id="æ ¸å¿ƒé…ç½®ç±»"><a href="#æ ¸å¿ƒé…ç½®ç±»" class="headerlink" title="æ ¸å¿ƒé…ç½®ç±»"></a>æ ¸å¿ƒé…ç½®ç±»</h2><p>ç”¨äº†è¿™ä¸ªé…ç½®ç±»ï¼Œè…°ä¸é…¸äº†ï¼Œè…¿ä¸ç—›äº†ï¼Œä¸€æ¬¡èƒ½çˆ¬äº”å±‚æ¥¼ã€‚è§‰ä¹Ÿç¡çš„é¦™äº†ã€‚å¥½å§ï¼Œå‰é¢çº¯å±æ‰¯æ·¡ï¼Œå†™äº†è¿™ä¸ªymlä¸­å°±ä¸éœ€è¦é…ç½®äº†ï¼Œå¤§è‡´çœ‹ä¸€ä¸‹æ¯è¡Œçš„æ³¨é‡Šï¼Œæµ‹è¯•å­¦ä¹ ä¸­ä»¥å…ˆè·‘èµ·æ¥ä¸ºä¸»ï¼Œç„¶åå†æ…¢æ…¢ç ”ç©¶å³å¯ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>wangijun<span class="token punctuation">.</span>springbootdemo<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span><span class="token comment">/** * quartzé…ç½®ç±» */</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QuartzConfig</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * æ­¤ç§æ³¨å…¥æ–¹å¼ï¼Œåœ¨springboot2.6ä¸­è·å–ä¸åˆ°ï¼Œ     */</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">;</span>    <span class="token comment">/**     * Describe: å®šæ—¶ä»»åŠ¡å·¥å‚     * Param: DataSource     * Return: ScheduleFactoryBean     * */</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">SchedulerFactoryBean</span> <span class="token function">schedulerFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Properties</span> prop <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// QlSchedulerè¿™ä¸ªå€¼å¯ä»¥è‡ªå®šä¹‰</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.scheduler.instanceName"</span><span class="token punctuation">,</span> <span class="token string">"QlScheduler"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è®¾ç½®ä¸ºAUTOæ—¶ä½¿ç”¨ï¼Œé»˜è®¤çš„å®ç°org.quartz.scheduler.SimpleInstanceGeneratoræ˜¯åŸºäºä¸»æœºåç§°å’Œæ—¶é—´æˆ³ç”Ÿæˆã€‚</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.scheduler.instanceId"</span><span class="token punctuation">,</span> <span class="token string">"AUTO"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// çº¿ç¨‹æ± ç›¸å…³é…ç½®</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.threadPool.class"</span><span class="token punctuation">,</span> <span class="token string">"org.quartz.simpl.SimpleThreadPool"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.threadPool.threadCount"</span><span class="token punctuation">,</span> <span class="token string">"20"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.threadPool.threadPriority"</span><span class="token punctuation">,</span> <span class="token string">"5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// JobStoreTXåœ¨æ¯æ¬¡æ‰§è¡Œä»»åŠ¡åéƒ½ä½¿ç”¨commitæˆ–è€…rollbackæ¥æäº¤æ›´æ”¹ã€‚</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.jobStore.class"</span><span class="token punctuation">,</span> <span class="token string">"org.quartz.impl.jdbcjobstore.JobStoreTX"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// é›†ç¾¤é…ç½®ï¼šå¦‚æœæœ‰å¤šä¸ªè°ƒåº¦å™¨å®ä½“çš„è¯åˆ™å¿…é¡»è®¾ç½®ä¸ºtrueï¼Œå¦‚æœé¡¹ç›®éƒ¨ç½²äº†å¤šä¸ªï¼Œå°±è®¾ç½®ä¸ºtrue</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.jobStore.isClustered"</span><span class="token punctuation">,</span> <span class="token string">"false"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// é›†ç¾¤é…ç½®ï¼šæ£€æŸ¥é›†ç¾¤ä¸‹çš„å…¶ä»–è°ƒåº¦å™¨å®ä½“çš„æ—¶é—´é—´éš”</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.jobStore.clusterCheckinInterval"</span><span class="token punctuation">,</span> <span class="token string">"15000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è®¾ç½®ä¸€ä¸ªé¢‘åº¦(æ¯«ç§’)ï¼Œç”¨äºå®ä¾‹æŠ¥å‘Šç»™é›†ç¾¤ä¸­çš„å…¶ä»–å®ä¾‹</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.jobStore.maxMisfiresToHandleAtATime"</span><span class="token punctuation">,</span> <span class="token string">"5000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è§¦å‘å™¨è§¦å‘å¤±è´¥åå†æ¬¡è§¦çŠ¯çš„æ—¶é—´é—´éš”</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.jobStore.misfireThreshold"</span><span class="token punctuation">,</span> <span class="token string">"12000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ•°æ®åº“è¡¨å‰ç¼€ é‡ç‚¹è¿™ä¸ªå’Œå»ºè¡¨SQLæ˜¯å¯¹åº”çš„å…³ç³»ï¼Œå¦‚æœæ”¹äº†éœ€è¦æ”¹åŠ¨å»ºè¡¨è¯­å¥</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.jobStore.tablePrefix"</span><span class="token punctuation">,</span> <span class="token string">"schedule_"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// ä» LOCKS è¡¨æŸ¥è¯¢ä¸€è¡Œå¹¶å¯¹è¿™è¡Œè®°å½•åŠ é”çš„ SQL è¯­å¥</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.jobStore.selectWithLockSQL"</span><span class="token punctuation">,</span> <span class="token string">"SELECT * FROM &#123;0&#125;LOCKS UPDLOCK WHERE LOCK_NAME = ?"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SchedulerFactoryBean</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SchedulerFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ•°æ®æº</span>        factory<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// ä¸Šé¢çš„é…ç½®</span>        factory<span class="token punctuation">.</span><span class="token function">setQuartzProperties</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å¯è‡ªå®šä¹‰</span>        factory<span class="token punctuation">.</span><span class="token function">setSchedulerName</span><span class="token punctuation">(</span><span class="token string">"QlScheduler"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// é¡¹ç›®å¯åŠ¨å30ç§’åå¯åŠ¨å¼€å§‹æ‰§è¡Œå®šæ—¶ä»»åŠ¡</span>        factory<span class="token punctuation">.</span><span class="token function">setStartupDelay</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        factory<span class="token punctuation">.</span><span class="token function">setApplicationContextSchedulerContextKey</span><span class="token punctuation">(</span><span class="token string">"applicationContextKey"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        factory<span class="token punctuation">.</span><span class="token function">setOverwriteExistingJobs</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è‡ªåŠ¨å¯åŠ¨</span>        factory<span class="token punctuation">.</span><span class="token function">setAutoStartup</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> factory<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><div class="note note-info">            <p>æ­¤ç§é…ç½®çš„Quartzæ˜¯æŒä¹…åŒ–åˆ°æ•°æ®åº“çš„ï¼Œå°±æ˜¯é¡¹ç›®é‡å¯å®šæ—¶ä»»åŠ¡çš„çŠ¶æ€å¹¶ä¸ä¼šä¸¢å¤±ã€‚</p>          </div><h2 id="ç”¨äºWebç®¡ç†Bean"><a href="#ç”¨äºWebç®¡ç†Bean" class="headerlink" title="ç”¨äºWebç®¡ç†Bean"></a>ç”¨äºWebç®¡ç†Bean</h2><p>å¯ä»¥è‡ªå®šä¹‰ï¼Œè¦ç‚¹çœ‹ä»£ç æ³¨é‡Šã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>wangijun<span class="token punctuation">.</span>springbootdemo<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span><span class="token comment">/**    * å®šæ—¶ä»»åŠ¡    */</span><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"schedule_job"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ScheduleJob</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span> <span class="token comment">// å¿…é¡»åºåˆ—åŒ–</span>    <span class="token comment">// å¿…é¡»è¦æœ‰</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">JOB_PARAM_KEY</span> <span class="token operator">=</span> <span class="token string">"JOB_PARAM_KEY"</span><span class="token punctuation">;</span>    <span class="token comment">/**     * ä»»åŠ¡id     */</span>    <span class="token annotation punctuation">@TableId</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token class-name">IdType</span><span class="token punctuation">.</span><span class="token constant">ASSIGN_ID</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>    <span class="token comment">/**     * spring beanåç§°     */</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"bean_name"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> beanName<span class="token punctuation">;</span>    <span class="token comment">/**     * å‚æ•°     */</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"params"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> params<span class="token punctuation">;</span>    <span class="token comment">/**     * cronè¡¨è¾¾å¼     */</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"cron_expression"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> cronExpression<span class="token punctuation">;</span>    <span class="token comment">/**     * ä»»åŠ¡çŠ¶æ€  0ï¼šæ­£å¸¸  1ï¼šæš‚åœ     */</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"`status`"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Byte</span> status<span class="token punctuation">;</span>    <span class="token comment">/**     * å¤‡æ³¨     */</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"remark"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> remark<span class="token punctuation">;</span>    <span class="token comment">/**     * åˆ›å»ºæ—¶é—´     */</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"create_time"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> createTime<span class="token punctuation">;</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"job_name"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> jobName<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span> <span class="token comment">// å¿…é¡»è¦æœ‰</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å®šæ—¶ä»»åŠ¡æ‰§è¡Œæ—¥å¿—Bean"><a href="#å®šæ—¶ä»»åŠ¡æ‰§è¡Œæ—¥å¿—Bean" class="headerlink" title="å®šæ—¶ä»»åŠ¡æ‰§è¡Œæ—¥å¿—Bean"></a>å®šæ—¶ä»»åŠ¡æ‰§è¡Œæ—¥å¿—Bean</h2><p>ä¸»è¦å°±æ˜¯è®°å½•ä¸€ä¸‹æ—¥å¿—ï¼Œå¯æ ¹æ®è‡ªå·±éœ€æ±‚ï¼Œè‡ªè¡Œæ‰©å±•ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>wangijun<span class="token punctuation">.</span>qluiserver<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span><span class="token comment">/**    * å®šæ—¶ä»»åŠ¡æ—¥å¿—    */</span><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"schedule_log"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ScheduleLog</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * ä»»åŠ¡æ—¥å¿—id     */</span>    <span class="token annotation punctuation">@TableId</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token class-name">IdType</span><span class="token punctuation">.</span><span class="token constant">INPUT</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>    <span class="token comment">/**     * ä»»åŠ¡id     */</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"job_id"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> jobId<span class="token punctuation">;</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"job_name"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> jobName<span class="token punctuation">;</span>    <span class="token comment">/**     * å‚æ•°     */</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"params"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> params<span class="token punctuation">;</span>    <span class="token comment">/**     * ä»»åŠ¡çŠ¶æ€    0ï¼šæˆåŠŸ    1ï¼šå¤±è´¥     */</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"`status`"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> status<span class="token punctuation">;</span>    <span class="token comment">/**     * å¤±è´¥ä¿¡æ¯     */</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"error"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> error<span class="token punctuation">;</span>    <span class="token comment">/**     * è€—æ—¶(å•ä½ï¼šæ¯«ç§’)     */</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"times"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> times<span class="token punctuation">;</span>    <span class="token comment">/**     * åˆ›å»ºæ—¶é—´     */</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"create_time"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> createTime<span class="token punctuation">;</span>    <span class="token comment">/**     * spring beanåç§°     */</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"bean_name"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> beanName<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="æ‰§è¡Œå®šæ—¶ä»»åŠ¡çš„ä¸Šä¸‹æ–‡"><a href="#æ‰§è¡Œå®šæ—¶ä»»åŠ¡çš„ä¸Šä¸‹æ–‡" class="headerlink" title="æ‰§è¡Œå®šæ—¶ä»»åŠ¡çš„ä¸Šä¸‹æ–‡"></a>æ‰§è¡Œå®šæ—¶ä»»åŠ¡çš„ä¸Šä¸‹æ–‡</h2><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>wangijun<span class="token punctuation">.</span>springbootdemo<span class="token punctuation">.</span>schedule</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span><span class="token comment">/** * Describe: å®šæ—¶ä»»åŠ¡æ‰§è¡Œä¸Šä¸‹æ–‡ * Author: å°±å…ä»ªå¼ * CreateTime: 2019/10/23 * */</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ScheduleContext</span> <span class="token keyword">extends</span> <span class="token class-name">QuartzJobBean</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * Describe: æ‰§è¡Œä»»åŠ¡å¹¶è®°å½•æ—¥å¿—     * Param: JobExecutionContext     * Return: æ— è¿”å›å€¼     * */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">executeInternal</span><span class="token punctuation">(</span><span class="token class-name">JobExecutionContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Object</span> o <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getMergedJobDataMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">ScheduleJob</span><span class="token punctuation">.</span><span class="token constant">JOB_PARAM_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ScheduleJob</span> jobBean <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ScheduleJob</span><span class="token punctuation">)</span> o<span class="token punctuation">;</span>        <span class="token class-name">ScheduleLogService</span> scheduleJobLogService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ScheduleLogService</span><span class="token punctuation">)</span> <span class="token class-name">SpringUtil</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"scheduleLogService"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ScheduleLog</span> logBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ScheduleLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>        logBean<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">IdWorker</span><span class="token punctuation">.</span><span class="token function">getIdStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        logBean<span class="token punctuation">.</span><span class="token function">setJobId</span><span class="token punctuation">(</span>jobBean<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        logBean<span class="token punctuation">.</span><span class="token function">setJobName</span><span class="token punctuation">(</span>jobBean<span class="token punctuation">.</span><span class="token function">getJobName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        logBean<span class="token punctuation">.</span><span class="token function">setBeanName</span><span class="token punctuation">(</span>jobBean<span class="token punctuation">.</span><span class="token function">getBeanName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        logBean<span class="token punctuation">.</span><span class="token function">setParams</span><span class="token punctuation">(</span>jobBean<span class="token punctuation">.</span><span class="token function">getParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        logBean<span class="token punctuation">.</span><span class="token function">setCreateTime</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">long</span> beginTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Object</span> target <span class="token operator">=</span> <span class="token class-name">SpringUtil</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>jobBean<span class="token punctuation">.</span><span class="token function">getBeanName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Method</span> method <span class="token operator">=</span> target<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">"run"</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> jobBean<span class="token punctuation">.</span><span class="token function">getParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">long</span> executeTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> beginTime<span class="token punctuation">;</span>            logBean<span class="token punctuation">.</span><span class="token function">setTimes</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> executeTime<span class="token punctuation">)</span><span class="token punctuation">;</span>            logBean<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"å®šæ—¶å™¨ === >> "</span> <span class="token operator">+</span> jobBean<span class="token punctuation">.</span><span class="token function">getJobName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"æ‰§è¡ŒæˆåŠŸ,è€—æ—¶ === >> "</span> <span class="token operator">+</span> executeTime<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">long</span> executeTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> beginTime<span class="token punctuation">;</span>            logBean<span class="token punctuation">.</span><span class="token function">setTimes</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>executeTime<span class="token punctuation">)</span><span class="token punctuation">;</span>            logBean<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            logBean<span class="token punctuation">.</span><span class="token function">setError</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getCause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            e<span class="token punctuation">.</span><span class="token function">getCause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>            scheduleJobLogService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>logBean<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å®šæ—¶ä»»åŠ¡å¤„ç†å™¨"><a href="#å®šæ—¶ä»»åŠ¡å¤„ç†å™¨" class="headerlink" title="å®šæ—¶ä»»åŠ¡å¤„ç†å™¨"></a>å®šæ—¶ä»»åŠ¡å¤„ç†å™¨</h2><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>wangijun<span class="token punctuation">.</span>springbootdemo<span class="token punctuation">.</span>schedule</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span><span class="token comment">/** * Describe: å®šæ—¶ä»»åŠ¡å¤„ç†å™¨ * Author: å°±å…ä»ªå¼ * CreateTime: 2019/10/23 * */</span><span class="token annotation punctuation">@NoArgsConstructor</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ScheduleHandler</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * å®šæ—¶ä»»åŠ¡æ ‡è¯† Key,     * */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">SCHEDULE_NAME</span> <span class="token operator">=</span> <span class="token string">"Ql_"</span> <span class="token punctuation">;</span>    <span class="token comment">/**     * è§¦å‘å™¨ KEY     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">TriggerKey</span> <span class="token function">getTriggerKey</span><span class="token punctuation">(</span><span class="token class-name">Long</span> jobId<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">TriggerKey</span><span class="token punctuation">.</span><span class="token function">triggerKey</span><span class="token punctuation">(</span><span class="token constant">SCHEDULE_NAME</span> <span class="token operator">+</span> jobId<span class="token punctuation">)</span> <span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å®šæ—¶å™¨ Key     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">JobKey</span> getJobKey <span class="token punctuation">(</span><span class="token class-name">Long</span> jobId<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">JobKey</span><span class="token punctuation">.</span><span class="token function">jobKey</span><span class="token punctuation">(</span><span class="token constant">SCHEDULE_NAME</span><span class="token operator">+</span>jobId<span class="token punctuation">)</span> <span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è¡¨è¾¾å¼è§¦å‘å™¨     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">CronTrigger</span> getCronTrigger <span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">,</span> <span class="token class-name">Long</span> jobId<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">CronTrigger</span><span class="token punctuation">)</span>scheduler<span class="token punctuation">.</span><span class="token function">getTrigger</span><span class="token punctuation">(</span><span class="token function">getTriggerKey</span><span class="token punctuation">(</span>jobId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Describe: åˆ›å»ºå®šæ—¶ä»»åŠ¡     * Param: Scheduler ScheduleJobBean     * Return: null     * */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> createJob <span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">,</span> <span class="token class-name">ScheduleJob</span> scheduleJob<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// æ„å»ºå®šæ—¶å™¨</span>            <span class="token class-name">JobDetail</span> jobDetail <span class="token operator">=</span> <span class="token class-name">JobBuilder</span><span class="token punctuation">.</span><span class="token function">newJob</span><span class="token punctuation">(</span><span class="token class-name">ScheduleContext</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withIdentity</span><span class="token punctuation">(</span><span class="token function">getJobKey</span><span class="token punctuation">(</span><span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>            <span class="token class-name">CronScheduleBuilder</span> scheduleBuilder <span class="token operator">=</span> <span class="token class-name">CronScheduleBuilder</span>                    <span class="token punctuation">.</span><span class="token function">cronSchedule</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">.</span><span class="token function">getCronExpression</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">withMisfireHandlingInstructionDoNothing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>            <span class="token class-name">CronTrigger</span> trigger <span class="token operator">=</span> <span class="token class-name">TriggerBuilder</span><span class="token punctuation">.</span><span class="token function">newTrigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">withIdentity</span><span class="token punctuation">(</span><span class="token function">getTriggerKey</span><span class="token punctuation">(</span><span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">withSchedule</span><span class="token punctuation">(</span>scheduleBuilder<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            jobDetail<span class="token punctuation">.</span><span class="token function">getJobDataMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">ScheduleJob</span><span class="token punctuation">.</span><span class="token constant">JOB_PARAM_KEY</span><span class="token punctuation">,</span>scheduleJob<span class="token punctuation">)</span><span class="token punctuation">;</span>            scheduler<span class="token punctuation">.</span><span class="token function">scheduleJob</span><span class="token punctuation">(</span>jobDetail<span class="token punctuation">,</span>trigger<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// å¦‚æœè¯¥å®šæ—¶å™¨å¤„äºæš‚åœçŠ¶æ€</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">.</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token function">pauseJob</span><span class="token punctuation">(</span>scheduler<span class="token punctuation">,</span><span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"createJob Fail"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span> <span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Describe: æ›´æ–°å®šæ—¶ä»»åŠ¡     * Param: Scheduler ScheduleJobBean     * Return: null     * */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">updateJob</span><span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">,</span> <span class="token class-name">ScheduleJob</span> scheduleJob<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">TriggerKey</span> triggerKey <span class="token operator">=</span> <span class="token function">getTriggerKey</span><span class="token punctuation">(</span><span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">CronScheduleBuilder</span> scheduleBuilder <span class="token operator">=</span> <span class="token class-name">CronScheduleBuilder</span><span class="token punctuation">.</span><span class="token function">cronSchedule</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">.</span><span class="token function">getCronExpression</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withMisfireHandlingInstructionDoNothing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">CronTrigger</span> trigger <span class="token operator">=</span> <span class="token function">getCronTrigger</span><span class="token punctuation">(</span>scheduler<span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">assert</span> trigger <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            trigger <span class="token operator">=</span> trigger<span class="token punctuation">.</span><span class="token function">getTriggerBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withIdentity</span><span class="token punctuation">(</span>triggerKey<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withSchedule</span><span class="token punctuation">(</span>scheduleBuilder<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            trigger<span class="token punctuation">.</span><span class="token function">getJobDataMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">ScheduleJob</span><span class="token punctuation">.</span><span class="token constant">JOB_PARAM_KEY</span><span class="token punctuation">,</span> scheduleJob<span class="token punctuation">)</span><span class="token punctuation">;</span>            scheduler<span class="token punctuation">.</span><span class="token function">rescheduleJob</span><span class="token punctuation">(</span>triggerKey<span class="token punctuation">,</span> trigger<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">.</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token function">pauseJob</span><span class="token punctuation">(</span>scheduler<span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"updateJob Fail"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Describe: åœæ­¢å®šæ—¶ä»»åŠ¡     * Param: Scheduler ScheduleJobBean     * Return: null     * */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> pauseJob <span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">,</span> <span class="token class-name">Long</span> jobId<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            scheduler<span class="token punctuation">.</span><span class="token function">pauseJob</span><span class="token punctuation">(</span><span class="token function">getJobKey</span><span class="token punctuation">(</span>jobId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"pauseJob Fail"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Describe: æ¢å¤å®šæ—¶ä»»åŠ¡     * Param: Scheduler ScheduleJobBean     * Return: null     * */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> resumeJob <span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">,</span> <span class="token class-name">Long</span> jobId<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            scheduler<span class="token punctuation">.</span><span class="token function">resumeJob</span><span class="token punctuation">(</span><span class="token function">getJobKey</span><span class="token punctuation">(</span>jobId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"resumeJob Fail"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Describe: åˆ é™¤å®šæ—¶ä»»åŠ¡     * Param: Scheduler ScheduleJobBean     * Return: null     * */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> deleteJob <span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">,</span> <span class="token class-name">Long</span> jobId<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            scheduler<span class="token punctuation">.</span><span class="token function">deleteJob</span><span class="token punctuation">(</span><span class="token function">getJobKey</span><span class="token punctuation">(</span>jobId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"deleteJob Fail"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Describe: æ‰§è¡Œå®šæ—¶ä»»åŠ¡     * Param: Scheduler ScheduleJobBean     * Return: null     * */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> run <span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">,</span> <span class="token class-name">ScheduleJob</span> scheduleJob<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">JobDataMap</span> dataMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JobDataMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>            dataMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">ScheduleJob</span><span class="token punctuation">.</span><span class="token constant">JOB_PARAM_KEY</span><span class="token punctuation">,</span>scheduleJob<span class="token punctuation">)</span><span class="token punctuation">;</span>            scheduler<span class="token punctuation">.</span><span class="token function">triggerJob</span><span class="token punctuation">(</span><span class="token function">getJobKey</span><span class="token punctuation">(</span><span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dataMap<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"run Fail"</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span> <span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å®šæ—¶ä»»åŠ¡å¯åŠ¨å¤„ç†ç±»"><a href="#å®šæ—¶ä»»åŠ¡å¯åŠ¨å¤„ç†ç±»" class="headerlink" title="å®šæ—¶ä»»åŠ¡å¯åŠ¨å¤„ç†ç±»"></a>å®šæ—¶ä»»åŠ¡å¯åŠ¨å¤„ç†ç±»</h2><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>wangijun<span class="token punctuation">.</span>springbootdemo<span class="token punctuation">.</span>schedule</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span><span class="token comment">/** * Describe: å®šæ—¶ä»»åŠ¡å¯åŠ¨å¤„ç†ç±» * Author: å°±çœ ä»ªå¼ * CreateTime: 2019/10/23 * */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ScheduleStarted</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">Scheduler</span> scheduler <span class="token punctuation">;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">ScheduleJobService</span> scheduleJobService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@PostConstruct</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> init <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ScheduleJob</span><span class="token punctuation">></span></span> scheduleJobList <span class="token operator">=</span> scheduleJobService<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">ScheduleJob</span> scheduleJob <span class="token operator">:</span> scheduleJobList<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">CronTrigger</span> cronTrigger <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>wangijun<span class="token punctuation">.</span>springbootdemo<span class="token punctuation">.</span>schedule<span class="token punctuation">.</span></span>ScheduleHandler</span><span class="token punctuation">.</span><span class="token function">getCronTrigger</span><span class="token punctuation">(</span>scheduler<span class="token punctuation">,</span><span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>cronTrigger <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>wangijun<span class="token punctuation">.</span>springbootdemo<span class="token punctuation">.</span>schedule<span class="token punctuation">.</span></span>ScheduleHandler</span><span class="token punctuation">.</span><span class="token function">createJob</span><span class="token punctuation">(</span>scheduler<span class="token punctuation">,</span>scheduleJob<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>wangijun<span class="token punctuation">.</span>springbootdemo<span class="token punctuation">.</span>schedule<span class="token punctuation">.</span></span>ScheduleHandler</span><span class="token punctuation">.</span><span class="token function">updateJob</span><span class="token punctuation">(</span>scheduler<span class="token punctuation">,</span>scheduleJob<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="Webæ¥å£"><a href="#Webæ¥å£" class="headerlink" title="Webæ¥å£"></a>Webæ¥å£</h2><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>wangijun<span class="token punctuation">.</span>springbootdemo</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ScheduleController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token class-name">ScheduleJobService</span> jobService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token class-name">ScheduleLogService</span> logService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">;</span>            <span class="token comment">/**     * æ ¹æ®ä»»åŠ¡IDè¿è¡Œä¸€ä¸ªä»»åŠ¡     *     * @param id ä»»åŠ¡ID     * @return è¿è¡ŒçŠ¶æ€     */</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"task_run"</span><span class="token punctuation">)</span>    <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">taskRun</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ScheduleJob</span> job <span class="token operator">=</span> jobService<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span>jobId<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ScheduleHandler</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>scheduler<span class="token punctuation">,</span> job<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token string">"æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ä¿å­˜ä»»åŠ¡     *     * @param job ä»»åŠ¡å®ä½“     * @return ä¿å­˜ç»“æœ     */</span>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"task_save"</span><span class="token punctuation">)</span>    <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">taskSave</span><span class="token punctuation">(</span><span class="token class-name">ScheduleJob</span> job<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        job<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">IdWorker</span><span class="token punctuation">.</span><span class="token function">getIdStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        job<span class="token punctuation">.</span><span class="token function">setCreateTime</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        jobService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>job<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ScheduleHandler</span><span class="token punctuation">.</span><span class="token function">createJob</span><span class="token punctuation">(</span>scheduler<span class="token punctuation">,</span> job<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token string">"æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ›´æ–°ä»»åŠ¡     *     * @param job ä»»åŠ¡æ•°æ®     * @return æ›´æ–°ç»“æœ     */</span>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"task_update"</span><span class="token punctuation">)</span>    <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">taskUpdate</span><span class="token punctuation">(</span><span class="token class-name">ScheduleJob</span> job<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        jobService<span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span>job<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ScheduleHandler</span><span class="token punctuation">.</span><span class="token function">updateJob</span><span class="token punctuation">(</span>scheduler<span class="token punctuation">,</span> job<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token string">"æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åœæ­¢å®šæ—¶ä»»åŠ¡     *     * @param id ä»»åŠ¡Id     * @return æ‰§è¡Œç»“æœ     */</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"task_pause"</span><span class="token punctuation">)</span>    <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">taskPause</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ScheduleJob</span> scheduleJob <span class="token operator">=</span> jobService<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span>jobId<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ScheduleHandler</span><span class="token punctuation">.</span><span class="token function">pauseJob</span><span class="token punctuation">(</span>scheduler<span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>jobId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        scheduleJob<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        jobService<span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token string">"æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ¢å¤å®šæ—¶ä»»åŠ¡     *     * @param id ä»»åŠ¡Id     * @return æ‰§è¡Œç»“æœ     */</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"task_resume"</span><span class="token punctuation">)</span>    <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">taskResume</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ScheduleJob</span> scheduleJob <span class="token operator">=</span> jobService<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span>jobId<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ScheduleHandler</span><span class="token punctuation">.</span><span class="token function">resumeJob</span><span class="token punctuation">(</span>scheduler<span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>jobId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        scheduleJob<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        jobService<span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token string">"æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åˆ é™¤ä¸€ä¸ªä»»åŠ¡     *     * @param jobId ä»»åŠ¡ID     * @return åˆ é™¤ç»“æœ     */</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"task_del"</span><span class="token punctuation">)</span>    <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">taskDel</span><span class="token punctuation">(</span><span class="token class-name">String</span> jobId<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ScheduleHandler</span><span class="token punctuation">.</span><span class="token function">deleteJob</span><span class="token punctuation">(</span>scheduler<span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>jobId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        jobService<span class="token punctuation">.</span><span class="token function">removeById</span><span class="token punctuation">(</span>jobId<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token string">"æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å®šæ—¶ä»»åŠ¡ç±»"><a href="#å®šæ—¶ä»»åŠ¡ç±»" class="headerlink" title="å®šæ—¶ä»»åŠ¡ç±»"></a>å®šæ—¶ä»»åŠ¡ç±»</h2><h3 id="æ–°å¢æ¥å£æ¥å£BaseTaskService-java"><a href="#æ–°å¢æ¥å£æ¥å£BaseTaskService-java" class="headerlink" title="æ–°å¢æ¥å£æ¥å£BaseTaskService.java"></a>æ–°å¢æ¥å£æ¥å£BaseTaskService.java</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>wangijun<span class="token punctuation">.</span>springbootdemo<span class="token punctuation">.</span>task<span class="token punctuation">.</span>base</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BaseTaskService</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * ä»» åŠ¡ å® ç°     * */</span>    <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span> params<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="é€šç”¨å®šæ—¶ä»»åŠ¡"><a href="#é€šç”¨å®šæ—¶ä»»åŠ¡" class="headerlink" title="é€šç”¨å®šæ—¶ä»»åŠ¡"></a>é€šç”¨å®šæ—¶ä»»åŠ¡</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>wangijun<span class="token punctuation">.</span>springbootdemo<span class="token punctuation">.</span>task</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span><span class="token comment">/** * Describe: ç¤ºä¾‹ä»»åŠ¡ * Author: å°±å…ä»ªå¼ * CreateTime: 2019/10/23 * */</span><span class="token annotation punctuation">@Slf4j</span><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">"commonTask"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CommonTaskImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BaseTaskService</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">SimpleDateFormat</span> <span class="token constant">FORMAT</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>    <span class="token comment">/**     * ä»»åŠ¡å®ç°     * */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span> params<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Params === >> "</span> <span class="token operator">+</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"å½“å‰æ—¶é—´::::"</span> <span class="token operator">+</span> <span class="token constant">FORMAT</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰§è¡ŒæˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å¼‚å¸¸çš„å®šæ—¶ä»»åŠ¡"><a href="#å¼‚å¸¸çš„å®šæ—¶ä»»åŠ¡" class="headerlink" title="å¼‚å¸¸çš„å®šæ—¶ä»»åŠ¡"></a>å¼‚å¸¸çš„å®šæ—¶ä»»åŠ¡</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>wangijun<span class="token punctuation">.</span>springbootdemo<span class="token punctuation">.</span>task</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span><span class="token comment">/** * Describe: ç¤ºä¾‹ä»»åŠ¡ * Author: å°±å…ä»ªå¼ * CreateTime: 2019/10/23 * å¼‚å¸¸ä»»åŠ¡ * */</span><span class="token annotation punctuation">@Slf4j</span><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">"exceptionTask"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExceptionTaskImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BaseTaskService</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">SimpleDateFormat</span> <span class="token constant">FORMAT</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>    <span class="token comment">/**     * ä»»åŠ¡å®ç°     * */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span> params<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"å½“å‰æ—¶é—´::::"</span> <span class="token operator">+</span> <span class="token constant">FORMAT</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string">"å‘ç”Ÿå¼‚å¸¸"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="åè¯"><a href="#åè¯" class="headerlink" title="åè¯"></a>åè¯</h2><p>å»ºè¡¨è¯­å¥ä»¥åŠæµ‹è¯•é¡¹ç›®æºç ï¼Œmock.httpæ–‡ä»¶ä¸­é‡Œé¢æœ‰æµ‹è¯•æ•°æ®ï¼ŒIDEAå¯ä»¥å¾ˆæ–¹ä¾¿çš„æµ‹è¯•ã€‚</p><p><a href="https://gitee.com/wlf213/springboot-quartz">æºç </a></p><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gwp89wm2nwj33n61o0x6q.jpg" alt="æ–°ç’ƒæœˆç©ºæ¸¯"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>quartz</tag>
      
      <tag>springboot</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vue3+TS+SetUp</title>
    <link href="/2021/11/19/vue-02/"/>
    <url>/2021/11/19/vue-02/</url>
    
    <content type="html"><![CDATA[<p>å¯¹Vueä¹Ÿç®—æ¯”è¾ƒç†Ÿæ‚‰ï¼Œç†Ÿæ‚‰çš„åŸå› å¾ˆç®€å•ï¼Œä¸‰å¤§å‰ç«¯æ¡†æ¶ï¼Œåªæœ‰Vueçš„å®˜æ–¹æ–‡æ¡£ä¸­æ–‡æœ€å…¨ã€‚åˆšè¿›å…¥å·¥ä½œæ—¶ç”¨è¿‡Vue2,è¿˜æ˜¯å†…åµŒåˆ°HTMLé‡Œé¢çš„å½¢å¼ï¼Œlowæ˜¯lowäº†ç‚¹ï¼Œå¥½å¤„å°±æ˜¯å½“æ—¶ç”¨(å­¦)èµ·æ¥æœ‰æ²¡æœ‰ä»€ä¹ˆè´Ÿæ‹…ï¼Œå·¥ä½œé‡Œçš„å®è·µï¼Œé—²æš‡ä¸­é˜…è¯»æ–‡æ¡£ï¼Œå‘¨æœ«å¤§è‡´çœ‹çœ‹è§†é¢‘ï¼Œåˆ°ä¹Ÿä¸éš¾ç†è§£ï¼Œä¸»è¦å®˜æ–¹çš„ä¸­æ–‡æ–‡æ¡£å¾ˆè¯¦ç»†äº†ï¼Œåªè¦ä½ è€å¾—ä½æ€§å­å»çœ‹ï¼Œå»å­¦ã€‚</p><p>Vue3å‡ºæ¥ä¹ŸæŒºé•¿æ—¶é—´äº†ï¼Œåœ¨Vueï¼“çš„æ–‡æ¡£è¿˜æ²¡æœ‰ä¸­æ–‡ç¿»è¯‘çš„æ—¶å€™æˆ‘å°±å»çœ‹äº†ï¼Œå½“æ—¶å¯¹Vueè¿™ä¸œè¥¿ç†è§£å°šæµ…ï¼ŒåŠ ä¸Šä¸€äº›çäº‹ï¼Œæ²¡æ—¶é—´å»å­¦ï¼Œå­¦ä¸åŠ¨äº†ï¼ŒçœŸçš„å­¦ä¸åŠ¨äº†ã€‚ä¸æ€ä¹ˆå¿™çš„æ—¶é—´é‡Œï¼Œæˆ‘äºæ˜¯é™ä¸‹å¿ƒæ¥äº†è§£äº†ä¸€ä¸‹ã€‚</p><p>è¯´å‡çº§ï¼Œå¯¹äºä½¿ç”¨è€…æ¥è¯´ï¼Œæ— å¤–ä¹åºŸå¼ƒäº†ä¸€äº›APIï¼Œå†™æ³•ä¸Šå¤šäº†äº›é€‰æ‹©ï¼Œè‡³äºæ€§èƒ½æå‡ï¼Œä»£ç ä¼˜åŒ–ï¼Œè¿™äº›ä¸œè¥¿æˆ‘ä»¬å¹¶ä¸å¤ªéœ€è¦çŸ¥é“ã€‚Vueä¹‹æ‰€ä»¥ä¿ç•™æ—§ç‰ˆçš„å†™æ³•ï¼Œå®Œå…¨æ˜¯ä¸ºäº†ç…§é¡¾æ—§ç‰ˆæœ¬ï¼Œè®©ä½¿ç”¨è€…å°±ç®—æ‰“ç®—å‡çº§ä¹Ÿå¯ä»¥æ›´å¹³æ»‘çš„å‡çº§ã€‚è¿™å¯¹äºå‰ç«¯æ¡†æ¶æ¥è¯´éå¸¸éš¾å¾—ï¼Œæ­¤å¤„ç‚¹å@angular, å®Œå…¨ä¸ç®¡æ—§ç‰ˆæœ¬çš„æ­»æ´»ã€‚</p><p>å°¤å¤§å®˜æ–¹ä¹Ÿè¯´ï¼Œä¸å»ºè®®ä½¿ç”¨æ—§ç‰ˆçš„è¯­æ³•ï¼Œæ¨èä½¿ç”¨ç»„åˆå¼APIï¼Œé‚£å°±è¯•è¯•å»ç†è§£å­¦ä¹ ç»„åˆå¼APIã€‚å¯¹äºä¼šVue2çš„æ¥è¯´ç†è§£æœ€é‡è¦çš„ï¼Œå‡çº§çš„åº•å±‚æ ¸å¿ƒæˆ‘ä»¬è§¦ç¢°ä¸åˆ°ï¼Œä¹Ÿä¸éœ€è¦è§¦ç¢°åˆ°ï¼Œç†è§£Vue2çš„ç—›ç‚¹ï¼Œä»¥åŠç¼ºé™·ï¼Œå†å»ç†è§£Vue3æ–°è¯­æ³•è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Œè¿™ä¸ªæ˜¯ç›®å‰ä¸»è¦éœ€è¦åšçš„äº‹ã€‚</p><p>Vue3ç®€å•çš„è¯´å°±æ˜¯æŠŠVue2ä¸­åˆ†çš„é›¶é›¶ç¢ç¢çš„ä»£ç æ”¾åœ¨äº†ä¸€èµ·ï¼Œé¦–å…ˆæˆ‘ä»¬å›æƒ³Vue2ä¸­æœ‰å“ªå‡ å—ä»£ç ï¼Œdata (å“åº”å¼çš„å±æ€§) methods (åŸºæœ¬çš„ä»£ç é€»è¾‘)è®¡ç®—å±æ€§ï¼Œè¿˜æœ‰ä¸€ä¸ªç›‘å¬å±æ€§ï¼Œç”Ÿå‘½å‘¨æœŸå…ˆä¸è€ƒè™‘ï¼Œå°¤å¤§è®¤ä¸ºè¿™ç§å†™æ³•é€»è¾‘å¤ªè¿‡åˆ†æ•£ï¼Œä¸€ä¸ªæ•°æ®å¯èƒ½éœ€è¦è¦ç»è¿‡ä¸‰åˆ°å››ä¸ªä¸åŒçš„åœ°æ–¹,è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦åœ¨ä¸åŒçš„å—ä¸­æ‰¾ä»£ç ï¼Œè¿™ä¸ªä¸€ä¸ªå—é‡Œä¸Šç™¾è¡Œä»£ç æ˜¯éå¸¸å¸¸è§çš„ã€‚éœ€è¦è·³æ¥è·³å»çš„çœ‹ä»£ç ï¼Œå®¹æ˜“é€ æˆå…³æ³¨ç‚¹æ··ä¹±ã€‚</p><p>ç»„åˆå¼å†™æ³•å°±æ˜¯ä¸ºäº†è§£å†³è¿™ç§æƒ…å†µï¼Œè€Œä¸”ç»„åˆå¼çš„æ–¹å‘å¯¹äº†ï¼Œæ²¡å†™è¿‡React,æ®è¯´æ˜¯å¾ˆåƒï¼Œç®€å•çš„ä¸€ç‚¹ç»„åˆå¼ä»£ç æç¤ºä¼šæ›´å‹å¥½ï¼Œæ˜çœ¼äººä¸€çœ‹ï¼Œèµ·ç ç»™IDEçš„è®¡ç®—è´Ÿæ‹…å‡ä½ä¸å°‘ã€‚ä¸ç®¡æ˜¯JSè¿˜æ˜¯TSã€‚é‚£ä¹ˆå­¦ä¹ ç»„åˆå¼éœ€è¦æ³¨æ„ä»€ä¹ˆå‘¢ï¼Œä¸è¦æŠŠå®ƒæƒ³çš„å¾ˆéš¾,ä»€ä¹ˆç®€ç›´éƒ½éœ€è¦é‡å­¦ï¼Œå®é™…ä¸Šå°±æ˜¯æ¢äº†ä¸€ç§å†™æ³•ï¼Œå®šä¹‰dataå˜æˆäº†refä»¥åŠreactive,åŠ ä¸Šä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„è¯­æ³•ç³–ï¼Œå®šä¹‰methods,ç›´æ¥å®šä¹‰å‡½æ•°å°±è¡Œäº†ï¼Œç›‘å¬å±æ€§ï¼Œè®¡ç®—å±æ€§ï¼Œéƒ½æœ‰å¯¹åº”çš„å†™æ³•ï¼Œç”Ÿå‘½å‘¨æœŸéšä¾¿å†çœ‹çœ‹ã€‚Vue3å†…åµŒHtmlçš„ç”¨æ³•å°±è¿™äº›ã€‚ç»„ä»¶åŒ–æ—¶åŠ äº†ä¸¤ä¸ªä¸œè¥¿ä¸€ä¸ªpropsä»¥åŠè‡ªå®šä¹‰äº‹ä»¶( emit), è¿™ä¸¤ä¸ªä¸œè¥¿æ²¡æ€ä¹ˆå˜ï¼Œè‡³å°‘åŸºäºJSæ¥è¯´ã€‚å¯¹äºTSè¿™ä¸¤ä¸ªå˜åŒ–ç•¥å¤šï¼Œå¯ä»¥è¯´ä¸€ç§å†™æ³•ä¸€ç§å®šä¹‰æˆ–è€…å£°æ˜æ–¹å¼ï¼Œä¸»è¦è¿˜æ˜¯è¿™ä¸¤ä¸ªä¸œè¥¿å†å²åŒ…è¢±è¿‡é‡ã€‚</p><p>Vue3æ®æˆ‘ç›®å‰æ‰€äº†è§£çš„ï¼Œç®—ä¸Šæ—§ç‰ˆæœ¬çš„å†™æ³•ï¼Œè¿™ç§å†™æ³•ä¸é…æ‹¥æœ‰å§“åï¼Œæ‰€ä»¥åªèƒ½ç§°ä¹‹ä¸ºæ—§ç‰ˆæœ¬å†™æ³•ï¼Œç®—ä¸Šæ—§ç‰ˆæœ¬çš„å†™æ³•æœ‰å››ç§äº†ã€‚å¾ˆå¤šå•Šï¼Œæˆ‘æ²¡æœ‰å…´è¶£å»ç ”ç©¶é‚£ä¹ˆå¤šï¼ŒåŸºäºç›®å‰æ¥çœ‹ï¼Œ<code>&lt;script setup &gt;</code>è¿™ç§å†™æ³•åº”è¯¥æ˜¯æœ€ä¼˜é›…çš„ï¼Œå°¤å¤§å®˜æ–¹å¾®åšä¹Ÿè¯´äº†ï¼ŒVue3 + TS+ setup + Volar &#x3D; çœŸé¦™ã€‚ä¸‹é¢ä¸»è¦ä»£ç ä»‹ç»è¿™ç§å†™æ³•ã€‚</p><p>è¿™ç§å†™æ³•ä¸èƒ½ä½¿ç”¨HTMLæ¥å†™ï¼Œåªèƒ½ä½¿ç”¨å•æ–‡ä»¶æ–¹å¼æ¥å†™ï¼Œä¸»è¦çœ‹å†™æ³•</p><h3 id="ç»„ä»¶HelloWord"><a href="#ç»„ä»¶HelloWord" class="headerlink" title="ç»„ä»¶HelloWord"></a>ç»„ä»¶HelloWord</h3><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hello<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>&#123;&#123; msg &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>visible<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ˜¯å¦æ˜¾ç¤º &#123;&#123; visible &#125;&#125; sumcom = &#123;&#123; sumcom &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç‚¹å‡»æŠ›å‡ºäº‹ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> watch<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> computed<span class="token punctuation">,</span> toRefs <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span><span class="token comment">// props,åªå£°æ˜ç±»å‹æ—¶çš„å†™æ³•</span><span class="token keyword">const</span> props <span class="token operator">=</span> defineProps<span class="token operator">&lt;</span><span class="token punctuation">&#123;</span>  <span class="token literal-property property">msg</span><span class="token operator">:</span> string  <span class="token literal-property property">visible</span><span class="token operator">:</span> boolean<span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// propsæœ‰é»˜è®¤å€¼æ—¶çš„å†™æ³•</span><span class="token comment">/* interface Props &#123;  msg?: string  labels?: string[]&#125;const props = withDefaults(defineProps&lt;Props>(), &#123;  msg: 'hello',  labels: () => ['one', 'two']&#125;) */</span><span class="token comment">// end propsæœ‰é»˜è®¤å€¼æ—¶çš„å†™æ³•</span><span class="token comment">// è‡ªå®šä¹‰äº‹ä»¶,è¿™ç§å†™æ³•ä»£ç æç¤ºååˆ†å‹å¥½ï¼Œä¸”åœ¨ä½¿ç”¨ç»„ä»¶æ—¶çš„ä»£ç æç¤ºä¹Ÿååˆ†å‹å¥½</span><span class="token keyword">const</span> emit <span class="token operator">=</span> defineEmits<span class="token operator">&lt;</span><span class="token punctuation">&#123;</span>  <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token literal-property property">id</span><span class="token operator">:</span> number<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>  <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token string">'update'</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// å®šä¹‰ä¸€ä¸ªæ™®æ™®é€šé€šæ–¹æ³•</span><span class="token keyword">const</span> <span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token comment">// æŠ›å‡ºè‡ªå®šä¹‰äº‹ä»¶ï¼Œè¿™é‡Œçš„ä»£ç æç¤ºååˆ†å‹å¥½ï¼Œ</span>  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'update'</span><span class="token punctuation">,</span> <span class="token string">'ä»å‰ä»å‰'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">// å“åº”å¼</span><span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token comment">// è®¡ç®—å±æ€§</span><span class="token keyword">const</span> sumcom <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">number</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> sum<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">4</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">// ç›‘å¬</span><span class="token function">watch</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal <span class="token operator">+</span> <span class="token string">"----"</span> <span class="token operator">+</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token comment">// å¯¼å‡ºç»„ä»¶å†…çš„ä¸œè¥¿ï¼Œç»™ç»„ä»¶å¤–éƒ¨è®¿é—®ï¼Œçˆ¶ç»„ä»¶éœ€è¦è®¿é—®å­ç»„ä»¶å†…æ•°æ®æ—¶ï¼Œéœ€è¦å¯¼å‡ºï¼Œä¹Ÿå¯ä»¥å¯¼å‡ºå‡½æ•°ï¼Œ</span>  sum<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- Add "scoped" attribute to limit CSS to this component only --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ç»„ä»¶APP"><a href="#ç»„ä»¶APP" class="headerlink" title="ç»„ä»¶APP"></a>ç»„ä»¶APP</h3><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Vue logo<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./assets/logo.png<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HelloWorld</span> <span class="token attr-name">msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ¬¢è¿æ¥åˆ°ä½ çš„VUe+TSé¡¹ç›®<span class="token punctuation">"</span></span> <span class="token attr-name">:visible</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flag<span class="token punctuation">"</span></span> <span class="token attr-name">@update</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upd<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>model<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@vue/reactivity'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> onMounted <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@vue/runtime-core'</span><span class="token punctuation">;</span><span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">'./components/HelloWorld.vue'</span><span class="token punctuation">;</span><span class="token keyword">const</span> flag <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token keyword">const</span> upd <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>  flag<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>flag<span class="token punctuation">.</span>value<span class="token punctuation">&#125;</span><span class="token comment">// æš‚æ—¶åªèƒ½è¿™æ ·ï¼Œå®é™…ä¸Šä¸æŠ¥é”™ï¼Œä½†æ˜¯TSè¯­æ³•ä¼šæŠ¥é”™ï¼Œåªèƒ½è¿™æ ·å®šä¹‰äº†ã€‚</span><span class="token keyword">interface</span> <span class="token class-name">expHello</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">sum</span><span class="token operator">:</span> number<span class="token punctuation">&#125;</span><span class="token comment">// å¯¹åº”å­ç»„ä»¶</span><span class="token keyword">const</span> model <span class="token operator">=</span> ref<span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> HelloWorld<span class="token operator">></span> <span class="token operator">&amp;</span> expHello<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token comment">// è®¿é—®å­ç»„ä»¶é‡Œçš„å±æ€§</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>value<span class="token operator">?.</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"><span class="token selector">#app</span> <span class="token punctuation">&#123;</span>  <span class="token property">font-family</span><span class="token punctuation">:</span> Avenir<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>  <span class="token property">-webkit-font-smoothing</span><span class="token punctuation">:</span> antialiased<span class="token punctuation">;</span>  <span class="token property">-moz-osx-font-smoothing</span><span class="token punctuation">:</span> grayscale<span class="token punctuation">;</span>  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">color</span><span class="token punctuation">:</span> #2c3e50<span class="token punctuation">;</span>  <span class="token property">margin-top</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å°é¢"><a href="#å°é¢" class="headerlink" title="å°é¢"></a>å°é¢</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gwo8dswfcpj34mo334e86.jpg" alt="ç»¿è‰²çš„å¿ƒ"></p>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
      <tag>typescipt</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>éƒ­å¾·çº²å†™ç»™å„¿å­éƒ­éº’éºŸçš„ä¿¡</title>
    <link href="/2021/11/08/other-04/"/>
    <url>/2021/11/08/other-04/</url>
    
    <content type="html"><![CDATA[<p>ç”²åˆå¹´ï¼Œæ­£æœˆåˆä¹ï¼Œæˆ‘å„¿å­åå…«äº†ï¼Œæ­£æ‰€è°“æˆäººé•¿å¤§ï¼Œå­¦åå¥‡ä¸´ï¼Œå–å¥‡å¦™é™ä¸´ä¹‹æ„ï¼Œåä¸‹æµ·ï¼Œè‰ºåéº’éºŸï¼Œä¹ƒä»¿å‘¨å¤§å¸ˆä¹‹é—éŸµã€‚</p><p>äººç”Ÿä¸€ä¸–ï¼Œæä¸å®¹æ˜“ï¼Œç™»å¤©éš¾ï¼Œæ±‚äººæ›´éš¾ï¼Œé»„è¿è‹¦ï¼Œæ— é’±æ›´è‹¦ï¼Œæ±Ÿæ¹–é™©ï¼Œäººå¿ƒæ›´é™©ï¼Œæ˜¥å†°è–„ï¼Œäººæƒ…æ›´è–„ã€‚è¿‡å»æœ‰å¥è¯ï¼Œæ—¢è½æ±Ÿæ¹–å†…ï¼Œä¾¿æ˜¯è–„å‘½äººã€‚æˆ‘æœ¬ä¸æ„¿å„¿ä»è‰ºï¼Œå¥ˆä½•äººè‡ªæœ‰å¿—æ— æ³•æ¨ªæ‹¦ï¼Œä½†æœ‰å‡ å¥è¯è¦è¯´æ¸…æ¥šã€‚è‰ºäººåˆ†å‡ ç±»ï¼Œç§ç§ç›¸éš”ï¼Œä¸€æ˜¯æ™®é€šè‰ºäººï¼Œæœ‰ä¸€æŠ€ä¹‹é•¿ï¼Œå‡­èƒ½è€åƒé¥­ï¼Œä¸€æ˜¯åæ¼”å‘˜ï¼ŒçŸ¥ååº¦é«˜ï¼Œä½†ä¸ä»£è¡¨è‰ºæœ¯é«˜ã€‚æ­¤ç±»è¿˜è¦ä¸¤è¯´ï¼Œä¸€æ˜¯è§’å„¿ï¼Œä½•ä¸ºè§’å„¿ï¼Œèˆå°ä¸Šçš„é¡¶æ¢æŸ±ï¼Œå‰§å›¢ç­ç¤¾çš„çµé­‚ï¼Œè´´å‡ºä½ çš„åå­—è¦ä¿è¯å–çš„å‡ºç¥¨ï¼Œå…¨å›¢è€å°‘æŒ‡ç€ä½ åƒé¥­ï¼Œè§’å„¿æ˜¯æœ‰è´£ä»»çš„è‰ºäººã€‚</p><p>éƒ­éº’éºŸåˆšåå…«ï¼Œæˆ‘ä¸å¸Œæœ›å„¿å­å¤§çº¢ï¼Œäººçº¢éº»çƒ¦å¤šï¼Œä¸€å¤§ä¸‰å¤§ï¼Œåæ°”å¤§åï¼Œå¼€é”€å¤§å‹åŠ›å¤§æ˜¯éå¤§ï¼Œçº¢èµ·æ¥å®¹æ˜“ï¼Œéš¾çš„æ˜¯æ¥ä½è‡ªå·±ã€‚å¹´ä¸‰ååƒé¡¿é¥ºå­å®¹æ˜“ï¼Œä¹‹åå‘¢ï¼Ÿå¾—å¤©å¤©åƒé¥ºå­æ‰è¡Œå•Šã€‚å¯ä½ æœ‰é‚£ä¹ˆå¤šé¢å’Œé¦…å„¿å—ï¼Ÿæ‰€ä»¥ï¼Œè¦å¤šä¸‹åŠŸå¤«ï¼Œå¹¶ä¸”è¦ä¿æŒä¸€ä¸ªå¥½çš„å¿ƒæ€ï¼Œå¾ˆå¤šäººä¸æˆåŠŸçš„åŸå› ï¼Œä¸»è¦æ˜¯å¤ªå°Šé‡è‡ªå·±äº†ã€‚</p><p>ä¸€ä¸ªäººåˆšå‡ºé“ï¼Œä¸ç‹‚ï¼Œæ²¡å‡ºæ¯ï¼Œä½†å¦‚æœä¸€ç›´ç‹‚æ˜¯è‚¯å®šæ²¡æœ‰å‡ºæ¯çš„ã€‚ä½ çœ¼ä¸­çš„ä½ å’Œåˆ«äººçœ¼ä¸­çš„ä½ ä¸æ˜¯ä¸€å›äº‹ï¼Œæ— é™èµç¾è‡ªå·±åªæ˜¯ä¸€ç§èƒ†æ€¯ã€‚æˆ‘ä¸€ç›´è®¤ä¸ºææƒ§åˆ°å¤´å°±æ˜¯æ„¤æ€’ï¼Œå‘æŒ¥æ— æ•Œæƒ³è±¡ï¼Œç»™è‡ªå·±æç»˜äº†ä¸€ä¸ªç«¥è¯ä¸–ç•Œï¼Œç™½è¡£å¦‚é›ªæ¥å»å¦‚é£ï¼Œåˆ€å…‰å‰‘å½±é—ªè¿‡ä¹‹åï¼Œä½ æ»¡è„¸å†·é…·ç‹¬ç«‹äºç å³°é¡¶ç«¯ï¼Œå‚²è§†è‹ç”Ÿæ— æ¯”è‹±æ­¦ï¼Œæ­¤æ—¶æˆ‘è¦é—®çš„æ˜¯ï¼šå­©å­ï¼Œä½ æ€ä¹ˆä¸‹å»ï¼Ÿ</p><p>ä¸è®©å¤äººï¼Œæ˜¯è°“æœ‰å¿—ï¼Œä¸è®©ä»Šäººï¼Œæ˜¯è°“æ— è‰¯ã€‚è®°ä½äº†ï¼Œå°ä¿—ä¾¿é›…ï¼Œå¤§é›…åˆ™ä¿—ã€‚</p><p>æœ‰äººå¤¸ä½ ï¼Œåˆ«ä¿¡ï¼Œæœ‰äººéª‚ä½ ï¼Œåˆ«å¬ã€‚</p><p>å‘¨å›´äººéšæ„æ§éª‚ï¼Œä¸å¯ä¸ä¹‹äº¤ï¼Œå› å…¶æ— è‡³æ€§ä¹Ÿã€‚è®°ä½ï¼Œè¨€è¯­å¤šåå¤ï¼Œä»¥é˜²æ¬ºè¯ˆï¼Œå¿˜æ©æ€å°è¿‡ï¼Œå®šä¼šåæˆˆã€‚å¼€å£è¯´å¤§ä¹‰ï¼Œä¸´å¤§éš¾å¿…å˜èŠ‚ã€‚é€¢äººç§°å…„å¼Ÿï¼Œå³æ·±äº¤ä¹Ÿå¹³å¸¸ã€‚</p><p>æ­¤å¤–å‡¡äº‹è¦æ…é‡ã€‚æ±Ÿæ¹–å­å¼Ÿï¼Œæ‹¿å¾—èµ·æ¥æ”¾å¾—ä¸‹ï¼Œèº«è¾¹äººå¾ˆé‡è¦ã€‚ä¸€æ ¹ç¨»è‰ï¼Œæ‰”åˆ°è¡—ä¸Šå°±æ˜¯åƒåœ¾ï¼Œæ†ä¸Šç™½èœå°±æ˜¯ç™½èœä»·ï¼Œæ†ä¸Šå¤§é—¸èŸ¹å°±æ˜¯å¤§é—¸èŸ¹ä»·ã€‚åŒ…æ‹¬è„šä¸‹è¿™ä¸ªå¹³å°ä¹Ÿæé‡è¦ã€‚åŒæ ·æ˜¯ä¸€ä¸ªäººï¼Œæ­¥è¡Œä¸€å°æ—¶ä½ èƒ½èµ°å¤šè¿œï¼Ÿéª‘è½¦å‘¢ï¼Ÿå¼€è½¦å‘¢ï¼Ÿåé£æœºå‘¢ï¼Ÿå¹³å°ä¼šå†³å®šä½ çš„é€Ÿåº¦ã€‚ä¸”è®°ä¸”è®°ã€‚</p><p>æ­¤å¤–é’±è´¢è¦çæƒœã€‚ä½†ä¸å¯çœ‹å¾—å¤ªé‡ã€‚è´¢ä¹ƒå¤©åœ°è‡³å…¬ä¹‹ç‰©ï¼Œå‡æ‰‹äºäººç½¢äº†ï¼Œé›¨æ‰“æ®‹èŠ±é£å·æµäº‘ï¼Œè½®ç•ªæ›´è½¬è€Œå·²ã€‚ç©·è½¬å¯Œï¼Œå¯Œè½¬ç©·ï¼Œå“ªæœ‰ç™¾ä¸–å¯Œå®¶ç¿ã€‚</p><p>è‡³äºäº¤å‹ï¼Œåƒç‚¹äºä¹Ÿæ— å¦¨ï¼Œäººæ²¡æ‰€è°“ï¼Œç©·é€šå¯¿å¤­ä¸ºå‘½æ‰€ç³»ï¼Œå²‚ä¸çŸ¥é€ ç‰©ä¹‹æŠ¥æ–½ã€‚å…¨è§†äººä¹‹è‡ªå–ï¼ŒèŠ¸èŠ¸ä¼—ç”Ÿå¯Œè´µè´«å¯’ï¼Œä¸æ˜¯è°éƒ½å¯ä»¥å‚²ä¸–ä¹¾å¤çš„ï¼Œå…¶ä¸­æœ‰å‘½æœ‰è¿ã€‚è¦çŸ¥å› æœæ‡‚å–„æ¶,æˆ‘å„¿ä¸”è®°, ä½†è¡Œå¥½äº‹ ï¼Œè«é—®å‰ç¨‹ã€‚</p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gw7jy4zpuwj32yo1o0u0x.jpg" alt="åˆ»æ™´cosåŸç¥"></p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>springbootäº‹åŠ¡ä¸‰ä¸¤è¨€</title>
    <link href="/2021/11/01/java-04/"/>
    <url>/2021/11/01/java-04/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>ç»å†æ˜¯ä¼šæ½œç§»é»˜åŒ–æ”¹å˜äººçš„ï¼Œè¿è‡ªå·±éƒ½ä¸çŸ¥é“ï¼Œè¿˜ä»¥ä¸ºè‡ªå·±å†…å¿ƒæ°¸è¿œå•çº¯ã€‚</p>          </div><p>èŠäº‹åŠ¡ï¼Œå…ˆæ˜ç™½ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Œä¸¾ä¸ªçƒ‚å¤§è¡—çš„ä¾‹å­ï¼Œé“¶è¡Œè½¬è´¦ï¼Œè½¬å‡ºæ–¹å‡é’±ï¼Œè½¬å…¥æ–¹åŠ é’±ã€‚è¿™ç§æƒ…å†µä¸‹æ˜¯ä¸å…è®¸å…¶ä¸­ä¸€ä¸ªç¯èŠ‚å•ç‹¬å¤±è´¥çš„ï¼Œä½†æ˜¯è¿™ç§æƒ…å†µåˆå¿…é¡»æ‰§è¡Œä¸¤æ¬¡ä»¥ä¸Šçš„æ•°æ®åº“æ“ä½œè¯­å¥ï¼Œä¿è¯è¯­å¥æ‰§è¡Œç»“æœçš„ä¸€è‡´æ€§åŠŸèƒ½å°±æ˜¯äº‹åŠ¡åŠŸèƒ½ã€‚</p><p>ç°åœ¨çš„å…³ç³»å‹æ•°æ®åº“å¤§å¤šéƒ½æ”¯æŒäº‹åŠ¡æ§åˆ¶ï¼Œäº‹åŠ¡çš„å››å¤§ç‰¹æ€§ï¼Œæˆ‘è¿˜çœŸè®°ä¸å¤ªæ¸…ï¼ŒåŸå­æ€§ï¼Œéš”ç¦»æ€§ï¼Œä¸€è‡´æ€§ï¼Œè¿˜æœ‰ä¸€ä¸ªç‰¹æ€§æ˜¯ä»€ä¹ˆæ¥ç€ï¼Œæˆ‘æŸ¥æŸ¥ï¼ŒæŸ¥åˆ°äº†ï¼Œè¿˜æœ‰ä¸€ä¸ªæŒä¹…æ€§ã€‚æŒä¹…æ€§æ²¡å•¥å¥½è¯´çš„ï¼Œæˆ‘å°±è®°ä¸ä½ã€‚åŸå­æ€§ï¼Œä¸€è‡´æ€§ï¼Œè¿™ä¸ªéƒ½å¥½ç†è§£ï¼Œå°±æ˜¯éƒ½æˆåŠŸæˆ–è€…éƒ½å¤±è´¥ã€‚éš”ç¦»æ€§ï¼Œè¿™ä¸ªå°±éœ€è¦æ³¨æ„ä¸€ç‚¹ã€‚å…·ä½“æƒ…å†µå…·ä½“å¤„ç†ã€‚ç†è®ºçŸ¥è¯†å°±ä¸èµ˜è¿°äº†ã€‚</p><p>æ¥ä¸‹æ¥è¿›å…¥ä¸‹ä¸€è¯é¢˜ï¼Œã€Šæ¯çŒªçš„äº§åæŠ¤ç†ã€‹ï¼Œå¯¹ä¸èµ·ï¼Œæ‹¿é”™ä¹¦äº†ï¼Œ</p><p>ä»‹ç»ä¸€ä¸‹springæä¾›çš„äº‹åŠ¡æ§åˆ¶ï¼Œåˆ†ä¸ºç¼–ç¨‹å¼å’Œå£°æ˜å¼ï¼Œå…ˆè¯´æˆ‘ä»¬ç”¨çš„å¤šçš„å£°æ˜å¼äº‹åŠ¡æ§åˆ¶ï¼Œä¸”ä¸å»ºè®®ä½¿ç”¨ç¼–ç¨‹å¼çš„äº‹åŠ¡æ§åˆ¶ï¼Œspringboot2.5.xç³»åˆ—é»˜è®¤å°±å¼€å¯äº†æ³¨è§£å¼äº‹åŠ¡æ§åˆ¶ï¼Œåªéœ€è¦åœ¨ç±»ä¸Šæˆ–æ–¹æ³•ä¸ŠåŠ ä¸Š<code>@Transactional</code>æ³¨è§£å°±å¯ä»¥äº†ï¼ŒåŠ åœ¨ç±»ä¸Šï¼Œè¡¨ç¤ºæ­¤ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½æ·»åŠ äº†é»˜è®¤çš„äº‹åŠ¡æ”¯æŒï¼Œå¦‚æœ ç±»ä¸Šå’Œæ–¹æ³•ä¸ŠåŒæ—¶åŠ äº†æ³¨è§£ï¼Œä»¥æ–¹æ³•ä¸Šçš„æ³¨è§£ä¸ºå‡†ã€‚åªè¦æ–¹æ³•æŠ›å‡ºäº†RuntimeExceptionï¼Œäº‹åŠ¡å°±è¿›è¡Œå›æ»šçš„æ“ä½œï¼Œä½†å¦‚æœä½ æŠŠå¼‚å¸¸try catchäº†ï¼Œä¸”æ²¡æœ‰åœ¨catchå—é‡ŒæŠ›å‡ºRuntimeExceptionï¼Œè¿™ç§æƒ…å†µä¸‹å‡ºç°å¼‚å¸¸äº‹åŠ¡æ˜¯ä¸ä¼šè¿›è¡Œå›æ»šçš„ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServiceA</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Transactional</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// è¿™ç§æƒ…å†µä¸‹å‡ºç°å¼‚å¸¸æ˜¯ä¸ä¼šè¿›è¡Œäº‹åŠ¡å›æ»šçš„ã€‚</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token function">updateById</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>                <span class="token comment">// ä¼šè¿›è¡Œäº‹åŠ¡å›æ»šçš„å†™æ³•</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token function">updateById</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"æµ‹è¯•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="è¯¦è§£-Transactionalæ³¨è§£"><a href="#è¯¦è§£-Transactionalæ³¨è§£" class="headerlink" title="è¯¦è§£@Transactionalæ³¨è§£"></a>è¯¦è§£@Transactionalæ³¨è§£</h2><h3 id="rollbackForå‚æ•°"><a href="#rollbackForå‚æ•°" class="headerlink" title="rollbackForå‚æ•°"></a>rollbackForå‚æ•°</h3><p>è¿™ä¸ªå‚æ•°æ˜¯è¡¨æ˜æ•è·ä»€ä¹ˆå¼‚å¸¸è¿›è¡Œå›æ»šæ•°æ®çš„ã€‚é»˜è®¤åªæœ‰æ•è·åˆ°RuntimeExceptionå’ŒErroræ‰ä¼šè¿›è¡Œå›æ»šï¼Œï¼ˆåŸºäºspringboot2.5.xï¼Œä¸åŒç‰ˆæœ¬å¯èƒ½æœ‰å·®å¼‚ï¼Œè¯·è‡ªå·±æŸ¥çœ‹ä»£ç ã€‚ï¼‰ä¸ä¼šå›æ»šçš„æ˜¯ä»€ä¹ˆå¼‚å¸¸å‘¢ï¼Œå°±æ˜¯é‚£ç§éœ€è¦å£°æ˜çš„å¼‚å¸¸ï¼Œspringbootäº‹åŠ¡æ§åˆ¶æ˜¯ä¸ä¼šæ•è·åˆ°ï¼Œå¹¶å›æ»šæ•°æ®çš„ï¼Œè‡³äºä¸ºå•¥ï¼Œå¾ˆç®€å•å•Šï¼Œå› ä¸ºå£°æ˜çš„å¼‚å¸¸ï¼Œå¤§å¤šéƒ½æ˜¯è‡ªå·±æ‰‹åŠ¨å¤„ç†çš„ï¼Œç»§ç»­å¾€ä¸ŠæŠ›æˆ–è€…Try Catchä¸€ä¸‹ï¼Œå¦‚æœä¸æ‰‹åŠ¨å¤„ç†ï¼Œç¨‹åºæ— æ³•ç¼–è¯‘ã€‚æ¯”å¦‚IOå¼‚å¸¸ï¼Œè¿™äº›æ˜¯ä¸ä¼šè¢«äº‹åŠ¡æ§åˆ¶æ•æ‰åˆ°çš„ã€‚</p><h3 id="propagationå‚æ•°"><a href="#propagationå‚æ•°" class="headerlink" title="propagationå‚æ•°"></a>propagationå‚æ•°</h3><p>propagation ä»£è¡¨äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºï¼Œé»˜è®¤å€¼ä¸º<code>Propagation.REQUIRED</code>ï¼Œå…¶ä»–çš„å±æ€§ä¿¡æ¯å¦‚ä¸‹ï¼š</p><ul><li><p><code>Propagation.REQUIRED</code>ï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼Œå¦‚æœå½“å‰ä¸å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚( ä¹Ÿå°±æ˜¯è¯´å¦‚æœAæ–¹æ³•å’ŒBæ–¹æ³•éƒ½æ·»åŠ äº†æ³¨è§£ï¼Œåœ¨é»˜è®¤ä¼ æ’­æ¨¡å¼ä¸‹ï¼ŒAæ–¹æ³•å†…éƒ¨è°ƒç”¨Bæ–¹æ³•ï¼Œä¼šæŠŠä¸¤ä¸ªæ–¹æ³•çš„äº‹åŠ¡åˆå¹¶ä¸ºä¸€ä¸ªäº‹åŠ¡ ï¼‰</p></li><li><p><code>Propagation.SUPPORTS</code>ï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰ä¸å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™ä»¥éäº‹åŠ¡çš„æ–¹å¼ç»§ç»­è¿è¡Œã€‚</p></li><li><p><code>Propagation.MANDATORY</code>ï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰ä¸å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</p></li><li><p><code>Propagation.REQUIRES_NEW</code>ï¼šé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œæš‚åœå½“å‰çš„äº‹åŠ¡ã€‚( å½“ç±»Aä¸­çš„ a æ–¹æ³•ç”¨é»˜è®¤Propagation.REQUIREDæ¨¡å¼ï¼Œç±»Bä¸­çš„ bæ–¹æ³•åŠ ä¸Šé‡‡ç”¨ Propagation.REQUIRES_NEWæ¨¡å¼ï¼Œç„¶ååœ¨ a æ–¹æ³•ä¸­è°ƒç”¨ bæ–¹æ³•æ“ä½œæ•°æ®åº“ï¼Œç„¶è€Œ aæ–¹æ³•æŠ›å‡ºå¼‚å¸¸åï¼Œbæ–¹æ³•å¹¶æ²¡æœ‰è¿›è¡Œå›æ»šï¼Œå› ä¸ºPropagation.REQUIRES_NEWä¼šæš‚åœ aæ–¹æ³•çš„äº‹åŠ¡ )</p></li></ul><p>-<code>Propagation.NOT_SUPPORTED</code>ï¼šä»¥éäº‹åŠ¡çš„æ–¹å¼è¿è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œæš‚åœå½“å‰çš„äº‹åŠ¡ã€‚</p><ul><li><p><code>Propagation.NEVER</code>ï¼šä»¥éäº‹åŠ¡çš„æ–¹å¼è¿è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</p></li><li><p><code>Propagation.NESTED</code> ï¼šå’Œ Propagation.REQUIRED æ•ˆæœä¸€æ ·ã€‚</p></li></ul><p>æ›´å¤šå‚æ•°å¯ä»¥ç™¾åº¦äº†è§£ã€‚</p><h2 id="å®é™…çš„é—®é¢˜"><a href="#å®é™…çš„é—®é¢˜" class="headerlink" title="å®é™…çš„é—®é¢˜"></a>å®é™…çš„é—®é¢˜</h2><p>æœ¬äººå¤„ç†ä¸€äº›é“¶è¡Œè´¦åŠ¡åŠ¨è´¦ä¿¡æ¯æ—¶ï¼Œæ¯”å¦‚ä¸€ä¸ªè®°è´¦æ“ä½œæ—¶ï¼Œæˆ‘éœ€è¦æŠŠéœ€è¦è®°è´¦çš„æ•°æ®çš„çŠ¶æ€å…ˆæ”¹æˆåœ¨å¤„ç†çš„çŠ¶æ€ï¼Œä¸”éœ€è¦æäº¤äº‹åŠ¡ï¼Œä¸”éœ€è¦ç¡®å®šä¸‹ä¸€ä¸ªäº‹åŠ¡å¼€å¯æ—¶éœ€è¦è®°è´¦çš„æ•°æ®çŠ¶æ€å·²ç»æ˜¯ä¿®æ”¹è¿‡åçš„çŠ¶æ€ï¼Œé˜²æ­¢é‡å¤æ“ä½œåŒä¸€ç¬”æ•°æ®ï¼Œé‚£ä¹ˆé—®é¢˜å°±æ¥äº†ï¼Œåœ¨ä½¿ç”¨springå£°æ˜äº‹åŠ¡æ§åˆ¶æ—¶ï¼Œå¦‚ä½•è¿›è¡Œè¿™æ ·çš„æ“ä½œã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServiceA</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Transactional</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// æ£€æŸ¥æ•°æ®çŠ¶æ€æ˜¯å¦å¤„äºæ­£å¸¸çŠ¶æ€ï¼Œå¦‚æœåœ¨å¤„ç†ä¸­å°±ä¸è¿›è¡Œæ“ä½œ</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">==</span> <span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>          log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"æ­¤æ•°æ®æ­£åœ¨ä¿®æ”¹ä¸­ï¼Œæ— æ³•æ“ä½œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// å…ˆæ›´æ–°ä¸€ä¸‹çŠ¶æ€</span>        <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ­¤æ—¶éœ€è¦æäº¤</span>        <span class="token comment">// ä¸‹é¢è¿›è¡Œä¸€äº›è€—æ—¶çš„æ“ä½œï¼Œ</span>        <span class="token comment">//æ“ä½œç»“æŸå,è¿˜éœ€è¿›è¡Œä¸€äº›éœ€è¦äº‹åŠ¡æ§åˆ¶çš„æ“ä½œ</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¿™ç§æƒ…å†µå°±é»˜è®¤çš„äº‹åŠ¡æ§åˆ¶ä¸€ä¸ªæ–¹æ³•å†…åªèƒ½æœ‰ä¸€ä¸ªäº‹åŠ¡ï¼Œæ‰€ä»¥ä¸­é—´é‚£æ­¥çš„æäº¤æ“ä½œä»¥æˆ‘çš„è§£å†³æ–¹å¼ï¼Œæ—¢ç„¶ä¸€ä¸ªæ–¹æ³•åªèƒ½æœ‰ä¸€ä¸ªäº‹åŠ¡ï¼Œé‚£æˆ‘æŠŠé€»è¾‘å•ç‹¬æä¸€ä¸ªæ–¹æ³•ä¸å°±è¡Œäº†ï¼Œè¯´å¹²å°±å¹²ï¼Œè¿™æ˜¯ä¿®æ”¹åçš„ä»£ç ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServiceA</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Transactional</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTest2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// å…ˆæ›´æ–°ä¸€ä¸‹çŠ¶æ€</span>        <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Transactional</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// æ£€æŸ¥æ•°æ®çŠ¶æ€æ˜¯å¦å¤„äºæ­£å¸¸çŠ¶æ€ï¼Œå¦‚æœåœ¨å¤„ç†ä¸­å°±ä¸è¿›è¡Œæ“ä½œ</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">==</span> <span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>          log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"æ­¤æ•°æ®æ­£åœ¨ä¿®æ”¹ä¸­ï¼Œæ— æ³•æ“ä½œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// å…ˆæ›´æ–°ä¸€ä¸‹çŠ¶æ€</span>        <span class="token comment">// setStatus("2");</span>        <span class="token comment">// è°ƒç”¨æ–¹æ³•</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setTest2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ­¤æ—¶éœ€è¦æäº¤</span>        <span class="token comment">// ä¸‹é¢è¿›è¡Œä¸€äº›è€—æ—¶çš„æ“ä½œï¼Œ</span>        <span class="token comment">//æ“ä½œç»“æŸå,è¿˜éœ€è¿›è¡Œä¸€äº›éœ€è¦äº‹åŠ¡æ§åˆ¶çš„æ“ä½œ</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¿™ä¸ªæ—¶å€™ä¿¡å¿ƒæ»¡æ»¡çš„æ“ä½œå‘ç°setTest2æ–¹æ³•è°ƒç”¨è¿‡åï¼Œå‘ç°è¿˜æ˜¯åªæœ‰ä¸€ä¸ªäº‹åŠ¡ï¼Œä¸”setTest2çš„æ›´æ–°æ“ä½œè¿˜æ˜¯æ²¡æœ‰åˆ†å¼€æäº¤ï¼ŒåŸå› æ˜¯ï¼ŒJDKçš„åŠ¨æ€ä»£ç†ã€‚åœ¨SpringIoCå®¹å™¨ä¸­è¿”å›çš„è°ƒç”¨çš„å¯¹è±¡æ˜¯ä»£ç†å¯¹è±¡è€Œä¸æ˜¯çœŸå®çš„å¯¹è±¡ï¼Œåªæœ‰è¢«åŠ¨æ€ä»£ç†ç›´æ¥è°ƒç”¨çš„æ‰ä¼šäº§ç”Ÿäº‹åŠ¡ã€‚è¿™é‡Œçš„thisæ˜¯è‡ªèº«æ˜¯çœŸå®å¯¹è±¡è€Œä¸æ˜¯ä»£ç†å¯¹è±¡ï¼Œé—®é¢˜åˆ°è¿™é‡Œå·²ç»å¾ˆæ˜æœ—äº†ï¼Œè¿™æ ·å•Šï¼Œæ—¢ç„¶thisè°ƒç”¨çš„è¯äº‹åŠ¡ä¸èƒ½èµ·ä½œç”¨ï¼Œspringæœ€æ“…é•¿çš„ä¸å°±æ˜¯æ³¨å…¥ï¼Œæˆ‘æ³¨å…¥ä¸€ä¸ªï¼Œç„¶åä»£ç å¦‚ä¸‹ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServiceA</span><span class="token punctuation">&#123;</span>  <span class="token comment">// è¿™æ˜¯æˆ‘æ³¨å…¥çš„ï¼Œå®é™…å°±æ˜¯ä»å®¹å™¨é‡Œé¢å–å‡ºè‡ªå·±çš„ä»£ç†ç±»</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token class-name">ServiceA</span> serviceA<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Transactional</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTest2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// å…ˆæ›´æ–°ä¸€ä¸‹çŠ¶æ€</span>        <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Transactional</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// æ£€æŸ¥æ•°æ®çŠ¶æ€æ˜¯å¦å¤„äºæ­£å¸¸çŠ¶æ€ï¼Œå¦‚æœåœ¨å¤„ç†ä¸­å°±ä¸è¿›è¡Œæ“ä½œ</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">==</span> <span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>          log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"æ­¤æ•°æ®æ­£åœ¨ä¿®æ”¹ä¸­ï¼Œæ— æ³•æ“ä½œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// å…ˆæ›´æ–°ä¸€ä¸‹çŠ¶æ€</span>        <span class="token comment">// setStatus("2");</span>        <span class="token comment">// è°ƒç”¨æ–¹æ³•</span>        <span class="token comment">// this.setTest2();</span>        <span class="token comment">// ä½¿ç”¨æ³¨å…¥çš„å¯¹è±¡è°ƒç”¨æ–¹æ³•ï¼Œå°±èƒ½è§¦å‘äº‹åŠ¡äº†ï¼Œ</span>        serviceA<span class="token punctuation">.</span><span class="token function">setTest2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ­¤æ—¶éœ€è¦æäº¤</span>        <span class="token comment">// ä¸‹é¢è¿›è¡Œä¸€äº›è€—æ—¶çš„æ“ä½œï¼Œ</span>        <span class="token comment">//æ“ä½œç»“æŸå,è¿˜éœ€è¿›è¡Œä¸€äº›éœ€è¦äº‹åŠ¡æ§åˆ¶çš„æ“ä½œ</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>åˆ°è¿™æ­¥ï¼Œå¿ƒé‡Œæƒ³ç€åº”è¯¥å°±å¯ä»¥äº†ï¼Œä½†å®é™…ä¸Šè¿˜æ˜¯ä¸è¡Œï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±è¦çœ‹è¿™ä¸ªäº†<a href="#propagation%E5%8F%82%E6%95%B0">æ³¨è§£</a>ï¼Œé»˜è®¤çš„è§„åˆ™æ˜¯</p><div class="note note-info">            <p>å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼Œå¦‚æœå½“å‰ä¸å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚</p>          </div><p>å¾ˆæ˜¾ç„¶è¿™ä¸ªä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œå› ä¸ºæˆ‘å°±æ˜¯éœ€è¦ä¸¤ä¸ªäº‹åŠ¡åˆ†åˆ«æäº¤ï¼Œä½ è¿˜ç»™æˆ‘åŠ å…¥åŒä¸€ä¸ªäº‹åŠ¡é‡Œï¼Œé—¹å‘¢ï¼Œä¸€ä¸ªä¸€ä¸ªçœ‹ï¼Œé…ç½®äº‹åŠ¡çš„éš”ç¦»æ€§é…ç½®ä¸º<code>Propagation.REQUIRES_NEW</code>ã€‚</p><div class="note note-info">            <p><code>REQUIRES_NEW</code>ï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œæš‚åœå½“å‰çš„äº‹åŠ¡ã€‚ä¸”æ–°å¢çš„äº‹åŠ¡å¤„ç†å®Œæˆååœ¨å¤„ç†å½“å‰çš„äº‹åŠ¡</p>          </div><p>ä»£ç å¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServiceA</span><span class="token punctuation">&#123;</span>   <span class="token annotation punctuation">@Resource</span>    <span class="token class-name">ServiceA</span> serviceA<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>propagation <span class="token operator">=</span> <span class="token class-name">Propagation</span><span class="token punctuation">.</span><span class="token constant">REQUIRES_NEW</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTest2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// å…ˆæ›´æ–°ä¸€ä¸‹çŠ¶æ€</span>        <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Transactional</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// æ£€æŸ¥æ•°æ®çŠ¶æ€æ˜¯å¦å¤„äºæ­£å¸¸çŠ¶æ€ï¼Œå¦‚æœåœ¨å¤„ç†ä¸­å°±ä¸è¿›è¡Œæ“ä½œ</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">==</span> <span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>          log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"æ­¤æ•°æ®æ­£åœ¨ä¿®æ”¹ä¸­ï¼Œæ— æ³•æ“ä½œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// å…ˆæ›´æ–°ä¸€ä¸‹çŠ¶æ€</span>        <span class="token comment">// setStatus("2");</span>        <span class="token comment">// è°ƒç”¨æ–¹æ³•</span>        <span class="token comment">// this.setTest2();</span>        <span class="token comment">// ä½¿ç”¨æ³¨å…¥çš„å¯¹è±¡è°ƒç”¨æ–¹æ³•ï¼Œå°±èƒ½è§¦å‘äº‹åŠ¡äº†ï¼Œ</span>        serviceA<span class="token punctuation">.</span><span class="token function">setTest2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ­¤æ—¶éœ€è¦æäº¤</span>        <span class="token comment">// ä¸‹é¢è¿›è¡Œä¸€äº›è€—æ—¶çš„æ“ä½œï¼Œ</span>        <span class="token comment">//æ“ä½œç»“æŸå,è¿˜éœ€è¿›è¡Œä¸€äº›éœ€è¦äº‹åŠ¡æ§åˆ¶çš„æ“ä½œ</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æ³¨æ„çœ‹æ§åˆ¶å°ï¼Œåº”è¯¥ä¼šå‡ºç°ä¸¤ä¸ªäº‹åŠ¡ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘çš„éœ€æ±‚å°±ç®—æ˜¯å®Œæˆäº†ã€‚ç»™ä½ å¸¦æ¥æ–¹ä¾¿çš„äº‹åŠ¡æ€»ä¼šå¤šå¤šå°‘å°‘ç»™ä½ å¸¦æ¥äº›è®¸çš„ä¸ä¾¿ï¼Œè¿™äº›ä¸ä¾¿çš„åœ°æ–¹å«åšè§„åˆ™ï¼Œå› ä¸ºä½ ç”¨äº†åˆ«äººå¼€å‘çš„æŠ€æœ¯ï¼Œä½ å°±éœ€è¦ç ”ç©¶å’Œéµå®ˆåˆ«äººçš„å®šä¸‹çš„è§„åˆ™ã€‚ä¸€å¼€å§‹å¯èƒ½ä¼šè®©ä½ æŸæ‰‹æŸè„šçš„ï¼Œä½†æ˜¯ä¸€æ—¦ä½ æŒæ¡äº†è§„åˆ™ï¼Œä½ çš„ç¼–ç èƒ½åŠ›ä¼šå¾—åˆ°å¤§å¤§çš„æå‡ã€‚</p><h2 id="æ‰‹åŠ¨æ§åˆ¶äº‹åŠ¡"><a href="#æ‰‹åŠ¨æ§åˆ¶äº‹åŠ¡" class="headerlink" title="æ‰‹åŠ¨æ§åˆ¶äº‹åŠ¡"></a>æ‰‹åŠ¨æ§åˆ¶äº‹åŠ¡</h2><p>ä¸å»ºè®®ä½¿ç”¨ï¼Œåœ¨ä¸€äº›ç‰¹æ®Šçš„åœºæ™¯é‡Œå¯ä»¥ä½¿ç”¨ï¼Œå¦‚å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œç›´æ¥çœ‹ä»£ç </p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// éœ€è¦æ³¨å…¥çš„å¯¹è±¡</span><span class="token annotation punctuation">@Autowired</span><span class="token keyword">private</span> <span class="token class-name">DataSourceTransactionManager</span> dataSourceTransactionManager<span class="token punctuation">;</span><span class="token annotation punctuation">@Autowired</span><span class="token keyword">private</span> <span class="token class-name">TransactionDefinition</span> transactionDefinition<span class="token punctuation">;</span><span class="token comment">// å¼€å¯äº‹åŠ¡</span><span class="token class-name">TransactionStatus</span> transactionStatus<span class="token operator">=</span>dataSourceTransactionManager<span class="token punctuation">.</span><span class="token function">getTransaction</span><span class="token punctuation">(</span>transactionDefinition<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æäº¤äº‹åŠ¡</span>dataSourceTransactionManager<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span>transactionStatus<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å›æ»šäº‹åŠ¡</span>dataSourceTransactionManager<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span>transactionStatus<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å…·ä½“ä½¿ç”¨æ–¹æ³•æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡æ¥ç¼–å†™ä»£ç å°±å¯ä»¥äº†</p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gw5ui05viuj33341wo1kz.jpg" alt="å¥³å­©å­ é£æ™¯ å¤–å»Š å†¬æ™¯è‰² å¤•é˜³ æ™šéœ"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>spring</tag>
      
      <tag>äº‹åŠ¡æ§åˆ¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>springbootæ‰“åŒ…äºŒä¸‰äº‹</title>
    <link href="/2021/10/20/java-03/"/>
    <url>/2021/10/20/java-03/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>çˆ±æƒ…æ˜¯ä¸¤ä¸ªå¼ºè€…ä¹‹é—´çš„é£èŠ±é›ªæœˆï¼Œè€Œä¸æ˜¯å¼±è€…ä¹‹é—´çš„è‹¦å¤§ä»‡æ·±ã€‚</p>          </div><p>ç®€å•çš„æ‰“åŒ…ï¼Œæ— éœ€å¤šè¨€å§ï¼Œideaé‡Œé¢ç›´æ¥ç‚¹ç‚¹ç‚¹å°±è¡Œã€‚å¯æƒœå‡¡äº‹å¤§éƒ½ä¸èƒ½æŒ‰ç…§æˆ‘ä»¬é¢„æœŸçš„é‚£æ ·ã€‚æ€»æœ‰ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„éœ€æ±‚ï¼Œä¼šè®©ä½ å¤´ç—›ä¸€ä¼šï¼Œä½†æ˜¯é‡åˆ°é—®é¢˜ä¹Ÿä¸ç”¨æ…Œï¼Œå®é™…æˆ‘ä»¬é‡åˆ°çš„å¤§å¤šé—®é¢˜ï¼Œç½‘ä¸Šä¸€æœä¸€å¤§ç¥¨è§£å†³æ–¹æ³•ï¼Œç„¶åè‡ªå·±æ ¹æ®è‡ªå·±çš„ç»éªŒä»é‡Œé¢æ‰¾åˆ°è‡ªå·±æƒ³è¦çš„ç»“æœå°±è¡Œã€‚</p><p>springbootæ‰“åŒ…é»˜è®¤çš„æƒ…å†µä¸‹æ‰“å®ŒåŒ…åä¼šè¿›è¡Œä¸€æ¬¡æµ‹è¯•ï¼Œæ‰€è°“æµ‹è¯•å°±æ˜¯å¯åœä¸€ä¸‹é¡¹ç›®ï¼Œè‡ªå·±æµ‹è¯•æ‰“åŒ…ç©çš„æ—¶å€™ï¼Œæ„Ÿè§‰å¹¶æ— å¤§ç¢ï¼Œæœ€å¤šåªæ˜¯æ‹–æ…¢ä¸€ç‚¹æ‰“åŒ…é€Ÿåº¦ã€‚ä½†å®é™…ä¸Šæ‰“åŒ…çš„çº¿ä¸Šé…ç½®å¾ˆéš¾å’Œæ‰“åŒ…ç¯å¢ƒåšåˆ°ä¸€è‡´ï¼Œå°±æ˜¯è¯´ä½ ç”¨çº¿ä¸Šçš„é…ç½®æ‰“åŒ…é¡¹ç›®ï¼Œé¡¹ç›®å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯è·‘ä¸èµ·æ¥çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªé»˜è®¤çš„æµ‹è¯•æ­¥éª¤å°±æ²¡å•¥ç”¨ï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½æ˜¯å…³é—­çš„ã€‚</p><h2 id="å…³é—­æ‰“åŒ…çš„æµ‹è¯•é…ç½®"><a href="#å…³é—­æ‰“åŒ…çš„æµ‹è¯•é…ç½®" class="headerlink" title="å…³é—­æ‰“åŒ…çš„æµ‹è¯•é…ç½®"></a>å…³é—­æ‰“åŒ…çš„æµ‹è¯•é…ç½®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- è·³è¿‡æµ‹è¯• --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>skipTests</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>skipTests</span><span class="token punctuation">></span></span>    ...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ç»§ç»­èŠï¼ŒJavaé¡¹ç›®çš„ä¾èµ–ç®¡ç†å·¥å…·ï¼Œå¦‚Mavenï¼Œåˆæˆ–è€…Gradleï¼Œç»™æˆ‘ä»¬å¸¦æ¥äº†æ–¹ä¾¿çš„åŒæ—¶ä¹Ÿæœ‰äº†ä¸€ç‚¹ç‚¹çš„å°é™åˆ¶ï¼Œå®é™…ä¸Šå¹¶ä¸èƒ½ç§°ä½œä¸ºé™åˆ¶ï¼Œåªæ˜¯éœ€æ±‚å¤ªè¯¡å¼‚å§ï¼Œæ¯”å¦‚æœ¬ç¨‹åºå‘˜å°±é‡åˆ°è¿‡ï¼Œé¡¹ç›®æ–°æ—§ç¢°æ’ï¼Œæœ‰ä¸€ä¸ªä¾èµ–åŠå…¶å¤è€ï¼Œå¤šè€ä¸æ¸…æ¥šï¼ŒMavenä¸­å¤®ä»“åº“é‡Œå·²ç»æ‰¾ä¸åˆ°è¿™ä¸ªç‰ˆæœ¬äº†ï¼Œåˆä¸æ•¢ç”¨åˆ«çš„ä¾èµ–æ›¿æ¢ï¼Œé‚£æ€ä¹ˆåŠï¼Œé¡¹ç›®æ€ä¹ˆè·‘èµ·æ¥å‘¢ï¼Œå¤§éƒ¨åˆ†IDEå·¥å…·ç©çš„ç†Ÿçš„äººï¼ŒçŸ¥é“æ€ä¹ˆå¼„ï¼Œæ‰‹åŠ¨æ·»åŠ classpathè·¯å¾„ï¼Œä¸åŒIDEæœ‰ä¸åŒçš„æ“ä½œæ–¹æ³•ï¼Œä¸ç»†è¯´ã€‚çŸ¥é“è¿™æ­¥çš„ï¼Œé¡¹ç›®å¼€å‘è°ƒè¯•è¿è¡Œæ²¡æœ‰é—®é¢˜äº†ï¼Œä½†æ˜¯ï¼Œæˆ‘æ—¢ç„¶éƒ½è¯´äº†ï¼Œé—®é¢˜è‚¯å®šè¿˜æ²¡è§£å†³ã€‚å¼€å‘çš„å·®ä¸å¤šäº†ï¼Œæ‰“åŒ…å‘å¸ƒï¼Œä¸€ä¸Šçº¿ï¼Œå’‹æŠ¥é”™äº†å‘¢ï¼Œä¸€èˆ¬ç¼ºå°‘ä¾èµ–æ—¶ï¼Œå¦‚æœä½ å¯åŠ¨è¿‡ç¨‹ä¸­æ²¡æœ‰ç”¨åˆ°è¿™ä¸ªä¾èµ–ï¼Œå®ƒä¸ä¼šæŠ¥é”™ï¼Œå½“ä½ æ‰§è¡Œæ–¹æ³•è¿‡ç¨‹ä¸­æŸä¸ªç±»ä¸­ç”¨åˆ°äº†è¿™ä¸ªä¾èµ–ï¼Œå®ƒæ‰ä¼šæŠ¥é”™ã€‚ä¸ºå•¥æŠ¥é”™å‘¢ï¼Œé¦–å…ˆæˆ‘ä»¬çœ‹å¼‚å¸¸ï¼Œæˆ‘ä¹Ÿè®°ä¸å¤ªæ¸…ï¼Œä¾èµ–ç¼ºå¤±çš„å¼‚å¸¸å«ä»€ä¹ˆClassNotFundä»€ä¹ˆä¹‹ç±»çš„å¼‚å¸¸ï¼Œå•è¯è®°å¾—ä¸æ¸…æ¥šï¼Œä¸­å¼è‹±è¯­ï¼’çº§æ°´å¹³çš„æˆ‘ç¿»è¯‘å°±æ˜¯æ‰¾ä¸åˆ°ç±»å¼‚å¸¸ã€‚è¿™æ—¶ï¼Œå¯¹äºSpringBootæ‰“çš„åŒ…ç†Ÿæ‚‰çš„äººå·²ç»å¼€å§‹æŸ¥çœ‹åŒ…é‡Œæ˜¯å¦æœ‰é—®é¢˜ï¼Œç®€å•çœ‹ä¸€ä¸‹ï¼Œå®šä½åˆ°é—®é¢˜äº†ï¼Œæˆ‘ä»¬æ‰‹åŠ¨æ·»åŠ çš„ä¾èµ–ï¼Œå¹¶ä¸èƒ½è¢«SpringBootæ‰“åŒ…æ‰“è¿›å»ï¼Œé‚£æ€ä¹ˆåŠå‘¢ã€‚åˆ°ä¹Ÿä¸éš¾ï¼Œæ—¢ç„¶mavenä¸­çš„ä¾èµ–èƒ½æ‰“åŒ…è¿›å»ï¼Œæˆ‘ä»¬æŠŠä¾èµ–åœ¨Mavenä¸­é…ä¸€ä¸‹å°±è¡Œäº†å‘—ã€‚</p><h2 id="Mavenåœ¨pomä¸­åŠ è½½æœ¬åœ°ä¾èµ–æ–¹æ³•"><a href="#Mavenåœ¨pomä¸­åŠ è½½æœ¬åœ°ä¾èµ–æ–¹æ³•" class="headerlink" title="Mavenåœ¨pomä¸­åŠ è½½æœ¬åœ°ä¾èµ–æ–¹æ³•"></a>Mavenåœ¨pomä¸­åŠ è½½æœ¬åœ°ä¾èµ–æ–¹æ³•</h2><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.oracle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span> <span class="token comment">&lt;!-- è¿™ä¸ªéšä¾¿å¡«ï¼Œä¸€èˆ¬ç”¨å€’å†™åŸŸåçš„æ–¹å¼å§--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>ojdbc10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- è¿™ä¸ªåŒæ ·éšä¾¿å¡«ï¼Œä¸Šé¢åŠ è¿™ä¸ªå†…å®¹è¦ä¿è¯å…¨çƒå”¯ä¸€ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½ç”¨åŸŸåæ¥å†™--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- éšä¾¿å†™ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>system<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- ä¸æ‡‚ï¼Œè¯·æœç´¢Mavenä¾èµ–scopeæ ‡ç­¾åšä»€ä¹ˆçš„--></span>    <span class="token comment">&lt;!-- æ ¸å¿ƒï¼š$&#123;project.basedir&#125;æŒ‡é¡¹ç›®æ ¹è·¯å¾„ï¼Œ /lib/ojdbc10.jarï¼Œä¸€èˆ¬æˆ‘æ˜¯åœ¨é¡¹ç›®æ ¹åºæ±Ÿä¸‹æ–°å»ºä¸€ä¸ªlibæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ”¾jaråŒ…å³å¯ã€‚--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>systemPath</span><span class="token punctuation">></span></span>$&#123;project.basedir&#125;/lib/ojdbc10.jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>systemPath</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- å°†SystemScopeé…ç½®çš„ä¾èµ–æ‰“åŒ…åˆ°æ„å»ºåŒ…ä¸­ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includeSystemScope</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includeSystemScope</span><span class="token punctuation">></span></span>        ...    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>    ...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ç»§ç»­è¯´å§ï¼Œè¿™ä¸¤ç§ä»¥åŠæ¶µç›–äº†ç™¾åˆ†ä¹‹å…«åä»¥ä¸Šæƒ…å†µï¼Œç»§ç»­è¯´æ‰“åŒ…ï¼Œspringbootçš„æ‰“åŒ…ï¼Œå¾ˆæ–¹ä¾¿ï¼Œä¸€ä¸ªæ•´ä½“çš„JaråŒ…ï¼Œä¸€è¡Œå‘½ä»¤å°±èƒ½ç›´æ¥è¿è¡Œå¯åŠ¨ï¼Œå¾ˆä¸é”™ã€‚ åœ¨ä¸€äº›åœºæ™¯ä¸‹ï¼Œå°±æ˜¯åœ¨ä½ ä¸æ–¹ä¾¿è®¿é—®çº¿ä¸Šæµ‹è¯•çš„ç¯å¢ƒä¸‹ï¼Œä¸€ä¸ªäº”å…­åå…†çš„jarä¸Šä¼ å°†åŠå…¶éº»çƒ¦ï¼Œå°¤å…¶æ˜¯åœ¨çº¿ä¸Šæµ‹è¯•çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ¯æ¬¡å°±æ›´æ–°å‡ ä¸ªæ–‡ä»¶ï¼Œçº¿ä¸Šéƒ¨ç½²å´ä¾ç„¶éœ€è¦ä¸Šä¼ å¾ˆå¤§çš„ä¾èµ–ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œä¾èµ–å’ŒJaråŒ…åˆ†å¼€æ‰“åŒ…å°±æ˜¾å¾—ååˆ†æœ‰å¿…è¦äº†ã€‚</p><h2 id="SpringBooté¡¹ç›®JaråŒ…ä¾èµ–åˆ†ç¦»æ‰“åŒ…"><a href="#SpringBooté¡¹ç›®JaråŒ…ä¾èµ–åˆ†ç¦»æ‰“åŒ…" class="headerlink" title="SpringBooté¡¹ç›®JaråŒ…ä¾èµ–åˆ†ç¦»æ‰“åŒ…"></a>SpringBooté¡¹ç›®JaråŒ…ä¾èµ–åˆ†ç¦»æ‰“åŒ…</h2><p>è¿™ä¸ªéœ€è¦å‡ ä¸ªæ­¥éª¤ï¼Œé¦–å…ˆæˆ‘ä»¬æŒ‰æ­£å¸¸çš„æ–¹å¼é»˜è®¤æ‰“åŒ…ä¸€ä¸‹ï¼ŒæŠŠæ­£å¸¸çš„æ‰“åŒ…çš„JaråŒ…ä¸­çš„libæ–‡ä»¶å¤¹ç²˜è´´å‡ºæ¥ï¼Œç„¶åé…ç½®pomæ–‡ä»¶</p><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    ...        <span class="token comment">&lt;!--è¿™é‡Œå¯¹åº”é¡¹ç›®çš„ä¸»å…¥å£--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mainClass</span><span class="token punctuation">></span></span>com.jy.frame.BootApplication<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mainClass</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span><span class="token punctuation">></span></span>ZIP<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>nothing<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>nothing<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>    ...    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">></span></span>repackage<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--end--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>é…ç½®å®Œæˆåé‡æ–°æ‰“åŒ…å¾—åˆ°çš„å°±æ˜¯æ²¡æœ‰ä¾èµ–çš„JaråŒ…äº†ï¼ŒæŠŠJarå’Œä¸Šé¢æ‹·å‡ºæ¥çš„libæ–‡ä»¶å¤¹æ”¾åœ¨åŒä¸€ç›®å½•ï¼Œè¿è¡Œçš„å‘½ä»¤éœ€è¦åŠ ä¸Šlibç›®å½•</p><figure><div class="code-wrapper"><pre class="line-numbers language-cmd" data-language="cmd"><code class="language-cmd">java -jar -Dloader.path&#x3D;.&#x2F;lib æ‰“å‡ºæ¥çš„JaråŒ…å.jar<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gvlxsfazirj62yo1o01l002.jpg" alt="çŸ­å‘å¥³å­©"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>maven</tag>
      
      <tag>package</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºæŠ€æœ¯</title>
    <link href="/2021/10/13/gossip-02/"/>
    <url>/2021/10/13/gossip-02/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>ç†æ€§çš„æ€ç»´å¹¶ä¸æ¯”æ„Ÿæ€§çš„æ€ç»´è¦é«˜çº§ï¼Œæˆ‘ä»¬çµé­‚çš„ç”»åƒä¸Šä¹Ÿç»ä¸åº”è¯¥åªå­˜åœ¨æŸä¸€ç§è‰²å½©ã€‚</p>          </div><p>è‡ªè®¤ä¸ºå¯¹æŠ€æœ¯æœ‰ç€æ— é™çš„çƒ­çˆ±ï¼Œèµšé’±åªæ˜¯é¡ºå¸¦ï¼Œè§£å†³é—®é¢˜å¯¹æˆ‘æ¥è¯´ï¼Œæ¯”èµšé’±æ›´æœ‰æ„æ€ï¼Œèµšé’±èƒ½åŠ›ï¼Œåªæ˜¯è¯æ˜ä¸€ä¸‹ï¼Œè‡ªå·±ä¸æ˜¯åºŸæå°±å¤Ÿäº†ï¼Œ</p><p>å®å›¾å¤§å¿—ä¹Ÿæ²¡æœ‰ï¼Œè‹Ÿä¸”å·ç”Ÿåˆ°ä¹Ÿä¸å±‘ã€‚æƒ³è‡ªåœ¨ï¼Œä¸ºè‡ªå·±è€Œæ´»ï¼Œå¯æ˜¯å•Šï¼Œäººå°±ä¸èƒ½å®Œå…¨çš„ä¸ºè‡ªå·±è€Œæ´»å•Šï¼Œå¦åˆ™é‚£å°±æ˜¯è‡ªç§ã€‚è½¬å¿µä¸€æƒ³è‡ªåœ¨ä¸¤ä¸ªå­—è¯´éš¾ä¹Ÿéš¾ï¼Œè¯´ç®€å•ä¹Ÿç®€å•ã€‚ç®€å•çš„æ–¹å¼ï¼Œèµšç‚¹é’±ç»™çˆ¶æ¯å…»è€ï¼Œç„¶åå’±ä»¬é‚£å°±äº”å°å±±å±±ä¸Šè§ï¼›éš¾çš„æ–¹å¼ï¼ŒèŠ±æ ·å°±å¤šäº†ï¼Œæˆ¿å­ï¼Œè½¦å­ï¼Œç¥¨å­ï¼Œå¥³å­ï¼Œæˆ‘æ˜¯ä¸€ä¸ªå­éƒ½æ²¡æœ‰å•ŠğŸ˜…ğŸ˜…</p><p>çŸ¥ä¹ä¸Šçœ‹åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå½“ä½ å‘ç°ä½ å¼•ä»¥ä¸ºè±ªçš„æŠ€æœ¯å…¶å®åªæ˜¯å·¥å…·è€Œå·²ï¼Œä½ ä¼šæ„Ÿåˆ°æ‚²å“€å—</p><p>æˆ‘éœ€è¦æ„Ÿåˆ°æ‚²å“€å˜›ï¼ŒæŠ€æœ¯æœ¬èº«å°±æ˜¯å·¥å…·ï¼Œåªæ˜¯è§£å†³é—®é¢˜çš„ä¸€ç§æ›´é«˜çº§çš„åšæ³•ï¼Œäººç±»ä»çŸ³å™¨æ—¶ä»£ï¼Œåˆ°é’é“œæ—¶ä»£ï¼Œå†åˆ°ç°åœ¨çš„é’¢é“æ—¶ä»£ï¼ŒæŠ€æœ¯å’Œå·¥å…·æ˜¯ç›¸è¾…ç›¸æˆçš„ã€‚å·¥å…·æ˜¯æŠ€æœ¯ï¼ŒæŠ€æœ¯æ˜¯å·¥å…·ï¼Œè¿™å¹¶ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯èƒ½ä¸èƒ½å·§å¦™çš„è§£å†³é—®é¢˜ã€‚</p><p>æœ‰æ¬¡æä¸ªJavaçš„Springbooté¡¹ç›®ï¼Œå¾€å‰ç«¯è¿›è¡ŒJsonæ ¼å¼è½¬æ¢çš„æ—¶å€™ï¼Œå‘ç°å±æ€§çš„å¤§å†™é¦–å­—æ¯å˜å°å†™äº†ï¼Œè¿™æå¤§çš„ä¸æ–¹ä¾¿å‰åä¸€è‡´æ€§ï¼Œå¤ªè‰¹è›‹äº†ã€‚å±æ€§åJSONåŒ–æ—¶ç«Ÿç„¶ä¼šæœ‰å˜åŒ–ï¼Œæ„Ÿè§‰Javaçš„å¾ˆå¤šæ¡†æ¶å¼€å‘è€…æœ‰ç‚¹æ­»è„‘ç­‹ï¼Œå‘½åè§„èŒƒè¿™ç©æ„å°±æ˜¯ä¸ªè§„èŒƒï¼Œä½ åšæ¡†æ¶åº•å±‚æ²¡å¿…è¦è¶Šå¨ä»£åº–ï¼Œå¼ºåˆ¶é‡‡ç”¨è¿™äº›è§„èŒƒã€‚åšåº•å±‚çš„ä¸œè¥¿å°±è¦æŠŠè‡ªç”±åº¦ç•™ç»™ä½¿ç”¨äººå‘˜ï¼Œåˆ«äººæ‰å¥½åœ¨æ­¤åŸºç¡€ä¸Šæ‰©å±•ã€‚è™½ç„¶å¯ä»¥é€šè¿‡ä¸€äº›æ³¨è§£ä»€ä¹ˆçš„è§£å†³é—®é¢˜ï¼Œä½†æµªè´¹å¾ˆå¤šæ—¶é—´ã€‚æ•´ä½“ä¸Šæ¥è¯´ï¼Œæ— è®ºæ˜¯Javaçš„ä¸€äº›æ¡†æ¶è¿˜æ˜¯è¯­æ³•æœ¬èº«éƒ½ä¸ºäº†è§„èŒƒç‰ºç‰²äº†å¤ªå¤šçš„è‡ªç”±åº¦ï¼Œå¾ˆå¤šæ—¶å€™éƒ½æ˜¯åšäº›æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯å«é‡çš„ä¸œè¥¿ã€‚</p><p>æ™ºèƒ½IDEï¼Œæ™ºèƒ½ç¼–ç¨‹è¯­è¨€çš„é£é€Ÿå‘å±•ï¼Œè®©æˆ‘æ„Ÿè§‰ç°åœ¨è¿™ä¸ªç¼–ç¨‹çš„é—¨æ§›çœŸçš„æ˜¯ä½åˆ°æ²¡è¯è¯´ï¼Œä½†æ˜¯å•Šï¼Œç¼–ç¨‹çš„è§„èŒƒï¼Œå·¥å…·å’Œè¯­è¨€å¯ä»¥å¸®ä½ åšåˆ°ï¼Œä½†æ˜¯ç¼–ç¨‹çš„çµé­‚ï¼Œæ€æƒ³ï¼Œå°±ä¸æ˜¯ä¸€æ—¶åŠä¼šèƒ½å¤Ÿå½¢æˆçš„ã€‚å¹¶ä¸èƒ½è¯´ä½ ç²¾é€šç¼–ç ï¼Œå°±èƒ½å†™å‡ºä»»ä½•ä¸œè¥¿ã€‚ä¸€ä¸ªç®€å•çš„æƒé™æ¡†æ¶ï¼Œå¦‚æœä½ ä¸çŸ¥é“æˆ–è€…ä¸ç†è§£ä¸€äº›ç®€å•çš„å¦‚RBACæƒé™æ¨¡å‹ï¼Œåªä¼šç”¨ifå’Œelseæ¥å†™ï¼Œä½ æ„Ÿè§‰è¿™å¯èƒ½å˜›ï¼Œå°±ç®—èƒ½ï¼Œå†™å‡ºæ¥çš„ä»£ç ä¹Ÿæ˜¯ä¸€ä¸ªå¤©å‘ï¼Œæ¯åŠ ä¸€ä¸ªæƒé™ä½ å°±è¦å¤šå†™ä¸€ä¸ªif,è¿™æ˜¯å™©æ¢¦ä¸€æ ·çš„ä»£ç ã€‚ä¸ç®¡ä½ ç Œç –ä½ ç Œçš„çš„å¤šå¥½ï¼Œåªä¼šç Œç –æ˜¯å»ºä¸å‡ºæ‘©å¤©å¤§æ¥¼çš„ã€‚</p><p>è¯´å›ç¼–ç¨‹è¯­è¨€ï¼Œæˆ‘å¯¹ç¼–ç¨‹è¯­è¨€å¾ˆæ˜¯æ„Ÿå…´è¶£ï¼Œæˆ‘å–œæ¬¢ç ”ç©¶ä¸åŒç±»å‹çš„è¯­è¨€ï¼ŒåŠ¨æ€è¯­è¨€ï¼Œé™æ€è¯­è¨€ï¼Œå¼±ç±»å‹ï¼Œå¼ºç±»å‹ã€‚Javaï¼ŒJavascriptç­‰ç­‰ï¼Œå¯¹äºJSè¿™ä¸ªè¯­è¨€å¾ˆå¥‡æ€ªï¼Œæˆ‘æœ‰ç‚¹æä¸å¤ªæ˜ç™½ï¼ŒåŠ¨æ€è¯­è¨€èŠ±æ ·å¤ªå¤šäº†ï¼Œä¸€ä¸ªthisçš„æŒ‡å‘é—®é¢˜ï¼Œå°±èƒ½è®©äººå¤´ç—›å¾ˆä¹…ï¼Œè¿˜æœ‰é—­åŒ…ï¼ŒJSçš„ä½œç”¨åŸŸå¯ä»¥è¯´æ˜¯è¯¡å¼‚åˆ°è®©äººéš¾ä»¥æ¥å—ã€‚å›è°ƒå‡½æ•°ï¼Œæˆ‘åˆ°ç°åœ¨éƒ½ä¸æ˜¯å¾ˆæ‡‚å›è°ƒå‡½æ•°çš„æ“ä½œåŸç†ï¼Œæ€ä¹ˆèƒ½æŠŠå€¼ä¼ è¿›å‡½æ•°çš„å‚æ•°é‡Œé¢ï¼Œè¿™å¯¹äºæˆ‘å­¦Javaå…¥é—¨çš„æˆ‘æ¥è¯´ï¼Œè¿™ç§æ“ä½œè¿™å¤ªä¸å¯æ€è®®äº†ã€‚æˆ‘è¿˜å¾—å­¦ä¹ ã€‚åˆ¤æ–­è‡ªå·±å¯¹JSçš„æŒæ¡ç¨‹åº¦ï¼Œå¯ä»¥å»çœ‹Jqueryçš„æºç ï¼ŒJqueryå®é™…ä¸Šç®—ä¸ä¸Šæ¡†æ¶ï¼Œæ›´å¤šåªæ˜¯ä¸€ä¸ªJSçš„è¯­æ³•ç³–å·¥å…·ï¼Œå¦‚æœèƒ½çœ‹æ‡‚é‡Œé¢ä¸€äº›èŠ±é‡Œèƒ¡å“¨çš„æ“ä½œï¼Œé‚£ä¹ˆä½ çš„JSæ°´å¹³å®é™…ä¸Šå·²ç»å¾ˆå¯ä»¥äº†ï¼Œå¯¹äºJSè¿™é—¨è¯­è¨€ï¼Œåˆçˆ±åˆæ¨ã€‚åæ¥åˆäº†è§£äº†TSï¼Œå¯¹äºå‰ç«¯æˆ‘æ˜¯å¾ˆç–‘æƒ‘çš„ï¼Œå› ä¸ºç°åœ¨æ²¡æœ‰ä¸€ä¸ªæ ‡å‡†ï¼Œå‰ç«¯å¼€å‘æœ‰JSå…šï¼Œè€Œç°åœ¨ä¸€äº›æ¡†æ¶åˆè½¬è€Œæ‹¥æŠ±TSï¼ŒTsç±»å‹è¯­è¨€éœ€è¦IDEçš„æ”¯æŒæ‰èƒ½å‘æŒ¥å‡ºé™æ€ç±»å‹çš„ä¼˜åŠ¿ï¼Œè€ŒVSCodeï¼Œè™½è¯´æ˜¯ä½¿ç”¨TSå¼€å‘çš„ï¼Œä½†æ˜¯è¯­æ³•æç¤ºå¹¶ä¸æ˜¯é‚£ä¹ˆå‹å¥½ï¼Œèµ·ç ç»™æˆ‘çš„æ„Ÿè§‰ä¸æ˜¯é‚£ä¹ˆå‹å¥½ã€‚æ¡†æ¶è™½å¤šï¼Œä½†è¦è®°ä½ï¼ŒåŸç”ŸJSçš„æ‰æ˜¯ä½ çš„ç«‹èº«ä¹‹æœ¬å•Šã€‚æ¡†æ¶å¯èƒ½ä¼šè¿‡æ—¶ï¼ŒåŸç”ŸJSä¹Ÿæœ‰å¯ä¼šè¿‡æ—¶ï¼Œä½†ç›¸è¾ƒæ¡†æ¶æ¥è¯´æ¦‚ç‡æä½ã€‚</p><p>Kotlinï¼Œç®—æ˜¯ä¸€ä¸ªæ™ºèƒ½è¯­è¨€ï¼Œè¿™è¯­è¨€å¯¹äºè‡ªç„¶è¯­è¨€ååˆ†å‹å¥½ï¼Œå¸¦æ¥çš„å‰¯ä½œç”¨å°±æ˜¯ï¼Œç¼–è¯‘æˆæœºå™¨è¯­è¨€æ—¶æœ‰ç‚¹æ…¢ã€‚æ™ºèƒ½ï¼Œç¬¦åˆç¼–ç¨‹è¯­è¨€çš„è®¾è®¡å“²å­¦ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Œè°ç”¨è¿™ä¸ªè¯­è¨€ï¼Œå†™å‡ºæ¥çš„ä»£ç åŸºæœ¬éƒ½æ˜¯ååˆ†ç¬¦åˆç¼–ç¨‹è§„èŒƒçš„ä»£ç ï¼Œé¢å‘å¯¹è±¡è¯­è¨€çš„è®¾è®¡è§„åˆ™æ˜¯è¢«å®ƒç»™ç©æ˜ç™½äº†ã€‚Kotlinå’ŒJavaä¸€æ ·æ˜¯jvmè¯­è¨€ï¼Œå’ŒTså¯¹åº”JSä¸€æ ·ï¼ŒTsé‡Œé¢æ˜¯é€‚åº”JSçš„ï¼ŒKotliné‡Œä¹Ÿæ˜¯èƒ½å†™Javaçš„ã€‚è¿™æ˜¯ä¸€ç§åŒ…å®¹çš„å“²å­¦å§ã€‚</p><p>Javaï¼Œspringboot3.0æœ€ä½çš„JDKç‰ˆæœ¬ä¸º17.0ï¼Œä¸€äº›å›ºå®ˆJava8 çš„ä¼ä¸šå’Œå…¬å¸ï¼Œä½ å‘ä»»ä½ å‘å‘—ã€‚æŠ€æœ¯æ˜¯éœ€è¦åˆ›æ–°çš„ï¼ŒJavaä¸æ˜¯æ²¡æœ‰å‘å±•ï¼Œè€Œæ˜¯å‘å±•äº†ä¸€ç›´æ²¡äººç”¨ï¼Œä¸åœçš„åæ§½Jdk8çš„æ§½ç‚¹ï¼Œç„¶åé€ ä¸€äº›è½®å­ï¼Œå®é™…ä¸Šä¸€äº›ç—›ç‚¹ï¼Œä»¥åŠè½®å­ï¼ŒJavaæ–°ç‰¹æ€§ä¸­å·²ç»æœ‰äº†ï¼Œæ¯”å¦‚å¤§å®¶å¸¸ç”¨çš„Lombokæ’ä»¶ï¼ŒJDK17ä¸­å·²ç»ä¸éœ€è¦è¿™ä¸ªæ’ä»¶äº†ï¼Œçœ‹è¿‡æ¯ä¸ªç‰ˆæœ¬çš„æ–°ç‰¹æ€§ä»‹ç»ï¼Œå¿˜äº†ï¼Œæˆ‘ä¸å–œæ¬¢ç”¨Lombokæ‰€ä»¥æˆ‘å¯¹è¿™ä¸ªç‰¹æ€§æˆ‘è®°å¾—æ¯”è¾ƒæ¸…æ¥šã€‚å…¶ä»–çš„æ€§èƒ½ï¼Œå¤šçº¿ç¨‹ï¼ŒGCç­‰ç­‰ä¼˜åŒ–ï¼Œè¿™ä¸ªæˆ‘ä¸æ˜¯å¤ªæ‡‚ï¼Œä¹Ÿä¸éœ€è¦æ‡‚ï¼Œç¨‹åºè·‘çš„åŠ¨ï¼Œè·‘å¾—å¿«ï¼Œè·‘çš„ç¨³å°±è¡Œã€‚</p><p>å®é™…ä¸Šæ¯ç§è¯­è¨€ç±»å‹é‡Œä½ å­¦ä¸€ç§å°±è¡Œäº†ï¼Œå› ä¸ºåŒç±»å‹çš„è¯­è¨€å·®ä¸å¤šï¼Œç¼–ç¨‹è¯­è¨€æœ¬è´¨å°±ä¸‰ä¸ªä¸œè¥¿ï¼Œå˜é‡ï¼Œå¾ªç¯å’Œæ¡ä»¶æ§åˆ¶ã€‚æˆ‘ç»å¸¸è°ƒä¾ƒäººï¼Œä¸€ä¸ªç¼–ç¨‹è¯­è¨€æˆ‘ä¼šå®šä¹‰å˜é‡ï¼Œä¼šif,ä¼šfor,å°±å·²ç»æŒæ¡æ ¸å¿ƒæŠ€å·§äº†ï¼Œè‡³äºæ–¹æ³•å’Œå‡½æ•°ï¼Œè¿™ä¸¤ä¸ªå®é™…ä¸Šæ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œè¿™ä¸ªåº”è¯¥å¾ˆç®€å•ï¼Œä¸ç®¡å†™æ³•æ€ä¹ˆå˜ï¼Œæ ¸å¿ƒåœ¨é‚£ï¼Œç®¡ä½ æ€ä¹ˆå˜ã€‚å‚æ•°å€¼ï¼Œè¿”å›å€¼ï¼Œè®¿é—®åŸŸæ§åˆ¶ï¼Œè¿™äº›ä¸œè¥¿ä¸ä¼šå˜å§ã€‚</p><p>AOPï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œè¿™ä¸ªç¼–ç¨‹æ€æƒ³ä¸Šçš„ä¸ä¸€æ ·äº†ï¼Œä¸€èˆ¬éƒ½ç”¨æ¥å¼¥è¡¥é¢å‘å¯¹è±¡ä¸Šçš„ä¸€äº›ä¸è¶³ä¹‹å¤„ï¼Œåœ¨ä¸æ”¹å˜æºç çš„æƒ…å†µä¸‹ï¼Œåšä¸€äº›å¢å¼ºæ“ä½œã€‚å¦‚æœä¸è€ƒè™‘å¤šäººå¼€å‘ï¼Œè¿™ä¸ªç©æ³•å°±å¤šäº†å»äº†ï¼Œä½ ç”šè‡³å¯ä»¥æ ¹æ®æ–¹æ³•åæˆ–å‡½æ•°åæ¥è¿›è¡Œå¢å¼ºæ“ä½œã€‚è€ƒè™‘å¤šäººå¼€å‘ï¼Œé‚£å°±è€è€å®å®çš„åŠ æ³¨è§£å§ã€‚</p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gvdvmcqdh6j631a1uonpd02.jpg" alt="å¥³å­,å¤œæ™¯"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
      <tag>æŠ€æœ¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æƒ³åˆ°ä»€ä¹ˆå°±è¯´äº›ä»€ä¹ˆ</title>
    <link href="/2021/10/10/other-03/"/>
    <url>/2021/10/10/other-03/</url>
    
    <content type="html"><![CDATA[<p>å£°éŸ³ï¼Œæ°”å‘³ï¼Œè§¦è§‰ï¼Œå®ƒä»¬æ˜¯å¯ä»¥æ‰¿è½½è®°å¿†çš„ï¼Œä¸€äº›æ­Œï¼Œä¸€äº›é¦™æ°´çš„å‘³é“ï¼Œä¸€ä¸ªä¸ç»æ„çš„åŠ¨ä½œã€‚è‹¦éš¾ä¼šæ”¾å¤§äººçš„æ„Ÿå®˜ã€‚ç±»ä¼¼äºå¿ƒç†å­¦ä¸­çš„åŠæ¡¥æ•ˆåº”ï¼Œä½†è¿œè¿œæ¯”åŠæ¡¥æ•ˆåº”æ¥çš„æ›´çœŸå®ï¼Œç ”ç©¶å¿ƒç†å­¦çš„äººå¤§å¤šåæ‰§ä¸”å‚²æ…¢ï¼Œæˆ‘ä¸å–œæ¬¢çœ‹è¿™ç©æ„ï¼Œè¿™ä¸œè¥¿å­¦å¤šäº†ï¼Œå°±æ²¡äººå‘³äº†ï¼ŒåŒé”€å† ï¼Œè¢«è¶Šæ¥è¶Šå¤šäººç†è§£çš„åè§ï¼Œå°±ä¸æ˜¯åè§äº†ï¼Œæ¯”å¦‚å¤§å®¶ä¸€æåˆ°æ¸©å·äººï¼Œç¬¬ä¸€ååº”å¤§å¤šéƒ½æ˜¯ï¼Œé ï¼Œæœ‰é’±äººã€‚</p><p>æˆ‘ä¸Šåˆä¸­çš„æ—¶å€™å°±ä½æ ¡äº†ï¼Œæˆ‘æ˜¯ä¸€ä¸ªå†œæ‘å¨ƒå¨ƒï¼Œå½“æ—¶åˆšä¸Šåˆä¸­ï¼Œç­ä¸Šçš„å¥³åŒå­¦å¥¹ä»¬éƒ½å¥½å‰å®³çš„ï¼Œæˆ‘ç©ä¸è¿‡å¥¹ä»¬ï¼Œæˆ‘çš„æ€§æ ¼ä¸æ˜¯å¾ˆå¥½ï¼Œå¯ä»¥è¯´æœ‰ç‚¹è‡­äº†ï¼Œæ²¡äººå¯ä»¥è¯´æ•™æˆ‘ï¼Œä¸å–œæ¬¢å¥³è€å¸ˆï¼Œé™¤éæ˜¯æˆ‘è‡ªå·±æƒ³åšï¼Œå¦åˆ™æˆ‘åªä¼šå’Œä½ å¯¹ç€å¹²ã€‚ä»¥ç°åœ¨çš„æˆ‘å¾€å›çœ‹é‚£æ—¶çš„æˆ‘ï¼Œå¤šé…·å•Šï¼Œç®€ç›´é…·åˆ°æ²¡æœ‹å‹ã€‚å“ˆå“ˆå“ˆï¼Œç”·äººè‡³æ­»æ˜¯å°‘å¹´ã€‚</p><p>æˆ‘å¬åˆ°ä¸€äº›ä¸Šé¢è¯´çš„è‹¦éš¾æ—¶æœŸå¬çš„æ­Œï¼Œè„‘æµ·ä¸­ä¼šæ§åˆ¶ä¸ä½æµ®ç°å½“æ—¶çš„ç”»é¢ï¼ŒåˆäºŒä¸Šå­¦æœŸï¼Œå¯’å†¬ï¼Œæ‰‹é‡Œé’±åˆä¸å¤šï¼Œåœ¨æ ¡å›­é‡Œé£˜è¡ï¼Œæ™šè‡ªä¹ æ•™å®¤ä¹Ÿæ²¡ç©ºè°ƒï¼Œæˆ‘è®°å¾—æœ€æ¸…æ¥šçš„å°±æ˜¯æˆ‘ä»¬æ•™å­¦æ¥¼å’Œå®¿èˆä¹‹é—´æœ‰ä¸ªå··å­ï¼Œé‚£é‡Œé¢çš„é£ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Œå°±æ˜¯æ¯æ¬¡è·¯è¿‡éƒ½ä¼šè¯´ä¸€å¥ï¼Œè‰¹ï¼Œå¥½å†·ï¼å®¿èˆé‡Œé¢ä¹Ÿæ²¡æœ‰çƒ­æ°´ï¼Œåªèƒ½é ä¸€ä¸ªæš–æ°´ç“¶åˆ°é£Ÿå ‚é‡Œé¢æ‰“ç‚¹çƒ­æ°´ï¼Œäº”æ¯›é’±ä¸€ç“¶ï¼Œå¯¹å½“æ—¶çš„æˆ‘æ¥è¯´ï¼Œå¥½è´µï¼ï¼æœ‰æ—¶æ°´æ”¾æ—¶é—´é•¿äº†ï¼Œä¸çƒ­äº†ï¼Œæ³¡é¢æ³¡ä¸å¼€ï¼Œå°±å¤šæ³¡å‡ éï¼Œå°±æ˜¯æ³¡ä¸€éæŠŠæ°´å€’æ‰ï¼Œç„¶åç»§ç»­æ³¡ã€‚å“ˆå“ˆå½“æ—¶ç»å…¸ç‚¹çš„å¨±ä¹æ´»åŠ¨å°±æ˜¯åœ¨å¤–é¢ä¹°ç‚¹ç†Ÿé£Ÿï¼Œå›åˆ°å®¿èˆï¼Œåœ¨é˜³å°æŠŠæ¡Œå­ä¸€æ‘†ï¼Œå–ç‚¹å•¤é…’ï¼Œæ‰“æ‰“çº¸ç‰Œï¼Œä¸‹ä¸‹è±¡æ£‹ï¼Œè¿™äº›æ´»åŠ¨ä¸€èˆ¬éƒ½æ˜¯æ”¾å‡çš„å‰ä¸€æ™šã€‚å›æƒ³èµ·æ¥ï¼Œåˆ°ä¹Ÿä¸°å¯Œäº†å›å¿†ã€‚</p><p>å¤§å®¶å¯¹èŠ±éœ²æ°´çš„å‘³é“åº”è¯¥å¾ˆç†Ÿæ‚‰ï¼Œä»¥å‰æœ‰ä¸ªäººè§‰å¾—èŠ±éœ²æ°´çš„å‘³é“å¾ˆå¥½é—»ï¼Œæˆ‘å½“æ—¶è¡¨æƒ…è®°ä¸æ¸…äº†ï¼Œå®è—å•Šï¼Œå°±æ˜¯è¿™ç§æ„Ÿè§‰å§ã€‚ä¹ƒè‡³äºæˆ‘åˆ°ç°åœ¨é—»åˆ°èŠ±éœ²æ°´çš„æ°”å‘³ï¼Œä¾¿èƒ½æƒ³åˆ°å¥¹ååœ¨è¢«çªé‡Œçš„ç”»é¢ï¼Œæˆ‘é—®å¥¹å±‹å­é‡Œä»€ä¹ˆå‘³ï¼Œå¥¹çœ¼ç›é‡Œå¥½åƒæœ‰å°æ˜Ÿæ˜Ÿä¸€æ ·é—ªé—ªå‘å…‰çœ‹ç€æˆ‘è¯´ï¼Œè¿™æ˜¯èŠ±éœ²æ°´çš„æ°”å‘³å•Šï¼Œä½ ä¸è§‰å¾—å¾ˆå¥½é—»å˜›ã€‚æˆ‘ç‚¹ç‚¹å¤´ã€‚</p><p>æˆ‘ä¸è€å¯’ï¼Œç®€å•æ¥è¯´å°±æ˜¯æ€•å†·ï¼Œå»å¹´çš„è¿™ä¸ªæ—¶å€™ï¼Œå½“æ—¶çš„é‚£ä»½å·¥ä½œæ¯å¤©ä¸Šç­ä¸‹ç­æˆ‘éœ€è¦èµ°åå‡ åˆ†é’Ÿçš„è·¯æ‰èƒ½åˆ°å®¶ï¼Œè·¯ä¸Šæˆ‘ä¹ æƒ¯å¬å¬æ­Œï¼Œæ‰“å¼€ç½‘æŠ‘äº‘ï¼Œã€Šä¿®ç‚¼çˆ±æƒ…ã€‹ï¼Œã€Šæ€ä¹ˆäº†ã€‹ï¼Œä»¥è‡³äºç°åœ¨æˆ‘å¬åˆ°è¿™ä¸¤é¦–æ­Œï¼Œæˆ‘å°±èƒ½æƒ³åˆ°é‚£ä¸ªæ—¶å€™ï¼Œå¯èƒ½æ˜¯å¯’å†·æ”¾å¤§äº†æˆ‘å½“æ—¶çš„æ„Ÿå®˜ï¼Œå½¢æˆäº†æ°¸ä¹…è®°å¿†å§ã€‚</p><p>å…¬äº¤ç«™å°ï¼Œçº¢ç»¿ç¯ï¼Œç”µæ¢¯ï¼Œè·¯è¾¹æ‘Šï¼Œè·¯ä¸Šçš„æµæµªç‹—ï¼Œå‡ºç§Ÿå±‹ï¼Œè¿™äº›é›¶é›¶æ•£æ•£çš„ä¸œè¥¿æ„æˆäº†æˆ‘å½“æ—¶ç”Ÿæ´»çš„å…¨éƒ¨ï¼Œç„¶åä¸€ç§ç”±å¿ƒè€Œç”Ÿçš„è½å¯æ„Ÿæ§åˆ¶ä¸ä½çš„å‘æˆ‘è¢­æ¥ï¼Œæˆ‘ç°åœ¨æƒ³åˆ°ï¼Œæˆ‘åˆ°äº†è¿™ä¸ªæ—¶å€™è¿˜æ˜¯ä¸€æ ·ã€‚</p><div class="note note-info">            <p>æˆ‘ä»¬å¬æ­Œçš„æ—¶å€™ï¼Œå…¶å®æš´éœ²çš„å¤§éƒ½ä¸è¿‡æ˜¯å°æƒ…ç»ªè€Œå·²ï¼Œæ‰€è°“å°æƒ…ç»ªï¼Œå°±æ˜¯å¹¶ä¸ä¼šå¯¹ç”Ÿæ´»é€ æˆå®è´¨æ€§å½±å“çš„ï¼Œåæ­£è½¨è¿¹ä¸ä¼šå˜ã€‚æ˜¯å§ï¼Œæ˜¯æˆ‘ä»¬æ˜¯ä»€ä¹ˆæ ·çš„äººå†³å®šäº†æˆ‘ä»¬å¬ä»€ä¹ˆæ ·çš„æ­Œï¼Œè€Œä¸æ˜¯å¬ä»€ä¹ˆæ ·çš„æ­Œå†³å®šæˆ‘ä»¬æ˜¯ä»€ä¹ˆæ ·çš„äºº^_^ï¼Œä¸è¦æ²‰æººäºå°æƒ…ç»ªä¹‹ä¸­ï¼Œä¹–å•Šã€‚</p><p>è¿™ä¸€è·¯æ—¶å…‰æ¸©æŸ”ä¹Ÿå¥½ï¼Œåå·å´å²–ä¹Ÿç½¢ï¼Œæ€»å¾—å‘å‰ã€‚</p>          </div><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gopbvuf16wj32yo1o0e84.jpg" alt="ç¨‹æ½‡"></p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é‚£æ—¶æˆ‘è¿˜ä¸æ˜ç™½</title>
    <link href="/2021/09/23/other-02/"/>
    <url>/2021/09/23/other-02/</url>
    
    <content type="html"><![CDATA[<p>ä¸­ç§‹èŠ‚ï¼Œå›¢åœ†å¤œï¼Œä¸‰å¤©å‡æœŸï¼Œæˆ‘ä¹Ÿæ˜¯å›äº†ä¸€è¶Ÿè€å®¶ï¼Œä¸Šæ¬¡å›å®¶æ˜¯ç«¯åˆèŠ‚ï¼Œå†œå†äº”æœˆåˆäº”åˆ°å…«æœˆåäº”ï¼Œä¸‰ä¸ªæœˆæ²¡æœ‰å›å®¶äº†ï¼Œä¸Šç­ï¼Œä¸‹ç­ï¼Œå‘¨æœ«ï¼Œæ²¡æœ‰æš‘å‡çš„å¤å¤©è¿‡çš„é£å¿«ã€‚</p><p>ä¸‹äº†è½¦ï¼Œåˆ°å®¶é—¨å£ï¼Œåœ¨å›å®¶çš„è·¯ä¸Šé€šè¿‡å®¶é‡Œå®‰è£…çš„ç½‘ç»œæ‘„åƒå¤´ï¼Œåœ¨æ‰‹æœºä¸Šæˆ‘ä¾¿çœ‹åˆ°äº†å®¶é‡Œå¤šäº†ä¸¤åªå°ç‹—ï¼Œæœä¸å…¶ç„¶ï¼Œåˆšè¸è¿›é™¢å­ï¼Œæ±ªæ±ªæ±ªï¼Œç‹—å­ä¾¿ä¸€é¢ ä¸€é¢ çš„è·‘å‡ºæ¥ï¼Œå¥¶å¥¶å¬è§ç‹—å«ï¼Œå—¯?ç‹—å«? ?ä¹Ÿå¾ˆè‡ªç„¶çš„å‡ºæ¥äº†ï¼Œå›å®¶çš„æ„Ÿè§‰ï¼Œåˆ«çš„æ„Ÿè§‰è¯´å‡ºä¸æ¥ï¼Œå°±æ˜¯ä¸€ç§å®‰å¿ƒçš„æ„Ÿè§‰ï¼Œå®¶é‡Œå¹³æ—¶åªæœ‰çˆ·çˆ·å¥¶å¥¶åœ¨å®¶ï¼Œäººä¸å¤šï¼Œå°‘äº†ç‚¹ç”Ÿæ°”ï¼Œå±‹å­é‡Œçš„è§’è§’è½è½ï¼Œåˆ°æ˜¯ç”Ÿäº†ä¸å°‘èœ˜è››ç½‘ï¼Œé—®é¢˜ä¸å¤§ï¼Œç”Ÿç‰©é™¤è™«ï¼Œä¸¤ä¸ªå­—ç¯ä¿ï¼Œæˆ‘åˆ°ä¹Ÿä¸å¿å¿ƒæ‰“æ‰°å®ƒä»¬çš„å®‰å®ã€‚å®¶é‡Œä¸€åªçŒ«ï¼Œä¹Ÿå…»äº†å¥½é•¿æ—¶é—´äº†ã€‚ä¼°è®¡ä¹Ÿè¿‡äº†ä¸€å¤§åŠçš„çŒ«ç”Ÿäº†ã€‚çŒ«ç”Ÿä¸æ˜“ï¼Œä¸”å–µä¸”çæƒœã€‚</p><p>å›å®¶ä¹ æƒ¯èˆ¬çš„æŠŠä¹¦åŒ…å¾€æ¥¼æ¢¯æ‰¶æ‰‹ä¸€æŒ‚ï¼Œæ–¹ä¾¿ä¸Šæ¥¼æ—¶å¸¦ç€ï¼Œä¸ç»æ„çœ‹äº†ä¸€çœ¼ä¸Šé¢çš„ç°å°˜ï¼Œæˆ‘ç¡®å®å¾ˆé•¿æ—¶é—´æ²¡å›å®¶äº†ã€‚</p><p>äººä»¬ä¹ æƒ¯è¯´ä¸‹æ¬¡å†è§ï¼Œä¸‹æ¬¡å†è§ï¼Œæ€»ä»¥ä¸ºæœªæ¥å¾ˆé•¿ï¼Œæ®Šä¸çŸ¥äººä¸äººä¹‹é—´æ˜¯è§ä¸€é¢å°‘ä¸€é¢çš„ï¼Œä½ ä¸çŸ¥é“çš„å“ªæ¬¡è§é¢ï¼Œä¹Ÿè®¸æ˜¯ä¸€ä¸ªé£å’Œæ—¥ä¸½çš„åˆåï¼Œä½ ç«™åœ¨æœˆå°ä¸Šé€ä»–ä¸Šè½¦ï¼Œç›®é€ä»–ç¦»å»ã€‚ä½ è‡ªå·±ä¹Ÿæ²¡æœ‰æƒ³åˆ°ï¼Œè‡³æ­¤ï¼Œä½ å°±å†ä¹Ÿæ²¡æœ‰è§è¿‡ä»–äº†ã€‚</p><p>å’Œå¥¶å¥¶èŠå¤©ï¼Œé‚»é‡Œé‚»å¤–ï¼Œæˆ‘å¥¶å¥¶çš„å¹´çºªèŠå¤©èŠçš„å¤šæ˜¯è¿™ä¸ªèµ°äº†ï¼Œé‚£ä¸ªèµ°äº†ï¼Œè¯´ç½¢ï¼Œå¥¶å¥¶å¾ˆè‡ªç„¶çš„æ¥ä¸€å¥ï¼Œäººæ´»è¿™ä¸€è¾ˆå­ï¼Œæ²¡æ„æ€ã€‚æˆ‘ä¹Ÿä¸æ‡‚ï¼Œå¥¶å¥¶è¯´çš„äººä¸­ï¼Œæœ‰ä¸€ä¸ªæˆ‘æœ‰å°è±¡ï¼Œå»å¹´è¿‡å¹´çš„æ—¶å€™ï¼Œè¿˜æ¥æˆ‘å®¶åšå®¢ï¼Œè§¥ç­¹äº¤é”™çš„å…‰å½±é‡Œæˆ‘è¿˜è®°å¾—ä»–çš„æ ·å­ï¼Œä¸–äº‹æ— å¸¸ï¼Œä¸çŸ¥é“ä½œä½•æ„Ÿæƒ³ï¼Œæˆ–éœ€è¦æœ‰ä½•æ„Ÿæƒ³ã€‚</p><p>ä¸–ä¿—çœ¼ä¸­ï¼Œä¸ç®¡ç”·å¥³ï¼Œä¸‰å››åå²çš„å¹´çºªæ²¡æœ‰å®¶å®¤ï¼Œæ˜¯æœ‰é—®é¢˜çš„ï¼Œæˆ‘ä¹Ÿéš¾å…è½ä¿—ã€‚ä»¥å‰çš„æˆå®¶ç«‹ä¸šçš„ä¹ ä¿—æ”¾åœ¨ç°ä»£å¥½åƒä¸åˆé€‚äº†ï¼Œåœ¨ç¤¾ä¼šæ–¹æ–¹é¢é¢çš„æ½œç§»é»˜åŒ–ä¸­ï¼Œæˆ–æ˜¯ç”µè§†å‰§ï¼Œæˆ–æ˜¯ç”µå½±ä¸­ï¼Œä½ æ²¡æœ‰ä¸šï¼Œæ˜¯ä¸é…æ‹¥æœ‰çˆ±æƒ…çš„ã€‚å›½å†…çš„ç»å¤§éƒ¨åˆ†ç”µè§†å‰§ä¸­ç”·ä¸»æˆ–å¥³ä¸»å¿…é¡»è¦æœ‰ä¸€ä¸ªæœ‰é’±çš„ï¼Œä¸ç„¶å¯¼æ¼”ä¸ä¼šæ‹ã€‚</p><p>å¯ç°å®æ˜¯ï¼Œäº‹ä¸šå°šæœªæœ‰èµ·è‰²ï¼Œå®¶ä¹¡éš¾ä»¥å‰²èˆåˆéš¾ä»¥èå…¥ï¼Œè°ˆå©šè®ºå«å·±è‡³çœ¼å‰ã€‚</p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gntu80rs7nj30xc0gxn7b.jpg" alt="ç²‰çº¢"></p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vue3åŠ TSä½¿ç”¨Classå†™æ³•</title>
    <link href="/2021/09/01/vue-01/"/>
    <url>/2021/09/01/vue-01/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>è¿™ç§å†™æ³•ææ¡ˆè²Œä¼¼è¢«å–æ¶ˆäº†ï¼ŒGitHubä¸Šä¹Ÿåœç•™åœ¨rc1ç‰ˆæœ¬äº†ï¼Œå·²ç»ä¸€å¹´å·¦å³æ²¡æœ‰æäº¤ä»£ç äº†ï¼Œç¡®å®ç”¨Classå†™Vueç¡®å®æœ‰ç‚¹å¥‡æ€ªï¼Œç°åœ¨æœ‰æ›´ä¼˜çš„é€‰æ‹©ï¼Œå¦‚<code>&lt;script setup&gt;</code>å†™æ³•,åšå®¢é‡Œé¢å¯¹Vuexï¼Œä»¥åŠVue-Routerçš„å°è£…è¿˜å¯ä»¥ç”¨ï¼ŒClassçš„å†™æ³•ä¸æå€¡ä½¿ç”¨äº†ã€‚</p>          </div><p>æ€»åœ¨ç›¼æœ›ï¼Œæ€»åœ¨å¤±æœ›ï¼Œæ—¥å­è¿˜ä¸éƒ½è¿™æ ·ã€‚ä»£ç ä¹Ÿéœ€è¦é›…ä¿—å…±èµï¼Œåšå®¢äº¦å¦‚æ­¤ã€‚</p><p>é„™äººä¸å–„å‰ç«¯ï¼Œä½†æ˜¯åˆä¼šä¸€ç‚¹ï¼Œè¿‘æ—¥åç«¯å†™çš„ä¹å‘³ï¼Œä¾¿æ‹èµ·å‰ç«¯ç«¯è¯¦ç«¯è¯¦ï¼Œä¸€æ—¥ä¸è§å¦‚éš”ä¸‰ç§‹çš„Vueï¼Œè®©æˆ‘æ„Ÿè§‰åˆ°ç”Ÿç–ï¼ŒVue3çš„è¯­æ³•å¥‡å¥‡æ€ªæ€ªï¼Œå®˜ç½‘ä¸Šçš„å†™æ³•ï¼Œæˆ‘æ˜¯å¹¶ä¸èƒ½å¾ˆç†è§£ï¼Œæˆ–è€…è¯´å°±æ˜¯ä¸æ˜“äºåç«¯ç¨‹åºå‘˜ç†è§£ï¼ŒåŠ ä¸ŠTsè¿™ä¸ªJSçš„ç±»å‹ç³»ç»Ÿè¯­è¨€ï¼Œè®©æˆ‘æ·±æ·±çš„æ„Ÿè§‰åˆ°ï¼Œçœ‰çœ¼ä¸å¦‚åˆï¼Œè®©æˆ‘æ€æ•¢ç›¸è®¤ã€‚</p><p>ä½†æ˜¯å…‰è¯´ä¸ç»ƒï¼Œæ˜¯å¾ˆéš¾ä½“ä¼šåˆ°å…¶ä¸­çš„ç„å¦™çš„ï¼Œæˆ‘ä¾¿å¼€å§‹äº†æ—¶éš”å¥½å¤šæœˆçš„Vue3é‡é€¢ä¹‹æ—…ã€‚</p><p>æ‰“å¼€VsCode,æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥vue create vue3_demoã€‚ä¸€é¡¿æ¡†é€‰ï¼Œä¸»è¦è®°å¾—è¦é€‰æ‹©Vue3ä»¥åŠTSçš„æ”¯æŒã€‚ä¹‹åï¼Œçœ‹ç€è¿›åº¦æ¡ï¼Œä¸åœåœ¨å˜åŠ¨ï¼Œå˜´è§’ç–¯ç‹‚ä¸Šæ‰¬ï¼Œé‚ªé­…ä¸€ç¬‘ï¼Œè¿˜æ˜¯å†…å‘³ã€‚</p><p>è¿›åº¦æ¡åŠ è½½å®Œæ¯•ï¼ŒVsCode,æ–‡ä»¶-&gt; å°†æ–‡ä»¶å¤¹æ·»åŠ åˆ°å·¥ä½œåŒºï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œyarn run serveï¼Œå›è½¦ï¼Œå˜´è§’ç»§ç»­ç–¯ç‹‚ä¸Šæ‰¬ï¼Œ</p><p>ç»¿è‰²çš„ç¾å¥½æç¤º<code>Compiled successfully</code>ï¼Œé¡¹ç›®æˆåŠŸå¯åŠ¨ï¼Œå¤åˆ¶url, æµè§ˆå™¨æ‰“å¼€ï¼Œå›æ¥äº†ï¼Œä»–ä»¬éƒ½å›æ¥äº†ã€‚</p><p>å¨´ç†Ÿçš„æ‰“å¼€<code>Home.vue</code>è®©æˆ‘çœ‹çœ‹,è¿™å‡ æœˆæ²¡è§ï¼Œå˜æˆä»€ä¹ˆæ ·äº†ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-typescipt" data-language="typescipt"><code class="language-typescipt">import &#123; Vue &#125; from &#39;vue-class-component&#39;export default class Home extends Vue &#123;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p>çœ‹åˆ°äº†è¿™ä¸¤è¡Œä»£ç ï¼Œè®©æˆ‘é™·å…¥äº†æ·±æ€ï¼Œå—¯ï¼Œè¿™å•¥ç©æ„ï¼Œæœ€ä½³å®è·µå˜›ï¼Œæœ¬ç€å®è·µçš„æ€åº¦ï¼Œè¯•è¯•åŸºæœ¬çš„æ–‡æ¡£ä¸­çš„æ–°è¯­æ³•ï¼Œä¸è¿‡æœ‰ä¸€è¯´ä¸€æˆ‘ç”šè‡³ä¸çŸ¥é“ï¼Œæ–°è¯­æ³•çš„ä»£ç æˆ‘ç”šè‡³ä¸çŸ¥é“å¾€å“ªé‡Œå†™ï¼Œè¿™tmä¸æ˜¯æ¬ºè´Ÿè€å®äººå˜›ã€‚ç¨‹åºå‘˜å˜›ï¼Œå–œæ¬¢å­¦ä¹ ï¼Œæœç´¢<code>vue-class-component</code>ï¼ŒåŸæ¥æ˜¯ä»¥ç±»çš„æ–¹å¼å†™ä»£ç å•Šï¼ŒOverï¼ŒJavaå…¥é—¨çš„æˆ‘å†™èµ·TSåˆ°ä¹Ÿä¸è§‰å¾—ç”Ÿç–ï¼Œè¯­æ³•è™½æœ‰åŒºåˆ«ï¼Œä½†ç†å¿µéƒ½æ˜¯ä¸€æ ·çš„ã€‚å£°æ˜å˜é‡æ—¶éœ€è¦å£°æ˜å±æ€§ï¼Œå®šä¹‰æ–¹æ³•æ—¶éœ€è¦è§„å®šå…¥å‚æ ¼å¼å’Œè¿”å›å€¼æ ¼å¼ã€‚å†µä¸”Tsæ›´å¤šçš„æ—¶å€™åªæ˜¯ä¸€ç§çº¦æŸï¼Œå¹¶ä¸æ˜¯ä¸€ç§è§„åˆ™ã€‚è¿™å¥è¯å¾ˆé‡è¦ï¼Œè¿˜è®°å¾—SpringBootçš„ä¸€ä¸ªç»å…¸ç†è®ºï¼Œçº¦æŸå¤§äºè§„åˆ™ã€‚ç¼–ç¨‹çš„å“²å­¦æ˜¯é€šç”¨çš„ã€‚</p><p>å¤§è‡´çŸ¥é“äº†æ€ä¹ˆå†™ä¹‹åï¼Œå®¹æˆ‘æ–°èµ·ä¸€è¡Œï¼Œå‘å°±å¦‚çº¦è€Œè‡³ï¼Œçˆ¶å­ç»„ä»¶ä¼ å€¼çš„æ—¶å€™ï¼Œæˆ‘ä¸çŸ¥é“propsåœ¨ä»€ä¹ˆåœ°æ–¹å†™ï¼Œè¿˜æœ‰ç›‘å¬å±æ€§ç­‰ç­‰ã€‚è¿™äº›é—®é¢˜å¾…æˆ‘ä¸€ä¸€è§£ç­”</p><h2 id="æœ€ä½³å®è·µ"><a href="#æœ€ä½³å®è·µ" class="headerlink" title="æœ€ä½³å®è·µ"></a>æœ€ä½³å®è·µ</h2><h3 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h3><p>Vue3åŠ Tså¿…é¡»ï¼ŒVueRouterå’ŒVuexï¼Œä¸€èˆ¬æ¥è¯´é¡¹ç›®ä¸­éƒ½ä¼šç”¨åˆ°ï¼Œå°±éƒ½åŠ ä¸Šã€‚</p><p>æˆ‘å»ºè®®ä¸å¯ç”¨ä»£ç è´¨é‡æ£€æŸ¥å’ŒESlintï¼ŒåŸå› ï¼ŒVue3å’Œtsèƒ½å¾ˆå¥½çš„å…¼å®¹ï¼Œåœ¨<code>vue-class-component</code>çš„åŠ æŒä¸‹ï¼Œå®é™…é¡¹ç›®ä¸­å¯èƒ½ç™¾åˆ†ä¹‹ä¹åä¹çš„ä»£ç éƒ½æ˜¯ä½¿ç”¨TSç¼–å†™ï¼ŒTså¤©ç”Ÿå°±æœ‰é™æ€æ£€æŸ¥ï¼Œå†ä½¿ç”¨EsLintï¼Œåœ¨å¼€å‘ä¸­åå€’æ˜¯æœ‰ç‚¹å¾’å¢åŠŸè€—ã€‚</p><p>åœ¨Vueçš„å¯è§†åŒ–é¡¹ç›®åˆ›å»ºå¹³å°ä¸­ï¼Œå‹¾é€‰è¿™å‡ é¡¹å°±è¡Œã€‚å¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘å¹¶æ²¡æœ‰æ‰“ç®—å†™ä¿å§†æ•™ç¨‹ã€‚<br><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gu201nkgakj30ny04xgmh.jpg" alt="åˆ›å»ºé¡¹ç›®"></p><p>è·¯ç”±æ¨¡å¼ï¼Œä¸»è¦åˆ†ä¸ºä¸¤ç§ä¸€ç§æ˜¯å¸¦<code>#</code>çš„è¿˜æœ‰ä¸€ç§å°±æ˜¯ä¸å¸¦çš„ï¼Œçœ‹ä¸ªäººå–œå¥½ï¼Œæˆ‘ä¸è®¨åŒè¿™ä¸ª<code>#</code>ã€‚é»˜è®¤å°±æ˜¯å¸¦çš„ã€‚cssé¢„å¤„ç†å™¨ç¼–è¯‘ï¼Œä¸€èˆ¬éƒ½æ˜¯é€‰ç”¨node-sassã€‚å°±é€‰è¿™ä¸ªå°±è¡Œäº†ã€‚</p><h3 id="ç¬¬ä¸‰æ–¹åº“å’ŒCSSç»„ä»¶"><a href="#ç¬¬ä¸‰æ–¹åº“å’ŒCSSç»„ä»¶" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“å’ŒCSSç»„ä»¶"></a>ç¬¬ä¸‰æ–¹åº“å’ŒCSSç»„ä»¶</h3><p>ç¬¬ä¸‰æ–¹ç»„ä»¶ï¼š<a href="https://element-plus.gitee.io/#/zh-CN">element-plus</a>è¿™ä¸ªç»„ä»¶åº“åœ¨å†™åå°ç®¡ç†ç³»ç»Ÿçš„æ—¶å€™æ¯”è¾ƒå¥½ç”¨ï¼Œæ›´å¤šçš„æ—¶å€™æ˜¯æä¾›ä¸€ä¸ªç»„ä»¶ï¼Œå¹¶ä¸èƒ½ç”¨æ¥å†™æ ·å¼ã€‚è€Œä¸”æˆ‘æ˜¯æ‰“ç®—å†™ä¸€ä¸ªå·®ä¸å¤šçš„å‰å°å†…å®¹ç³»ç»Ÿï¼Œè€ƒè™‘åˆ°æš—é»‘æ¨¡å¼çš„å…¼å®¹ï¼Œæˆ‘å¹¶ä¸èƒ½ç›´æ¥å¼€ç®±å³ç”¨é‡Œé¢çš„ç»„ä»¶ã€‚</p><p>CSSæ¡†æ¶ï¼š<a href="https://windicss.org/">Windi CSS</a>ï¼Œè¢«ç§°ä½œä¸ºä¸‹ä¸€ä»£çš„CSSæ¡†æ¶ï¼Œå¤©ç„¶æ”¯æŒæš—é»‘æ¨¡å¼ï¼Œå¼¥è¡¥ä¸Šé¢ç»„ä»¶åº“æ ·å¼çš„ä¸è¶³ï¼Œè€Œä¸”å†™èµ·æ¥å¾ˆèˆ’æœã€‚</p><p>Jqueryï¼š<a href="https://jquery.com/">JQ</a>è¿™ä¸ªä¼šå¼•èµ·ä¸€ç‚¹äº‰è®®ï¼Œä¸è¦æåˆ°Jqueryå°±æ˜¯ä»€ä¹ˆè¿‡æ—¶å•¦ï¼Œéƒ½æ˜¯ä¸Šä¸ªä¸–çºªçš„ä¸œè¥¿äº†ã€‚Jqä¸€ç›´åœ¨æ›´æ–°ï¼ŒJqé€‚é…äº†Ts, Jqçš„å…¼å®¹æ€§å¾ˆå¥½ï¼ŒJQueryå’ŒVueèƒ½ä¸€èµ·ä½¿ç”¨ã€‚è™½è¯´æ„Ÿè§‰ä¼šå¾ˆlowï¼Œä½†æ˜¯èƒ½æŠ“åˆ°è€é¼ çš„çŒ«å°±æ˜¯å¥½çŒ«ï¼Œä¸»è¦åŸå› è¿˜æ˜¯ï¼Œé„™äººä¸å–„å‰ç«¯ï¼ï¼ã€‚</p><p>ä¸ºäº†å®ç°ä¸€ä¸ªå¤šè¡Œæ–‡æœ¬è¾“å…¥é«˜åº¦è‡ªé€‚åº”ï¼Œå—¯ï¼Œå°±æ˜¯å¾ˆå°´å°¬çš„é‚£ç§ã€‚æŒºéš¾çš„ï¼ŒElementå®ç°æ–¹å¼çš„æºç æˆ‘çœ‹äº†ï¼Œæœ‰ç‚¹çœ‹ä¸æ‡‚ï¼Œç›´æ¥ç”¨Jqueryèƒ½å®ç°ï¼Œä½†æ˜¯ä¸å®Œç¾ï¼Œå°±æ˜¯ä¸ºäº†è¿½æ±‚æˆ‘è®¤ä¸ºçš„å®Œç¾ï¼ŒæŒºéš¾çš„ã€‚</p><p>Axiosï¼šç”¨æ¥é€šä¿¡ï¼Œæ€§èƒ½ä¼˜å¼‚ï¼Œå¥½å¤„å¤šå¤šã€‚</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>packegt.json</p><figure><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"ql_blog"</span><span class="token punctuation">,</span>  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"0.1.0"</span><span class="token punctuation">,</span>  <span class="token property">"private"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"serve"</span><span class="token operator">:</span> <span class="token string">"vue-cli-service serve"</span><span class="token punctuation">,</span>    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"vue-cli-service build"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"@element-plus/icons"</span><span class="token operator">:</span> <span class="token string">"^0.0.11"</span><span class="token punctuation">,</span>    <span class="token property">"@types/jquery"</span><span class="token operator">:</span> <span class="token string">"^3.5.6"</span><span class="token punctuation">,</span>    <span class="token property">"axios"</span><span class="token operator">:</span> <span class="token string">"^0.21.1"</span><span class="token punctuation">,</span>    <span class="token property">"core-js"</span><span class="token operator">:</span> <span class="token string">"^3.6.5"</span><span class="token punctuation">,</span>    <span class="token property">"element-plus"</span><span class="token operator">:</span> <span class="token string">"^1.1.0-beta.8"</span><span class="token punctuation">,</span>    <span class="token property">"jquery"</span><span class="token operator">:</span> <span class="token string">"^3.6.0"</span><span class="token punctuation">,</span>    <span class="token property">"vue"</span><span class="token operator">:</span> <span class="token string">"^3.0.0"</span><span class="token punctuation">,</span>    <span class="token property">"vue-class-component"</span><span class="token operator">:</span> <span class="token string">"^8.0.0-0"</span><span class="token punctuation">,</span>    <span class="token property">"vue-router"</span><span class="token operator">:</span> <span class="token string">"^4.0.0-0"</span><span class="token punctuation">,</span>    <span class="token property">"vuex"</span><span class="token operator">:</span> <span class="token string">"^4.0.0-0"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"@vue/cli-plugin-babel"</span><span class="token operator">:</span> <span class="token string">"~4.5.0"</span><span class="token punctuation">,</span>    <span class="token property">"@vue/cli-plugin-router"</span><span class="token operator">:</span> <span class="token string">"~4.5.0"</span><span class="token punctuation">,</span>    <span class="token property">"@vue/cli-plugin-typescript"</span><span class="token operator">:</span> <span class="token string">"~4.5.0"</span><span class="token punctuation">,</span>    <span class="token property">"@vue/cli-plugin-vuex"</span><span class="token operator">:</span> <span class="token string">"~4.5.0"</span><span class="token punctuation">,</span>    <span class="token property">"@vue/cli-service"</span><span class="token operator">:</span> <span class="token string">"~4.5.0"</span><span class="token punctuation">,</span>    <span class="token property">"@vue/compiler-sfc"</span><span class="token operator">:</span> <span class="token string">"^3.0.0"</span><span class="token punctuation">,</span>    <span class="token property">"node-sass"</span><span class="token operator">:</span> <span class="token string">"^4.12.0"</span><span class="token punctuation">,</span>    <span class="token property">"sass-loader"</span><span class="token operator">:</span> <span class="token string">"^8.0.2"</span><span class="token punctuation">,</span>    <span class="token property">"typescript"</span><span class="token operator">:</span> <span class="token string">"~4.1.5"</span><span class="token punctuation">,</span>    <span class="token property">"vue-cli-plugin-windicss"</span><span class="token operator">:</span> <span class="token string">"~1.0.4"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"browserslist"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token string">"> 1%"</span><span class="token punctuation">,</span>    <span class="token string">"last 2 versions"</span><span class="token punctuation">,</span>    <span class="token string">"not dead"</span>  <span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å¼•å…¥Jquery"><a href="#å¼•å…¥Jquery" class="headerlink" title="å¼•å…¥Jquery"></a>å¼•å…¥Jquery</h3><p>é¡¹ç›®æ ¹ç›®å½•ä¸­æœ‰çš„è¯æ·»åŠ é‡Œé¢çš„å†…å®¹å³å¯ï¼Œæ²¡æœ‰çš„è¯ç›´æ¥æ–°å»ºå³å¯ã€‚</p><p>vue.config.js</p><figure><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token comment">// è¿™é‡Œåªåˆ—ä¸€éƒ¨åˆ†ï¼Œå…·ä½“é…ç½®å‚è€ƒæ–‡æ¡£</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// å¼€å‘æœåŠ¡å™¨ä»£ç†</span>  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token string-property property">'^/api'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://localhost:8001'</span><span class="token punctuation">,</span>        <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token literal-property property">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token comment">// å¼•å…¥Jquery</span>      <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">$</span><span class="token operator">:</span> <span class="token string">'jquery'</span><span class="token punctuation">,</span>        <span class="token literal-property property">jQuery</span><span class="token operator">:</span> <span class="token string">'jquery'</span><span class="token punctuation">,</span>        <span class="token string-property property">'windows.jQuery'</span><span class="token operator">:</span> <span class="token string">'jquery'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="axiosç®€å•çš„å°è£…"><a href="#axiosç®€å•çš„å°è£…" class="headerlink" title="axiosç®€å•çš„å°è£…"></a>axiosç®€å•çš„å°è£…</h3><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> axios<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> AxiosInstance<span class="token punctuation">,</span> AxiosRequestConfig<span class="token punctuation">,</span> AxiosResponse <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span><span class="token keyword">import</span> qs <span class="token keyword">from</span> <span class="token string">'qs'</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ElMessage <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'element-plus'</span><span class="token keyword">let</span> axiosInstance<span class="token operator">:</span> AxiosInstance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  baseURL<span class="token operator">:</span> <span class="token string">'/api'</span><span class="token punctuation">,</span>  <span class="token comment">// å»¶è¿Ÿ</span>  timeout<span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// axioså®ä¾‹æ‹¦æˆªè¯·æ±‚</span>axiosInstance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span>config<span class="token operator">:</span> AxiosRequestConfig<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">removePending</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token comment">// åœ¨è¯·æ±‚å¼€å§‹å‰ï¼Œå¯¹ä¹‹å‰çš„è¯·æ±‚åšæ£€æŸ¥å–æ¶ˆæ“ä½œ</span>    <span class="token function">addPending</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token comment">// å°†å½“å‰è¯·æ±‚æ·»åŠ åˆ° pending ä¸­</span>    config<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>sa_token <span class="token operator">=</span> <span class="token string">'ken'</span>    <span class="token keyword">return</span> config<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>error<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¯·æ±‚é”™è¯¯æ‹¦æˆª'</span> <span class="token operator">+</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">// axioså®ä¾‹æ‹¦æˆªå“åº”</span>axiosInstance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span>response<span class="token operator">:</span> AxiosResponse<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">removePending</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>    <span class="token keyword">return</span> response<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// è¯·æ±‚å¤±è´¥</span>  <span class="token punctuation">(</span>error<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>axios<span class="token punctuation">.</span><span class="token function">isCancel</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'repeated request: '</span> <span class="token operator">+</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// handle error code</span>      <span class="token comment">// é”™è¯¯æŠ›åˆ°ä¸šåŠ¡ä»£ç </span>      error<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>      error<span class="token punctuation">.</span>data<span class="token punctuation">.</span>msg <span class="token operator">=</span> <span class="token string">'è¯·æ±‚è¶…æ—¶æˆ–æœåŠ¡å™¨å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–è”ç³»ç®¡ç†å‘˜ï¼'</span>      ElMessage<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>data<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å£°æ˜ä¸€ä¸ª Map ç”¨äºå­˜å‚¨æ¯ä¸ªè¯·æ±‚çš„æ ‡è¯† å’Œ å–æ¶ˆå‡½æ•°</span><span class="token keyword">const</span> pending <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">/** * æ·»åŠ è¯·æ±‚ * @param &#123;Object&#125; config  */</span><span class="token keyword">const</span> <span class="token function-variable function">addPending</span> <span class="token operator">=</span> <span class="token punctuation">(</span>config<span class="token operator">:</span> AxiosRequestConfig<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token punctuation">[</span>    config<span class="token punctuation">.</span>method<span class="token punctuation">,</span>    config<span class="token punctuation">.</span>url<span class="token punctuation">,</span>    qs<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>params<span class="token punctuation">)</span><span class="token punctuation">,</span>    qs<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>data<span class="token punctuation">)</span>  <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span>  config<span class="token punctuation">.</span>cancelToken <span class="token operator">=</span> config<span class="token punctuation">.</span>cancelToken <span class="token operator">||</span> <span class="token keyword">new</span> <span class="token class-name">axios</span><span class="token punctuation">.</span><span class="token function">CancelToken</span><span class="token punctuation">(</span>cancel <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>pending<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// å¦‚æœ pending ä¸­ä¸å­˜åœ¨å½“å‰è¯·æ±‚ï¼Œåˆ™æ·»åŠ è¿›å»</span>      pending<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> cancel<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">/** * ç§»é™¤è¯·æ±‚ * @param &#123;Object&#125; config  */</span><span class="token keyword">const</span> <span class="token function-variable function">removePending</span> <span class="token operator">=</span> <span class="token punctuation">(</span>config<span class="token operator">:</span> AxiosRequestConfig<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token punctuation">[</span>    config<span class="token punctuation">.</span>method<span class="token punctuation">,</span>    config<span class="token punctuation">.</span>url<span class="token punctuation">,</span>    qs<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>params<span class="token punctuation">)</span><span class="token punctuation">,</span>    qs<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>data<span class="token punctuation">)</span>  <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>pending<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// å¦‚æœåœ¨ pending ä¸­å­˜åœ¨å½“å‰è¯·æ±‚æ ‡è¯†ï¼Œéœ€è¦å–æ¶ˆå½“å‰è¯·æ±‚ï¼Œå¹¶ä¸”ç§»é™¤</span>    <span class="token keyword">const</span> cancel <span class="token operator">=</span> pending<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token function">cancel</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>    pending<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/** * æ¸…ç©º pending ä¸­çš„è¯·æ±‚ï¼ˆåœ¨è·¯ç”±è·³è½¬æ—¶è°ƒç”¨ï¼‰ */</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">clearPending</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>url<span class="token punctuation">,</span> cancel<span class="token punctuation">]</span> <span class="token keyword">of</span> pending<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">cancel</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  pending<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> axiosInstance<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="è·¯ç”±çš„ç®€å•é…ç½®ï¼ˆVue-routerï¼‰"><a href="#è·¯ç”±çš„ç®€å•é…ç½®ï¼ˆVue-routerï¼‰" class="headerlink" title="è·¯ç”±çš„ç®€å•é…ç½®ï¼ˆVue-routerï¼‰"></a>è·¯ç”±çš„ç®€å•é…ç½®ï¼ˆVue-routerï¼‰</h3><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createRouter<span class="token punctuation">,</span> createWebHashHistory<span class="token punctuation">,</span> RouteRecordRaw <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token keyword">const</span> routes<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>RouteRecordRaw<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>    redirect<span class="token operator">:</span> <span class="token string">'/home'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    path<span class="token operator">:</span> <span class="token string">'/home/:type'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/Home.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    alias<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'/home'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    props<span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span>    <span class="token comment">// route level code-splitting</span>    <span class="token comment">// this generates a separate chunk (about.[hash].js) for this route</span>    <span class="token comment">// which is lazy-loaded when the route is visited.</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/About.vue'</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  history<span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  routes<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">// å…¨å±€å‰ç½®æ‹¦æˆª</span>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å…¨å±€å‰ç½®æ‹¦æˆª'</span><span class="token punctuation">)</span>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>to<span class="token punctuation">)</span>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>from<span class="token punctuation">)</span>  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> router<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å…¨å±€çš„çŠ¶æ€ç®¡ç†ï¼ˆVuexï¼‰"><a href="#å…¨å±€çš„çŠ¶æ€ç®¡ç†ï¼ˆVuexï¼‰" class="headerlink" title="å…¨å±€çš„çŠ¶æ€ç®¡ç†ï¼ˆVuexï¼‰"></a>å…¨å±€çš„çŠ¶æ€ç®¡ç†ï¼ˆVuexï¼‰</h3><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createStore<span class="token punctuation">,</span> Store <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span><span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'@vue/runtime-core'</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">interface</span> <span class="token class-name">Photo</span> <span class="token punctuation">&#123;</span>    src<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// declare your own store states</span>  <span class="token keyword">interface</span> <span class="token class-name">State</span> <span class="token punctuation">&#123;</span>    dark<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>    count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>    user<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>      age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>      photoList<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>Photo<span class="token operator">></span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// provide typings for `this.$store`</span>  <span class="token keyword">interface</span> <span class="token class-name">ComponentCustomProperties</span> <span class="token punctuation">&#123;</span>    $store<span class="token operator">:</span> Store<span class="token operator">&lt;</span>State<span class="token operator">></span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  state<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    dark<span class="token operator">:</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'dackModel'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'dackModel'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    count<span class="token operator">:</span> <span class="token number">112</span><span class="token punctuation">,</span>    user<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      name<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>      age<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>      photoList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>        src<span class="token operator">:</span> <span class="token string">'test'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  getters<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  mutations<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token function">switchDarkMode</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      state<span class="token punctuation">.</span>dark <span class="token operator">=</span> <span class="token operator">!</span>state<span class="token punctuation">.</span>dark      <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>dark<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'dark'</span><span class="token punctuation">)</span>        localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'dackModel'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">'dark'</span><span class="token punctuation">)</span>        localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'dackModel'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  actions<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  modules<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="é¡¹ç›®çš„main-ts"><a href="#é¡¹ç›®çš„main-ts" class="headerlink" title="é¡¹ç›®çš„main.ts"></a>é¡¹ç›®çš„main.ts</h3><figure><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createApp <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span><span class="token keyword">import</span> ElementPlus <span class="token keyword">from</span> <span class="token string">'element-plus'</span><span class="token keyword">import</span> <span class="token string">'element-plus/dist/index.css'</span><span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span><span class="token keyword">import</span> <span class="token string">'windi.css'</span><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span><span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementPlus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gpo8t35xs5j33341r8qv5.jpg" alt="å°‘å¥³é©¬å°¾è¾« å¤œæ™š ç”µè„‘ å¬éŸ³ä¹"></p>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue</tag>
      
      <tag>typescipt</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>yarnå’Œnpmæ“ä½œæŒ‡å—</title>
    <link href="/2021/08/30/vue-04/"/>
    <url>/2021/08/30/vue-04/</url>
    
    <content type="html"><![CDATA[<p>NPMè€ç‰Œå·¥å…·ï¼ŒYarnåèµ·ä¹‹ç§€ã€‚ä½œä¸ºä¸€ä¸ªåç«¯ç¨‹åºå‘˜ï¼Œå¯ä»¥ç†è§£æˆMavenå’ŒGradleã€‚Node.jsä¸ºJSè¿™ä¸ªåŸæœ¬åªèƒ½åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„è¯­è¨€ï¼Œæä¾›äº†ä¸€ä¸ªè¿è¡Œç¯å¢ƒï¼Œä½ å¯ä»¥ç†è§£æˆJavaçš„JDKï¼Œä½¿åŸæœ¬è¢«æµè§ˆå™¨é™åˆ¶çš„JSæ”¾é£è‡ªæˆ‘äº†ã€‚</p><p>NPMå’ŒYarnéƒ½æ˜¯é¡¹ç›®ç®¡ç†å·¥å…·ã€‚æ ¸å¿ƒæ˜¯ç®¡ç†ä¾èµ–çš„åŠŸèƒ½ï¼Œä¸ºé¡¹ç›®çš„è¿è¡Œæä¾›ä¸€äº›æ”¯æŒã€‚</p><h2 id="æŸ¥çœ‹npmï¼Œyarnå…¨å±€å®‰è£…çš„åŒ…"><a href="#æŸ¥çœ‹npmï¼Œyarnå…¨å±€å®‰è£…çš„åŒ…" class="headerlink" title="æŸ¥çœ‹npmï¼Œyarnå…¨å±€å®‰è£…çš„åŒ…"></a>æŸ¥çœ‹npmï¼Œyarnå…¨å±€å®‰è£…çš„åŒ…</h2><p>npm</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> list <span class="token parameter variable">-g</span> <span class="token parameter variable">--depth</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>yarn</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> global list<span class="token comment"># æˆ–è€…</span><span class="token function">yarn</span> global list <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="nrmç›¸å…³å‘½ä»¤"><a href="#nrmç›¸å…³å‘½ä»¤" class="headerlink" title="nrmç›¸å…³å‘½ä»¤"></a>nrmç›¸å…³å‘½ä»¤</h2><p>nrm(npm registry manager )æ˜¯npmçš„é•œåƒæºç®¡ç†å·¥å…·ï¼Œæœ‰æ—¶å€™å›½å¤–èµ„æºå¤ªæ…¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªæ¥åˆ‡æ¢é•œåƒæºã€‚<br><strong>å®‰è£…nrm</strong></p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> nrm<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h3 id="åˆ—å‡ºå¯ç”¨æº"><a href="#åˆ—å‡ºå¯ç”¨æº" class="headerlink" title="åˆ—å‡ºå¯ç”¨æº"></a>åˆ—å‡ºå¯ç”¨æº</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nrm <span class="token function">ls</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h3 id="åˆ‡æ¢æº"><a href="#åˆ‡æ¢æº" class="headerlink" title="åˆ‡æ¢æº"></a>åˆ‡æ¢æº</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nrm use taobao<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h2 id="npm-x2F-yarnæŸ¥çœ‹å½“å‰ä½¿ç”¨æºä¸è®¾ç½®å…¶å®ƒæº"><a href="#npm-x2F-yarnæŸ¥çœ‹å½“å‰ä½¿ç”¨æºä¸è®¾ç½®å…¶å®ƒæº" class="headerlink" title="npm&#x2F;yarnæŸ¥çœ‹å½“å‰ä½¿ç”¨æºä¸è®¾ç½®å…¶å®ƒæº"></a>npm&#x2F;yarnæŸ¥çœ‹å½“å‰ä½¿ç”¨æºä¸è®¾ç½®å…¶å®ƒæº</h2><h3 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŸ¥çœ‹npmå½“å‰é•œåƒæº</span><span class="token function">npm</span> config get registry  <span class="token comment"># è®¾ç½®npmå½“å‰é•œåƒæº</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmjs.org<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="yarn"><a href="#yarn" class="headerlink" title="yarn"></a>yarn</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŸ¥çœ‹yarnå½“å‰é•œåƒæº</span><span class="token function">yarn</span> config get registry<span class="token comment"># è®¾ç½®yarnå½“å‰é•œåƒæº</span><span class="token function">yarn</span> config <span class="token builtin class-name">set</span> registry https://registry.yarnpkg.com <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¸¸ç”¨æ“ä½œ"><a href="#å¸¸ç”¨æ“ä½œ" class="headerlink" title="å¸¸ç”¨æ“ä½œ"></a>å¸¸ç”¨æ“ä½œ</h2><p>è¿™ä¸ªæˆ‘æ˜¯çœŸçš„ä¸æ˜¯å¾ˆæƒ³å†™ï¼Œå› ä¸ºè¿™ä¸œè¥¿å®˜ç½‘ä¸Šå¾ˆè¯¦ç»†ï¼Œè€Œä¸”ä¸€ç‚¹è¿›å»å°±èƒ½çœ‹åˆ°ï¼Œæœ‰äº›ä¸œè¥¿ï¼Œåœ¨å®˜ç½‘ä¸Šè—å¾—æ¯”è¾ƒæ·±ï¼Œåˆæˆ–è€…è¯­è¨€ä¸åŒçš„é—®é¢˜ã€‚yarnæœ‰ä¸ªæ•·è¡çš„ä¸­æ–‡å®˜ç½‘ï¼Œnpmè¿æ•·è¡éƒ½ä¸æ•·è¡ï¼Œå¤§å®¶ä¼˜å…ˆç”¨å“ªä¸ªçŸ¥é“äº†ä¹ˆğŸ¤£ğŸ¤£ğŸ¤£</p><h3 id="yarnå¸¸ç”¨"><a href="#yarnå¸¸ç”¨" class="headerlink" title="yarnå¸¸ç”¨"></a>yarnå¸¸ç”¨</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å…¨å±€æ·»åŠ ä¾èµ–ï¼Œæ·»åŠ å…¨å±€ä¾èµ–å»ºè®®yarnå’Œnpmä¸¤è€…é€‰å…¶ä¸€ï¼Œ</span><span class="token comment"># å¦‚æœåŒæ—¶éƒ½æ·»åŠ äº†å…¨å±€ä¾èµ–ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“å“ªä¸ªä¼˜å…ˆã€‚</span><span class="token comment"># æ‰€ä»¥äºŒè€…é€‰å…¶ä¸€å³å¯</span><span class="token function">yarn</span> global <span class="token function">add</span> <span class="token operator">&lt;</span>package<span class="token punctuation">..</span>.<span class="token operator">></span><span class="token comment"># æ­£å¸¸é¡¹ç›®ä¸­çš„æ·»åŠ ä¾èµ–ï¼ˆé»˜è®¤æ·»åŠ åˆ°è¿è¡Œä¾èµ–ä¸­ï¼‰</span><span class="token function">yarn</span> <span class="token function">add</span> <span class="token operator">&lt;</span>package<span class="token punctuation">..</span>.<span class="token operator">></span><span class="token comment"># ä½¿ç”¨--devæˆ–-Då°†åœ¨æ‚¨çš„ å¼€å‘ä¾èµ–ä¸­ï¼Œå’Œè¿è¡Œä¾èµ–çš„åŒºåˆ«å°±æ˜¯æ‰“åŒ…æ—¶å¼€å‘ä¾èµ–ä¸æ‰“åŒ…è¿›å»</span><span class="token function">yarn</span> <span class="token function">add</span> <span class="token operator">&lt;</span>package<span class="token punctuation">..</span>.<span class="token operator">></span> <span class="token punctuation">[</span>--dev/-D<span class="token punctuation">]</span><span class="token comment"># åˆ é™¤ä¾èµ–ï¼ŒåŒæ—¶åˆ é™¤å¼€å‘ä¾èµ–å’Œè¿è¡Œä¾èµ–</span><span class="token function">yarn</span> remove <span class="token operator">&lt;</span>package<span class="token punctuation">..</span>.<span class="token operator">></span><span class="token comment"># å®‰è£…æœ¬åœ°node_modulesæ–‡ä»¶å¤¹ä¸­package.jsonä¸­åˆ—å‡ºçš„æ‰€æœ‰ä¾èµ–é¡¹ã€‚(è¿™ç™¾åº¦ç¿»è¯‘ç¿»è¯‘çš„å¯ä»¥å•Š)</span><span class="token function">yarn</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="npmå¸¸ç”¨"><a href="#npmå¸¸ç”¨" class="headerlink" title="npmå¸¸ç”¨"></a>npmå¸¸ç”¨</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¯¹åº” yarn install</span><span class="token function">npm</span> <span class="token function">install</span><span class="token comment"># å¯¹åº” yarn add &lt;package...></span><span class="token function">npm</span> <span class="token function">install</span> <span class="token punctuation">[</span>package<span class="token punctuation">]</span> <span class="token parameter variable">--save</span><span class="token comment"># å¯¹åº” yarn add &lt;package...> [--dev/-D]</span><span class="token function">npm</span> <span class="token function">install</span> <span class="token punctuation">[</span>package<span class="token punctuation">]</span> --save-dev<span class="token comment"># å¯¹åº” yarn global add &lt;package...></span><span class="token function">npm</span> <span class="token function">install</span> <span class="token punctuation">[</span>package<span class="token punctuation">]</span> <span class="token parameter variable">--global</span><span class="token comment"># å¯¹åº” yarn remove &lt;package...></span><span class="token function">npm</span> uninstall <span class="token punctuation">[</span>package<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ç®€å•çš„ä»‹ç»äº†ä¸€ä¸‹ï¼Œè¯¦ç»†çš„å¯ä»¥å»å®˜ç½‘ä¸Šè‡ªè¡ŒæŸ¥çœ‹ï¼Œè¿™é‡Œåªåˆ—ä¸¾äº†ä¸€äº›å¸¸ç”¨çš„ã€‚</p><h2 id="å¿«é€Ÿåˆ é™¤node-modulesæ–‡ä»¶"><a href="#å¿«é€Ÿåˆ é™¤node-modulesæ–‡ä»¶" class="headerlink" title="å¿«é€Ÿåˆ é™¤node_modulesæ–‡ä»¶"></a>å¿«é€Ÿåˆ é™¤node_modulesæ–‡ä»¶</h2><h3 id="ä½¿ç”¨rimrafæ¨¡å—çš„å‘½ä»¤"><a href="#ä½¿ç”¨rimrafæ¨¡å—çš„å‘½ä»¤" class="headerlink" title="ä½¿ç”¨rimrafæ¨¡å—çš„å‘½ä»¤"></a>ä½¿ç”¨rimrafæ¨¡å—çš„å‘½ä»¤</h3><p>å…¨å±€å®‰è£…rimrafæ¨¡å—ï¼Œç„¶åé€šè¿‡å…¶å‘½ä»¤æ¥å¿«é€Ÿåˆ é™¤node_modulesç›®å½•ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> rimraf <span class="token parameter variable">-g</span><span class="token comment"># è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ä¸­</span>rimraf node_modules<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ä½¿ç”¨å‘½ä»¤æ¥åˆ é™¤ç›®å½•"><a href="#ä½¿ç”¨å‘½ä»¤æ¥åˆ é™¤ç›®å½•" class="headerlink" title="ä½¿ç”¨å‘½ä»¤æ¥åˆ é™¤ç›®å½•"></a>ä½¿ç”¨å‘½ä»¤æ¥åˆ é™¤ç›®å½•</h3><h4 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h4><p>é¦–å…ˆåœ¨cmdçª—å£ä¸­è¿›å…¥åˆ°node_modulesæ–‡ä»¶å¤¹æ‰€åœ¨çš„è·¯å¾„ï¼Œæ¥ç€æ‰§è¡Œå‘½ä»¤ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rmdir</span> /s/q node_modules<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h4 id="linuxä¸‹"><a href="#linuxä¸‹" class="headerlink" title="linuxä¸‹"></a>linuxä¸‹</h4><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rm</span> <span class="token parameter variable">-f</span> /node_modules<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gt3p80og1jj338q1o0b2a.jpg" alt="ç¾å°‘å¥³"></p>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yarn</tag>
      
      <tag>npm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Excelå¯¼å…¥å¯¼å‡ºã€‚</title>
    <link href="/2021/08/16/java-02/"/>
    <url>/2021/08/16/java-02/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>ä»‹ç»ä¸€ä¸‹Excelçš„å¯¼å…¥å¯¼å‡ºï¼Œç”¨åˆ°çš„å¼€æºé¡¹ç›®MyExcelï¼Œè¿™æ˜¯ä¸ªååˆ†å¥½ç”¨çš„è½®å­ï¼Œå¼€å‘è€…çš„ä»£ç åŠŸåº•ååˆ†äº†å¾—ï¼Œ</p><p>è¯´èµ·è¿™ä¸ªâ€™äº†å¾—â€˜ï¼Œæœ‰æ„æ€çš„æ˜¯äº†å¾—å’Œäº†ä¸å¾—ï¼Œæ˜¯ä¸€ä¸ªæ„æ€ã€‚ä»£ç åŠŸåº•ååˆ†äº†å¾—ï¼Œä»£ç åŠŸåº•ååˆ†äº†ä¸å¾—ï¼Œè¡¨è¾¾çš„æ˜¯ä¸€ä¸ªæ„æ€ã€‚ä¸­å›½çš„æ–‡å­—ï¼Œç¡®å®æœ‰ç‚¹éš¾ä¸ºè€å¤–ã€‚</p><p>è¿™ä¸ªé¡¹ç›®çš„æ–‡æ¡£å·²ç»è¯¦ç»†åˆ°ä¸€ç§è®©äººæ„Ÿè§‰åˆ°å•°å—¦çš„åœ°æ­¥ï¼ŒåŠŸèƒ½ä¹Ÿååˆ†å¥å£®ï¼Œæ¶µç›–äº†å„ç§ä½¿ç”¨åœºæ™¯ã€‚è¯ä¸å¤šè¯´ã€‚è¿›å…¥æ­£æ–‡</p>          </div><h2 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h2><blockquote><p>ç‰ˆæœ¬å·å»ºè®®ä¸€è‡´ï¼Œé¡¹ç›®ä¸­å¦‚æœæœ‰ä¹‹å‰çš„POIçš„ä¾èµ–å¯èƒ½ä¼šå¯¼è‡´ç‰ˆæœ¬å†²çªï¼Œè§£å†³ä¾èµ–å†²çªçš„æ–¹æ³•ï¼Œè¯·è‡ªè¡Œç™¾åº¦ã€‚</p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!--excelå¯¼å…¥å¯¼å‡º--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.github.liaochong<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>myexcel<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.11.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--ä½¿ç”¨æ¨¡æ¿å¯¼å‡ºæ—¶è¿‡ç¨‹ä¸­å¦‚æœæŠ¥åŒ…å«Ognlå…³é”®å­—çš„å¼‚å¸¸ï¼Œå¯¼å…¥æ­¤ä¾èµ–--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>ognl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>ognl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.2.21<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="Excelå¯¼å…¥"><a href="#Excelå¯¼å…¥" class="headerlink" title="Excelå¯¼å…¥"></a>Excelå¯¼å…¥</h2><p>å¯¼å…¥åˆ†ä¸ºä¸€èˆ¬å¯¼å…¥ã€saxå¯¼å…¥ï¼ŒäºŒè€…çš„åŒºåˆ«åœ¨äºsaxå¯¼å…¥æ›´å…³æ³¨å†…å­˜ï¼Œå†…å­˜ä½¿ç”¨æ›´å°‘ï¼Œä¸”saxæ–¹å¼å¯¼å…¥åŠŸèƒ½å¢å¼ºï¼Œå»ºè®®ä½¿ç”¨saxæ–¹å¼å¯¼å…¥ï¼ˆå¯è¯»å–å…¬å¼å€¼ï¼‰</p><h3 id="ä¸€èˆ¬å¯¼å…¥ï¼ˆä¸æ”¯æŒcsvæ–‡ä»¶å¯¼å…¥ï¼Œæ”¯æŒå›¾ç‰‡è¯»å–ï¼‰"><a href="#ä¸€èˆ¬å¯¼å…¥ï¼ˆä¸æ”¯æŒcsvæ–‡ä»¶å¯¼å…¥ï¼Œæ”¯æŒå›¾ç‰‡è¯»å–ï¼‰" class="headerlink" title="ä¸€èˆ¬å¯¼å…¥ï¼ˆä¸æ”¯æŒcsvæ–‡ä»¶å¯¼å…¥ï¼Œæ”¯æŒå›¾ç‰‡è¯»å–ï¼‰"></a>ä¸€èˆ¬å¯¼å…¥ï¼ˆä¸æ”¯æŒcsvæ–‡ä»¶å¯¼å…¥ï¼Œæ”¯æŒå›¾ç‰‡è¯»å–ï¼‰</h3><p>ä¸€èˆ¬å¯¼å…¥åˆåˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼Œä¸¤ç§æ–¹å¼çš„åŒºåˆ«ï¼š</p><ul><li>å…¨éƒ¨è¯»å–ï¼šé€Ÿåº¦å¿«ï¼Œç›¸å¯¹ä¸€è¡Œä¸€è¡Œè¯»å–è¦å å†…å­˜ä¸€ç‚¹</li><li>ä¸€è¡Œä¸€è¡Œè¯»å–ï¼šçœå†…å­˜ï¼Œåœ¨é«˜å¹¶å‘ä¸‹ä¸æ˜“å¼•å‘OOM</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">URL</span> htmlToExcelEampleURL <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token string">"/templates/read_example.xlsx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Path</span> path <span class="token operator">=</span> <span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>htmlToExcelEampleURL<span class="token punctuation">.</span><span class="token function">toURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ–¹å¼ä¸€ï¼šå…¨éƒ¨è¯»å–åå¤„ç†</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token class-name">DefaultExcelReader</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">sheet</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 0ä»£è¡¨ç¬¬ä¸€ä¸ªï¼Œå¦‚æœä¸º0ï¼Œå¯çœç•¥è¯¥æ“ä½œï¼Œä¹Ÿå¯sheet("åç§°")è¯»å–</span>        <span class="token punctuation">.</span><span class="token function">rowFilter</span><span class="token punctuation">(</span>row <span class="token operator">-></span> row<span class="token punctuation">.</span><span class="token function">getRowNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// å¦‚æ— éœ€è¿‡æ»¤ï¼Œå¯çœç•¥è¯¥æ“ä½œï¼Œ0ä»£è¡¨ç¬¬ä¸€è¡Œ</span>        <span class="token punctuation">.</span><span class="token function">beanFilter</span><span class="token punctuation">(</span><span class="token class-name">ArtCrowd</span><span class="token operator">::</span><span class="token function">isDance</span><span class="token punctuation">)</span> <span class="token comment">// beanè¿‡æ»¤</span>        <span class="token punctuation">.</span><span class="token function">startSheet</span><span class="token punctuation">(</span>sheet<span class="token operator">-></span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sheet<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// åœ¨å¼€å§‹è¯»å–sheetå‰æ‰§è¡ŒæŒ‡å®šæ“ä½œ</span>        <span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">toFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å¯æ¥æ”¶inputStream</span><span class="token comment">// æ–¹å¼äºŒï¼šè¯»å–ä¸€è¡Œå¤„ç†ä¸€è¡Œï¼Œå¯è‡ªè¡Œå†³å®šç»ˆæ­¢æ¡ä»¶</span><span class="token comment">// readThenæœ‰ä¸¤ç§é‡å†™æ¥å£ï¼Œè¿”å›Booleanå‹æ¥å£å…è®¸åœ¨è¿”å›Falseæƒ…å†µä¸‹ç›´æ¥ç»ˆæ­¢è¯»å–</span><span class="token class-name">DefaultExcelReader</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">sheet</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 0ä»£è¡¨ç¬¬ä¸€ä¸ªï¼Œå¦‚æœä¸º0ï¼Œå¯çœç•¥è¯¥æ“ä½œï¼Œä¹Ÿå¯sheet("åç§°")è¯»å–</span>        <span class="token punctuation">.</span><span class="token function">rowFilter</span><span class="token punctuation">(</span>row <span class="token operator">-></span> row<span class="token punctuation">.</span><span class="token function">getRowNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// å¦‚æ— éœ€è¿‡æ»¤ï¼Œå¯çœç•¥è¯¥æ“ä½œï¼Œ0ä»£è¡¨ç¬¬ä¸€è¡Œ</span>        <span class="token punctuation">.</span><span class="token function">beanFilter</span><span class="token punctuation">(</span><span class="token class-name">ArtCrowd</span><span class="token operator">::</span><span class="token function">isDance</span><span class="token punctuation">)</span> <span class="token comment">// beanè¿‡æ»¤</span>        <span class="token punctuation">.</span><span class="token function">readThen</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">toFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>artCrowd <span class="token operator">-></span> <span class="token punctuation">&#123;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>artCrowd<span class="token punctuation">.</span>getName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å¯æ¥æ”¶inputStream</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ArtCrowd</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// indexä»£è¡¨åˆ—ç´¢å¼•ï¼Œä»0å¼€å§‹</span>    <span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>index <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> age<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>index <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>format<span class="token operator">=</span><span class="token string">"yyyy-MM-dd"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Date</span> birthday<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><div class="note note-info">            <p>å¯ä¸ä½¿ç”¨@ExcelColumnæ³¨è§£ï¼Œå¦‚ä¸ä½¿ç”¨ï¼Œåˆ™ä½¿ç”¨å­—æ®µé»˜è®¤é¡ºåºè¯»å–ï¼Œæ„æ€æ˜¯ã€‚excelä¸­ä»å·¦åˆ°å³ï¼Œå¯¹åº”beanä¸­ä»ä¸Šåˆ°ä¸‹ã€‚</p>          </div><h2 id="Excelé»˜è®¤å¯¼å‡º"><a href="#Excelé»˜è®¤å¯¼å‡º" class="headerlink" title="Excelé»˜è®¤å¯¼å‡º"></a>Excelé»˜è®¤å¯¼å‡º</h2><p>é»˜è®¤å¯¼å‡ºé‡‡ç”¨æ™®é€šæ–¹å¼å¯¼å‡ºList&lt; Bean &gt;ï¼Œé€‚åˆå°æ•°æ®é‡åœºæ™¯ï¼Œå¦‚æ•°æ®é‡å¾ˆå¤§-10ä¸‡+ï¼Œå»ºè®®ä½¿ç”¨DefaultStreamExcelBuilderï¼Œé¿å…å†…å­˜å ç”¨è¿‡å¤šã€‚<br><strong>å¯¼å‡ºéœ€ä½¿ç”¨åˆ°å¦‚ä¸‹æ³¨è§£</strong></p><ul><li>@ExcelModel(includeAllField,excludeParent,workbookType,sheetName,useFieldNameAsTitle,defaultValue)ï¼ˆå¯é€‰ï¼Œç”¨äºå…¨å±€è®¾å®šï¼Œ ä¸€èˆ¬æƒ…å†µä¸‹åªéœ€è¦ä½¿ç”¨sheetNameï¼‰</li><li>@IgnoreColumnï¼ˆå¯é€‰ï¼Œç”¨äºæ’å‡ºä¸éœ€è¦å¯¼å‡ºçš„å­—æ®µï¼‰</li><li>@ExcelColumn(title,order,format,groups,defaultValue,style)</li></ul><blockquote><p>é»˜è®¤å¯¼å‡ºé»˜è®¤è®¡ç®—å®½åº¦ã€æ–‘é©¬çº¿èƒŒæ™¯è‰²ï¼Œè‹¥æ— éœ€ä¸Šè¿°æ ·å¼ï¼Œè¯·è°ƒç”¨ noStyle() æ–¹æ³•</p></blockquote><p>å¯¹åº”æ³¨è§£è¯¦æƒ…è¯·è§ï¼š<a href="#%E6%B3%A8%E8%A7%A3">æ³¨è§£</a></p><p><code>é™„ä»¶å¯¼å‡ºç¤ºä¾‹ï¼š</code></p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/default/excel/example"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">defaultBuild</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">></span></span> dataList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDataList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Workbook</span> workbook <span class="token operator">=</span> <span class="token class-name">DefaultExcelBuilder</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>dataList<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">AttachmentExportUtil</span><span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span>workbook<span class="token punctuation">,</span> <span class="token string">"è‰ºæœ¯ç”Ÿä¿¡æ¯"</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><code>é™„ä»¶åŠ å¯†å¯¼å‡ºç¤ºä¾‹ï¼š</code></p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/default/excel/example"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">defaultBuild</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">></span></span> dataList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDataList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Workbook</span> workbook <span class="token operator">=</span> <span class="token class-name">DefaultExcelBuilder</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>dataList<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">AttachmentExportUtil</span><span class="token punctuation">.</span><span class="token function">encryptExport</span><span class="token punctuation">(</span>workbook<span class="token punctuation">,</span> <span class="token string">"è‰ºæœ¯ç”Ÿä¿¡æ¯"</span><span class="token punctuation">,</span> response<span class="token punctuation">,</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><code>æ–‡ä»¶å¯¼å‡ºç¤ºä¾‹ï¼š</code></p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">></span></span> dataList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDataList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Workbook</span> workbook <span class="token operator">=</span> <span class="token class-name">DefaultExcelBuilder</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>         <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>dataList<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">FileExportUtil</span><span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span>workbook<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"/User/demo.xlsx"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><code>æ–‡ä»¶åŠ å¯†å¯¼å‡ºç¤ºä¾‹ï¼š</code></p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">></span></span> dataList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDataList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Workbook</span> workbook <span class="token operator">=</span> <span class="token class-name">DefaultExcelBuilder</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>         <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>dataList<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">FileExportUtil</span><span class="token punctuation">.</span><span class="token function">encryptExport</span><span class="token punctuation">(</span>workbook<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"/User/demo.xlsx"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><code>å•çº¯æ•°æ®è·å–ï¼š</code></p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">></span></span> <span class="token function">getDataList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">></span></span> dataList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ArtCrowd</span> artCrowd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArtCrowd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         artCrowd<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"æå››"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         artCrowd<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         artCrowd<span class="token punctuation">.</span><span class="token function">setGender</span><span class="token punctuation">(</span><span class="token string">"Woman"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         artCrowd<span class="token punctuation">.</span><span class="token function">setPaintingLevel</span><span class="token punctuation">(</span><span class="token string">"ä¸€çº§è¯ä¹¦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         artCrowd<span class="token punctuation">.</span><span class="token function">setDance</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         artCrowd<span class="token punctuation">.</span><span class="token function">setAssessmentTime</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         artCrowd<span class="token punctuation">.</span><span class="token function">setHobby</span><span class="token punctuation">(</span><span class="token string">"é’“é±¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dataList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>artCrowd<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> dataList<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@ExcelModel</span><span class="token punctuation">(</span>sheetName <span class="token operator">=</span> <span class="token string">"è‰ºæœ¯ç”Ÿ"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ArtCrowd</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>order <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">"å§“å"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>order <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">"å¹´é¾„"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>order <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">"æ€§åˆ«"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> gender<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>order <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>title <span class="token operator">=</span> <span class="token string">"ç»˜ç”»ç­‰çº§"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> paintingLevel<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>order <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">"æ˜¯å¦ä¼šè·³èˆ"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> dance<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>order <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">"è€ƒæ ¸æ—¶é—´"</span><span class="token punctuation">,</span> format <span class="token operator">=</span> <span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> assessmentTime<span class="token punctuation">;</span>    <span class="token annotation punctuation">@IgnoreColumn</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> hobby<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="Excelæ¨¡æ¿æ„å»º"><a href="#Excelæ¨¡æ¿æ„å»º" class="headerlink" title="Excelæ¨¡æ¿æ„å»º"></a>Excelæ¨¡æ¿æ„å»º</h2><blockquote><p>æ‰€æœ‰Excelæ„å»ºå™¨å‡ä¸å¯å•ä¾‹åŒ–ï¼ŒåŠ¡å¿…æ³¨æ„ï¼ï¼ï¼<br>æ¨¡æ¿æ„å»ºï¼Œæ ¸å¿ƒåŸç†æ˜¯æ ¹æ®æ¨¡æ¿å¼•æ“æ¸²æŸ“å‡ºç¬¦åˆéœ€æ±‚å¸ƒå±€çš„Html Tableå…ƒç´ ï¼Œæ„å»ºå™¨è¿­ä»£tableå…ƒç´ ä¸­çš„å•å…ƒæ ¼æ¸²æŸ“å‡ºExcelå•å…ƒæ ¼ã€‚</p></blockquote><h3 id="å¯¼å‡ºæ¨¡æ¿å¼•æ“é€‰å®š"><a href="#å¯¼å‡ºæ¨¡æ¿å¼•æ“é€‰å®š" class="headerlink" title="å¯¼å‡ºæ¨¡æ¿å¼•æ“é€‰å®š"></a>å¯¼å‡ºæ¨¡æ¿å¼•æ“é€‰å®š</h3><blockquote><p>ä»¥ä¸‹æ¨¡æ¿å¼•æ“é»˜è®¤å‡æœªè¢«å¼•å…¥ï¼Œä½¿ç”¨è€…å¯æ ¹æ®è‡ªèº«éœ€è¦é€‰æ‹©åœ¨pom.xmlä¸­å£°æ˜å¼•å…¥ã€‚<br>ä»¥ä¸‹æ¨¡æ¿å¼•æ“ç‰ˆæœ¬ä¸ºæœ€ä½ç‰ˆæœ¬å·ã€‚</p></blockquote><p>ä½¿ç”¨æ—¶æ ¹æ®å®é™…éœ€è¦è‡ªè¡Œé€‰æ‹©å°±è¡Œäº†ï¼Œæˆ–è€…ä½ ä¼šå“ªä¸ªå¼•æ“å°±ç”¨å“ªä¸ªå¼•æ“å°±Okã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ibeetl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>beetl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.7.23<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.freemarker<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>freemarker<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.3.23<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.codehaus.groovy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>groovy-templates<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.4.13<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.1.6.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.velocity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>velocity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.jfinal<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>enjoy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="Workbookç”Ÿæˆ"><a href="#Workbookç”Ÿæˆ" class="headerlink" title="Workbookç”Ÿæˆ"></a>Workbookç”Ÿæˆ</h3><p>å·²å­˜åœ¨Htmlæ–‡ä»¶æ—¶ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼ï¼ŒHtmlæ–‡ä»¶ä¸å±€é™äºæ”¾åœ¨é¡¹ç›®çš„classpathï¼ˆå¦‚ï¼šresourcesï¼‰ä¸‹ï¼Œä¹Ÿæ— éœ€æ¨¡æ¿å¼•æ“</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// get html file</span><span class="token class-name">File</span> htmlFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"/Users/liaochong/Downloads/example.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// read the html file and use default excel style to create excel</span><span class="token class-name">Workbook</span> workbook <span class="token operator">=</span> <span class="token class-name">HtmlToExcelFactory</span><span class="token punctuation">.</span><span class="token function">readHtml</span><span class="token punctuation">(</span>htmlFile<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">useDefaultStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// this is a example,you can write the workbook to any valid outputstream</span><span class="token class-name">FileExportUtil</span><span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span>workbook<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"/Users/liaochong/Downloads/excel.xlsx"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ä½¿ç”¨å†…ç½®çš„Freemarkerç­‰æ¨¡æ¿å¼•æ“Excelæ„å»ºå™¨ï¼Œæ¨¡æ¿æ–‡ä»¶åº”å½“å­˜æ”¾åœ¨classpathä¸‹ï¼Œå…·ä½“è¯·å‚ç…§é¡¹ç›®ä¸­çš„example</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/*** use non-default-style excel builder* æ¨¡æ¿æ–‡ä»¶æ”¾ç½®åœ¨resourcesä¸‹** @param response response*/</span><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/freemarker/example"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>     <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> dataMap <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDataMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">ExcelBuilder</span> excelBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FreemarkerExcelBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token class-name">Workbook</span> workbook <span class="token operator">=</span> excelBuilder                   <span class="token comment">// fileTemplate(dirPath,fileName)</span>                   <span class="token punctuation">.</span><span class="token function">classpathTemplate</span><span class="token punctuation">(</span><span class="token string">"/templates/freemarkerToExcelExample.ftl"</span><span class="token punctuation">)</span>                   <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>dataMap<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token class-name">AttachmentExportUtil</span><span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span>workbook<span class="token punctuation">,</span> <span class="token string">"freemarker_excel"</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/*** use default-style excel builder* æ¨¡æ¿æ–‡ä»¶æ”¾ç½®åœ¨resourcesä¸‹** @param response response*/</span><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/freemarker/defaultStyle/example"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buildWithDefaultStyle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> dataMap <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDataMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">ExcelBuilder</span> excelBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FreemarkerExcelBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>         <span class="token class-name">Workbook</span> workbook <span class="token operator">=</span> excelBuilder                  <span class="token comment">// fileTemplate(dirPath,fileName)</span>                  <span class="token punctuation">.</span><span class="token function">classpathTemplate</span><span class="token punctuation">(</span><span class="token string">"/templates/freemarkerToExcelExample.ftl"</span><span class="token punctuation">)</span>                  <span class="token punctuation">.</span><span class="token function">useDefaultStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>dataMap<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token class-name">AttachmentExportUtil</span><span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span>workbook<span class="token punctuation">,</span> <span class="token string">"freemarker_excel"</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">getDataMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> dataMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dataMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"sheetName"</span><span class="token punctuation">,</span> <span class="token string">"freemarker_excel_example"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> titles <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    titles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Category"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    titles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Product Name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    titles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Count"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dataMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"titles"</span><span class="token punctuation">,</span> titles<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Product</span><span class="token punctuation">></span></span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Product</span> product <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            product<span class="token punctuation">.</span><span class="token function">setCategory</span><span class="token punctuation">(</span><span class="token string">"è”¬èœ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            product<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"å°ç™½èœ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            product<span class="token punctuation">.</span><span class="token function">setCount</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            product<span class="token punctuation">.</span><span class="token function">setCategory</span><span class="token punctuation">(</span><span class="token string">"ç”µå­äº§å“"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            product<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"ipad"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            product<span class="token punctuation">.</span><span class="token function">setCount</span><span class="token punctuation">(</span><span class="token number">999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        data<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    dataMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> dataMap<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ¨¡æ¿ç¤ºä¾‹"><a href="#æ¨¡æ¿ç¤ºä¾‹" class="headerlink" title="æ¨¡æ¿ç¤ºä¾‹"></a>æ¨¡æ¿ç¤ºä¾‹</h3><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>caption</span><span class="token punctuation">></span></span>$&#123;sheetName&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>caption</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> #6495ED</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span><span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>äº§å“ä»‹ç»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>#list</span> <span class="token attr-name">titles</span> <span class="token attr-name">as</span> <span class="token attr-name">title</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>$&#123;title&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>#list</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>#list</span> <span class="token attr-name">data</span> <span class="token attr-name">as</span> <span class="token attr-name">item</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>$&#123;item.category&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>$&#123;item.name&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>$&#123;item.count&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">url</span><span class="token punctuation">></span></span>ç™¾åº¦åœ°å€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>#list</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æ¨¡æ¿ä¸­çš„æ ·å¼è¯·çœ‹è¿™é‡Œ<a href="#%E6%A0%B7%E5%BC%8F%E6%94%AF%E6%8C%81">æ ·å¼æ”¯æŒ</a></p><h2 id="csvæ–‡ä»¶å¯¼å‡º"><a href="#csvæ–‡ä»¶å¯¼å‡º" class="headerlink" title="csvæ–‡ä»¶å¯¼å‡º"></a>csvæ–‡ä»¶å¯¼å‡º</h2><h3 id="ä¸€èˆ¬æ–¹å¼å¯¼å‡º"><a href="#ä¸€èˆ¬æ–¹å¼å¯¼å‡º" class="headerlink" title="ä¸€èˆ¬æ–¹å¼å¯¼å‡º"></a>ä¸€èˆ¬æ–¹å¼å¯¼å‡º</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">try</span><span class="token punctuation">(</span><span class="token class-name">Csv</span> csv <span class="token operator">=</span> <span class="token class-name">CsvBuilder</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">People</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token function">getDataList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">AttachmentExportUtil</span><span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span>csv<span class="token punctuation">.</span><span class="token function">getFilePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"test.csv"</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// csv.write(Paths.get("/User/append.csv"));</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="Mapå¯¼å‡º"><a href="#Mapå¯¼å‡º" class="headerlink" title="Mapå¯¼å‡º"></a>Mapå¯¼å‡º</h3><blockquote><p>Mapç±»å‹ä¸ºMap&lt;String,Object&gt;</p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">try</span><span class="token punctuation">(</span><span class="token class-name">Csv</span> csv <span class="token operator">=</span> <span class="token class-name">CsvBuilder</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token function">getMapList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">AttachmentExportUtil</span><span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span>csv<span class="token punctuation">.</span><span class="token function">getFilePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"test.csv"</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// csv.write(Paths.get("/User/append.csv"));</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="è¿½åŠ æ–¹å¼å¯¼å‡º"><a href="#è¿½åŠ æ–¹å¼å¯¼å‡º" class="headerlink" title="è¿½åŠ æ–¹å¼å¯¼å‡º"></a>è¿½åŠ æ–¹å¼å¯¼å‡º</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">try</span><span class="token punctuation">(</span><span class="token class-name">CsvBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CsvPeople</span><span class="token punctuation">></span></span> csvBuilder <span class="token operator">=</span> <span class="token class-name">CsvBuilder</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">People</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        csvBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token class-name">Csv</span> csv <span class="token operator">=</span> csvBuilder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">AttachmentExportUtil</span><span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span>csv<span class="token punctuation">.</span><span class="token function">getFilePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"test.csv"</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// csv.write(Paths.get("/User/append.csv"));</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="äºŒæ¬¡æ–‡ä»¶è¿½åŠ "><a href="#äºŒæ¬¡æ–‡ä»¶è¿½åŠ " class="headerlink" title="äºŒæ¬¡æ–‡ä»¶è¿½åŠ "></a>äºŒæ¬¡æ–‡ä»¶è¿½åŠ </h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">try</span><span class="token punctuation">(</span><span class="token class-name">CsvBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CsvPeople</span><span class="token punctuation">></span></span> csvBuilder <span class="token operator">=</span> <span class="token class-name">CsvBuilder</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">People</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">noTitles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        csvBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token class-name">Csv</span> csv <span class="token operator">=</span> csvBuilder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¯¥ç§æ–¹å¼ä¼šåœ¨åŸappend.csvæ–‡ä»¶ç»§ç»­è¿½åŠ æ•°æ®ï¼Œè€Œä¸æ˜¯è¦†ç›–</span>    csv<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/User/append.csv"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><code>Beanå®šä¹‰</code></p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>order <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">"å§“å"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>order <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">"å¹´é¾„"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>order <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">"æ€§åˆ«"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> gender<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><blockquote><p>ä¸excelå¯¼å‡ºæ³¨è§£ç›¸æ¯”ï¼Œæ”¯æŒå±æ€§å‡å°‘ï¼Œwidthã€styleå±æ€§å°†ä¸è¢«æ”¯æŒï¼Œæ³¨è§£è¯·ç§»æ­¥: <a href="#%E6%B3%A8%E8%A7%A3">æ³¨è§£</a></p></blockquote><h2 id="å¤šsheetå¯¼å…¥"><a href="#å¤šsheetå¯¼å…¥" class="headerlink" title="å¤šsheetå¯¼å…¥"></a>å¤šsheetå¯¼å…¥</h2><p>å¤šsheetå¯¼å…¥ï¼ŒæŒ‡çš„æ˜¯SaxExcelReaderå¤šsheetå¯¼å…¥ï¼Œä¸åŒ…å«DefaultExcelReaderã€‚</p><h3 id="æŒ‰sheetç´¢å¼•å¤šsheetå¯¼å…¥"><a href="#æŒ‰sheetç´¢å¼•å¤šsheetå¯¼å…¥" class="headerlink" title="æŒ‰sheetç´¢å¼•å¤šsheetå¯¼å…¥"></a>æŒ‰sheetç´¢å¼•å¤šsheetå¯¼å…¥</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">SaxExcelReader</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">People</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sheets</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>excelFile<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h3 id="æŒ‰sheetåç§°å¤šsheetå¯¼å…¥"><a href="#æŒ‰sheetåç§°å¤šsheetå¯¼å…¥" class="headerlink" title="æŒ‰sheetåç§°å¤šsheetå¯¼å…¥"></a>æŒ‰sheetåç§°å¤šsheetå¯¼å…¥</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">SaxExcelReader</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">People</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sheets</span><span class="token punctuation">(</span><span class="token string">"sheetåç§°1"</span><span class="token punctuation">,</span><span class="token string">"sheetåç§°2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>excelFile<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h2 id="å¤šsheetå¯¼å‡º"><a href="#å¤šsheetå¯¼å‡º" class="headerlink" title="å¤šsheetå¯¼å‡º"></a>å¤šsheetå¯¼å‡º</h2><h3 id="DefaultExcelBuilderã€DefaultStreamExcelBuilder"><a href="#DefaultExcelBuilderã€DefaultStreamExcelBuilder" class="headerlink" title="DefaultExcelBuilderã€DefaultStreamExcelBuilder"></a>DefaultExcelBuilderã€DefaultStreamExcelBuilder</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Workbook</span> workbook1<span class="token operator">=</span><span class="token class-name">DefaultExcelBuilder</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>dataList<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// of(class,workbook)</span><span class="token class-name">Workbook</span> workbook2<span class="token operator">=</span><span class="token class-name">DefaultExcelBuilder</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">,</span> workbook1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>dataList<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ¨¡æ¿å¯¼å‡º"><a href="#æ¨¡æ¿å¯¼å‡º" class="headerlink" title="æ¨¡æ¿å¯¼å‡º"></a>æ¨¡æ¿å¯¼å‡º</h3><p>æ¨¡æ¿å¯¼å‡ºæƒ…å†µä¸‹ï¼Œæ¯ä¸€ä¸ªtableå°±æ˜¯ä¸€ä¸ªsheetã€‚</p><blockquote><p>å¦‚éœ€å¤štableå¯¼å‡ºåœ¨åŒä¸€sheetä¸­ï¼Œä½¿ç”¨sheetStrategy(SheetStrategy.ONE_SHEET)</p></blockquote><h2 id="è‡ªå®šä¹‰æ ·å¼"><a href="#è‡ªå®šä¹‰æ ·å¼" class="headerlink" title="è‡ªå®šä¹‰æ ·å¼"></a>è‡ªå®šä¹‰æ ·å¼</h2><blockquote><p>æœ¬æ¨¡å—ä»…é’ˆå¯¹DefaultExcelBuilderã€DefaultStreamExcelBuilderï¼Œæ¨¡æ¿æ„å»ºå¤©ç„¶æ”¯æŒã€‚</p></blockquote><h3 id="æ ‡é¢˜ï¼ˆtitleï¼‰æ ·å¼è‡ªå®šä¹‰"><a href="#æ ‡é¢˜ï¼ˆtitleï¼‰æ ·å¼è‡ªå®šä¹‰" class="headerlink" title="æ ‡é¢˜ï¼ˆtitleï¼‰æ ·å¼è‡ªå®šä¹‰"></a>æ ‡é¢˜ï¼ˆtitleï¼‰æ ·å¼è‡ªå®šä¹‰</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"title->color:red"</span><span class="token punctuation">,</span><span class="token string">"cell->color:green"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token class-name">Integer</span> age<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><h3 id="å†…å®¹è¡Œæ ·å¼è‡ªå®šä¹‰"><a href="#å†…å®¹è¡Œæ ·å¼è‡ªå®šä¹‰" class="headerlink" title="å†…å®¹è¡Œæ ·å¼è‡ªå®šä¹‰"></a>å†…å®¹è¡Œæ ·å¼è‡ªå®šä¹‰</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"cell->color:green"</span><span class="token punctuation">)</span><span class="token class-name">Integer</span> age<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><h3 id="æ–¹æ³•è°ƒç”¨è®¾å®šæ ·å¼"><a href="#æ–¹æ³•è°ƒç”¨è®¾å®šæ ·å¼" class="headerlink" title="æ–¹æ³•è°ƒç”¨è®¾å®šæ ·å¼"></a>æ–¹æ³•è°ƒç”¨è®¾å®šæ ·å¼</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">DefaultExcelBuilder</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>                   <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">"title->color:red"</span><span class="token punctuation">,</span><span class="token string">"background-color:green;"</span><span class="token punctuation">)</span>                   <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>dataList<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p>ä½¿ç”¨ -&gt; åˆ†éš”ç¬¦ï¼š</p><ul><li>titleæ ‡æ˜è¯¥æ ·å¼é’ˆå¯¹æ ‡é¢˜ï¼›</li><li>cellæ ‡æ˜è¯¥æ ·å¼é’ˆå¯¹å†…å®¹è¡Œï¼›</li><li>oddæ ‡æ˜è¯¥æ ·å¼é’ˆå¯¹å¥‡æ•°å†…å®¹è¡Œï¼›</li><li>evenæ ‡æ˜è¯¥æ ·å¼é’ˆå¯¹å¶æ•°å†…å®¹è¡Œï¼›</li></ul><p>å…·ä½“æ ·å¼æ”¯æŒï¼Œè¯·ç§»æ­¥<a href="#%E6%A0%B7%E5%BC%8F%E6%94%AF%E6%8C%81">æ ·å¼æ”¯æŒ</a></p><h2 id="å•å…ƒæ ¼å†…æ¢è¡Œ"><a href="#å•å…ƒæ ¼å†…æ¢è¡Œ" class="headerlink" title="å•å…ƒæ ¼å†…æ¢è¡Œ"></a>å•å…ƒæ ¼å†…æ¢è¡Œ</h2><h3 id="DefaultExcelBuilder-x2F-DefaultSteamExcelBuilder"><a href="#DefaultExcelBuilder-x2F-DefaultSteamExcelBuilder" class="headerlink" title="DefaultExcelBuilder&#x2F;DefaultSteamExcelBuilder"></a>DefaultExcelBuilder&#x2F;DefaultSteamExcelBuilder</h3><p>é»˜è®¤ä¸Šè¿°æ„å»ºå™¨ä¼šè‡ªåŠ¨æ¢è¡Œï¼Œ@ExcelModel(wrapText&#x3D;true)</p><h3 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h3><p>å¦‚éœ€åœ¨æ¨¡æ¿çš„å•å…ƒæ ¼å†…æ¢è¡Œï¼Œè¯·ä½¿ç”¨<code>&lt;br/&gt;</code>æˆ–pæ ‡ç­¾ã€‚</p><h2 id="å›¾ç‰‡å¯¼å‡º"><a href="#å›¾ç‰‡å¯¼å‡º" class="headerlink" title="å›¾ç‰‡å¯¼å‡º"></a>å›¾ç‰‡å¯¼å‡º</h2><h3 id="DefaultExcelBuilderã€DefaultStreamExcelBuilderå›¾ç‰‡å¯¼å‡º"><a href="#DefaultExcelBuilderã€DefaultStreamExcelBuilderå›¾ç‰‡å¯¼å‡º" class="headerlink" title="DefaultExcelBuilderã€DefaultStreamExcelBuilderå›¾ç‰‡å¯¼å‡º"></a>DefaultExcelBuilderã€DefaultStreamExcelBuilderå›¾ç‰‡å¯¼å‡º</h3><p>å›¾ç‰‡å¯¼å‡ºå±æ€§å®šä¹‰ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>fileType <span class="token operator">=</span> <span class="token class-name">FileType</span><span class="token punctuation">.</span><span class="token constant">IMAGE</span><span class="token punctuation">)</span><span class="token class-name">File</span> image<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><p>å±æ€§ç±»å‹å¿…é¡»æ˜¯Fileï¼Œåç»­ä¼šå¢åŠ å…¶ä»–ç±»å‹æ”¯æŒã€‚</p><h3 id="æ¨¡æ¿å›¾ç‰‡å¯¼å‡º"><a href="#æ¨¡æ¿å›¾ç‰‡å¯¼å‡º" class="headerlink" title="æ¨¡æ¿å›¾ç‰‡å¯¼å‡º"></a>æ¨¡æ¿å›¾ç‰‡å¯¼å‡º</h3><p>tdå•å…ƒæ ¼å†…å«å›¾ç‰‡å³å¯</p><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å›¾ç‰‡ç»å¯¹è·¯å¾„<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å›¾ç‰‡å¯¼å…¥"><a href="#å›¾ç‰‡å¯¼å…¥" class="headerlink" title="å›¾ç‰‡å¯¼å…¥"></a>å›¾ç‰‡å¯¼å…¥</h2><p>å›¾ç‰‡å¯¼å…¥ä»…DefaultExcelReaderæ”¯æŒï¼Œå±æ€§ç±»å‹ä¸ºInputStreamï¼Œå®é™…èµ‹å€¼ç±»å‹ä¸ºByteArrayInputStreamã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">&#123;</span>   <span class="token annotation punctuation">@ExcelColumn</span><span class="token punctuation">(</span>index<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>   <span class="token class-name">InputStream</span> picture<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å•å…ƒæ ¼è®¾ç½®"><a href="#å•å…ƒæ ¼è®¾ç½®" class="headerlink" title="å•å…ƒæ ¼è®¾ç½®"></a>å•å…ƒæ ¼è®¾ç½®</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç¨‹åºä¼šè‡ªåŠ¨åˆ¤åˆ«å•å…ƒæ ¼å†…å®¹ç±»å‹ï¼Œç›®å‰è‡ªåŠ¨è¯†åˆ«ç±»å‹æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š</p><ul><li>String</li><li>Double</li><li>Boolean</li></ul><p>å¦‚æœStringçš„å†…å®¹å…¨ä¸ºæ•°å­—æ—¶ï¼Œå¯¼å‡ºæ—¶æœ‰å¯èƒ½ä¼šè¢«ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•å±•ç¤ºã€‚è§£å†³è¿™ç§æƒ…å†µå¼ºåˆ¶ä½¿ç”¨Stringçš„æ–¹å¼æ„å»ºå³å¯ã€‚</p><h3 id="è®¾ç½®ä¸ºå­—ç¬¦ä¸²ç±»å‹æ•°æ®å¯åšå¦‚ä¸‹æ“ä½œ"><a href="#è®¾ç½®ä¸ºå­—ç¬¦ä¸²ç±»å‹æ•°æ®å¯åšå¦‚ä¸‹æ“ä½œ" class="headerlink" title="è®¾ç½®ä¸ºå­—ç¬¦ä¸²ç±»å‹æ•°æ®å¯åšå¦‚ä¸‹æ“ä½œ"></a>è®¾ç½®ä¸ºå­—ç¬¦ä¸²ç±»å‹æ•°æ®å¯åšå¦‚ä¸‹æ“ä½œ</h3><p>åœ¨tdä¸Šå¢åŠ å±æ€§stringè®¾ç½®è¯¥å•å…ƒæ ¼ç±»å‹ä¸ºå­—ç¬¦ä¸²</p><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">string</span><span class="token punctuation">></span></span>19<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="è®¾ç½®ä¸ºæ•°å€¼ç±»å‹æ•°æ®å¯åšå¦‚ä¸‹æ“ä½œ"><a href="#è®¾ç½®ä¸ºæ•°å€¼ç±»å‹æ•°æ®å¯åšå¦‚ä¸‹æ“ä½œ" class="headerlink" title="è®¾ç½®ä¸ºæ•°å€¼ç±»å‹æ•°æ®å¯åšå¦‚ä¸‹æ“ä½œ"></a>è®¾ç½®ä¸ºæ•°å€¼ç±»å‹æ•°æ®å¯åšå¦‚ä¸‹æ“ä½œ</h3><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">double</span><span class="token punctuation">></span></span>19<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="è®¾ç½®ä¸ºå¸ƒå°”ç±»å‹æ•°æ®å¯åšå¦‚ä¸‹æ“ä½œ"><a href="#è®¾ç½®ä¸ºå¸ƒå°”ç±»å‹æ•°æ®å¯åšå¦‚ä¸‹æ“ä½œ" class="headerlink" title="è®¾ç½®ä¸ºå¸ƒå°”ç±»å‹æ•°æ®å¯åšå¦‚ä¸‹æ“ä½œ"></a>è®¾ç½®ä¸ºå¸ƒå°”ç±»å‹æ•°æ®å¯åšå¦‚ä¸‹æ“ä½œ</h3><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">boolean</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="æ·»åŠ æ°´å°"><a href="#æ·»åŠ æ°´å°" class="headerlink" title="æ·»åŠ æ°´å°"></a>æ·»åŠ æ°´å°</h2><blockquote><p>ä¸æ”¯æŒ.xlsæ–‡ä»¶æ·»åŠ æ°´å°ï¼Œæ”¯æŒXSSFã€SXSSFæ¨¡å¼ä¸‹æ·»åŠ æ°´å°ï¼Œå¦‚æ•°æ®é‡è¿‡å¤§ï¼Œå¯èƒ½ä¼šé€ æˆå†…å­˜æº¢å‡ºï¼Œè¯·æ³¨æ„âš ï¸</p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>github<span class="token punctuation">.</span>liaochong<span class="token punctuation">.</span>myexcel<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">WatermarkUtil</span></span><span class="token punctuation">;</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">></span></span> dataList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDataList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Workbook</span> workbook <span class="token operator">=</span> <span class="token class-name">DefaultExcelBuilder</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">ArtCrowd</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>dataList<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä½¿ç”¨æ°´å°å·¥å…·æ·»åŠ æ°´å°</span><span class="token class-name">WatermarkUtil</span><span class="token punctuation">.</span><span class="token function">addWatermark</span><span class="token punctuation">(</span>workbook<span class="token punctuation">,</span><span class="token string">"è‰ºæœ¯ç”Ÿæ°´å°"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">AttachmentExportUtil</span><span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span>workbook<span class="token punctuation">,</span> <span class="token string">"è‰ºæœ¯ç”Ÿä¿¡æ¯"</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="æ¨¡æ¿ç›¸å…³"><a href="#æ¨¡æ¿ç›¸å…³" class="headerlink" title="æ¨¡æ¿ç›¸å…³"></a>æ¨¡æ¿ç›¸å…³</h2><h3 id="åœ¨htmlä¸­è®¾ç½®excelçš„sheetåç§°"><a href="#åœ¨htmlä¸­è®¾ç½®excelçš„sheetåç§°" class="headerlink" title="åœ¨htmlä¸­è®¾ç½®excelçš„sheetåç§°"></a>åœ¨htmlä¸­è®¾ç½®excelçš„sheetåç§°</h3><blockquote><p>è®¾ç½®sheet nameï¼šåœ¨è¡¨æ ¼é‡Œæ·»åŠ <code>&lt;caption&gt;</code>sheetåç§°</caption></p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>caption</span><span class="token punctuation">></span></span>sheetåç§°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>caption</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="æ ·å¼æ”¯æŒ"><a href="#æ ·å¼æ”¯æŒ" class="headerlink" title="æ ·å¼æ”¯æŒ"></a>æ ·å¼æ”¯æŒ</h2><div class="note note-info">            <h3 id="å®½åº¦ï¼ˆwidhtï¼‰"><a href="#å®½åº¦ï¼ˆwidhtï¼‰" class="headerlink" title="å®½åº¦ï¼ˆwidhtï¼‰"></a>å®½åº¦ï¼ˆwidhtï¼‰</h3><table><thead><tr><th>CSS</th><th>Value</th><th>Example</th></tr></thead><tbody><tr><td>width</td><td>æ•°å€¼ï¼Œå¦‚15px</td><td>style&#x3D;â€width: 15pxâ€</td></tr></tbody></table>          </div><div class="note note-info">            <h3 id="é«˜åº¦ï¼ˆheightï¼‰"><a href="#é«˜åº¦ï¼ˆheightï¼‰" class="headerlink" title="é«˜åº¦ï¼ˆheightï¼‰"></a>é«˜åº¦ï¼ˆheightï¼‰</h3><table><thead><tr><th>CSS</th><th>Value</th><th>Example</th></tr></thead><tbody><tr><td>height</td><td>æ•°å€¼ï¼Œå¦‚15pxï¼Œç‰¹åˆ«æ³¨æ„âš ï¸ï¼šå¦‚æ¨¡æ¿ä½¿ç”¨ï¼Œè¯¥æ ·å¼åªèƒ½æ”¾ç½®åœ¨ tr ä¸Š</td><td>style&#x3D;â€height: 15pxâ€</td></tr></tbody></table>          </div><div class="note note-info">            <h3 id="èƒŒæ™¯è‰²ï¼ˆbackgroundï¼‰"><a href="#èƒŒæ™¯è‰²ï¼ˆbackgroundï¼‰" class="headerlink" title="èƒŒæ™¯è‰²ï¼ˆbackgroundï¼‰"></a>èƒŒæ™¯è‰²ï¼ˆbackgroundï¼‰</h3><table><thead><tr><th>CSS</th><th>Value</th><th>Example</th></tr></thead><tbody><tr><td>background-color</td><td>åå…­è¿›åˆ¶ï¼š#FFFFFFã€RGBï¼šrgb(0,255,255)ã€å¸¸ç”¨èƒŒæ™¯è‰²åç§°ï¼šgreenï¼Œæ¨èä½¿ç”¨åå…­è¿›åˆ¶</td><td>style&#x3D;â€background-color:#ABFF00â€</td></tr></tbody></table>          </div><div class="note note-info">            <h3 id="è¾¹æ¡†ï¼ˆborderï¼‰"><a href="#è¾¹æ¡†ï¼ˆborderï¼‰" class="headerlink" title="è¾¹æ¡†ï¼ˆborderï¼‰"></a>è¾¹æ¡†ï¼ˆborderï¼‰</h3><table><thead><tr><th>CSS</th><th>Value</th><th>Example</th></tr></thead><tbody><tr><td>border-style</td><td>thinã€dashedã€mediumã€dottedã€thickã€doubleã€hairã€medium_dashedã€dash_dot</td><td>style&#x3D;â€border-style:thinâ€</td></tr><tr><td>border-top-style</td><td>thinã€dashedã€mediumã€dottedã€thickã€doubleã€hairã€medium_dashedã€dash_dot</td><td>style&#x3D;â€border-top-style:thinâ€</td></tr><tr><td>border-right-style</td><td>thinã€dashedã€mediumã€dottedã€thickã€doubleã€hairã€medium_dashedã€dash_dot</td><td>style&#x3D;â€border-right-style:thinâ€</td></tr><tr><td>border-bottom-style</td><td>thinã€dashedã€mediumã€dottedã€thickã€doubleã€hairã€medium_dashedã€dash_dot</td><td>style&#x3D;â€border-bottom-style:thinâ€</td></tr><tr><td>border-left-style</td><td>thinã€dashedã€mediumã€dottedã€thickã€doubleã€hairã€medium_dashedã€dash_dot</td><td>style&#x3D;â€border-left-style:thinâ€</td></tr></tbody></table>          </div><div class="note note-info">            <h3 id="å­—ä½“ï¼ˆfontï¼‰"><a href="#å­—ä½“ï¼ˆfontï¼‰" class="headerlink" title="å­—ä½“ï¼ˆfontï¼‰"></a>å­—ä½“ï¼ˆfontï¼‰</h3><table><thead><tr><th>CSS</th><th>Value</th><th>Example</th></tr></thead><tbody><tr><td>color</td><td>green</td><td>style&#x3D;â€color:green;â€</td></tr><tr><td>font-size</td><td>æ•°å€¼ï¼š14pxï¼ˆåªä¼šæˆªå–æ•°å€¼ï¼Œéæ•°å€¼éƒ¨åˆ†ä¼šè¢«åˆ é™¤ï¼‰</td><td>style&#x3D;â€font-size:14pxâ€</td></tr><tr><td>font-family</td><td>Times New Romanï¼ˆä¸æ”¯æŒå¤‡é€‰å­—ä½“ï¼‰</td><td>style&#x3D;â€font-family:Times New Romanâ€</td></tr><tr><td>font-style</td><td>italic</td><td>style&#x3D;â€font-style:italicâ€</td></tr><tr><td>font-weight</td><td>bold</td><td>style&#x3D;â€font-weight:boldâ€</td></tr><tr><td>text-decoration</td><td>text-decoration</td><td>style&#x3D;â€text-decoration: underlineâ€</td></tr></tbody></table>          </div><div class="note note-info">            <h3 id="å¯¹é½æ–¹å¼ï¼ˆalignï¼‰"><a href="#å¯¹é½æ–¹å¼ï¼ˆalignï¼‰" class="headerlink" title="å¯¹é½æ–¹å¼ï¼ˆalignï¼‰"></a>å¯¹é½æ–¹å¼ï¼ˆalignï¼‰</h3><table><thead><tr><th>CSS</th><th>Value</th><th>Example</th></tr></thead><tbody><tr><td>text-align</td><td>general,left,center,right,fill,justify,center_selection,distributed</td><td>style&#x3D;â€text-align:centerâ€</td></tr><tr><td>vertical-align</td><td>top,center,bottom,justify,distributed</td><td>style&#x3D;â€vertical-align:centerâ€</td></tr></tbody></table>          </div><div class="note note-info">            <h3 id="éšè—ï¼ˆvisibilityï¼‰"><a href="#éšè—ï¼ˆvisibilityï¼‰" class="headerlink" title="éšè—ï¼ˆvisibilityï¼‰"></a>éšè—ï¼ˆvisibilityï¼‰</h3><table><thead><tr><th>CSS</th><th>Value</th><th>Example</th></tr></thead><tbody><tr><td>visibility</td><td>hiddenï¼šéšè—ï¼Œç›®å‰ä»…è®¾ç½®åœ¨trä¸Šç”Ÿæ•ˆ</td><td>&lt; tr style&#x3D;â€visibility: hiddenâ€ &gt;</td></tr></tbody></table>          </div><div class="note note-info">            <h3 id="è‡ªåŠ¨æ¢è¡Œï¼ˆword-breakï¼‰"><a href="#è‡ªåŠ¨æ¢è¡Œï¼ˆword-breakï¼‰" class="headerlink" title="è‡ªåŠ¨æ¢è¡Œï¼ˆword-breakï¼‰"></a>è‡ªåŠ¨æ¢è¡Œï¼ˆword-breakï¼‰</h3><table><thead><tr><th>CSS</th><th>Value</th><th>Example</th></tr></thead><tbody><tr><td>word-break</td><td>break-allï¼šè‡ªåŠ¨æ¢è¡Œ</td><td>&lt; tr style&#x3D;â€word-break: break-allâ€ &gt;ã€&lt; td style&#x3D;â€word-break: break-allâ€ &gt;</td></tr></tbody></table>          </div><h2 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h2><p>æ³¨è§£è¯´æ˜</p><ul><li>æ³¨è§£</li></ul><blockquote><p>@ExcelModel</p></blockquote><ul><li>ä½ç½®</li></ul><blockquote><p>Class</p></blockquote><ul><li><p>æ–¹æ³•</p><ul><li>includeAllFieldï¼šæ˜¯å¦å¯¼å‡ºè¯¥ç±»çš„æ‰€æœ‰å­—æ®µï¼Œé»˜è®¤ä¸ºtrue</li><li>excludeParentï¼šæ˜¯å¦æ’é™¤çˆ¶ç±»å­—æ®µï¼Œé»˜è®¤ä¸ºfalse</li><li>workbookTypeï¼šè®¾ç½®å·¥ä½œç°¿ç±»å‹ï¼Œé»˜è®¤WorkbookType.SXLSXï¼Œä¸å»ºè®®ä¿®æ”¹</li><li>sheetNameï¼šè®¾ç½®å¯¼å‡ºçš„å·¥ä½œç°¿sheetåç§°</li><li>useFieldNameAsTitleï¼šè®¾ç½®æ˜¯å¦ç›´æ¥ä½¿ç”¨å­—æ®µåç§°ä½œä¸ºå¯¼å‡ºæ ‡é¢˜ï¼Œé»˜è®¤false</li><li>defaultValueï¼šè®¾ç½®å…¨å±€å¯¼å‡ºæ—¶ï¼Œå­—æ®µä¸ºNullæ—¶çš„é»˜è®¤å€¼ï¼Œå¦‚å­—æ®µä¹ŸåŒ…å«defaultValueï¼Œåˆ™è¿›è¡Œè¦†ç›–</li><li>wrapTextï¼šæ˜¯å¦å¼€å¯è‡ªåŠ¨æ¢è¡Œï¼Œé»˜è®¤å¼€å¯</li></ul></li><li><p>dateFormatï¼šè®¾ç½®å…¨å±€LocalDateæ ¼å¼ï¼Œé»˜è®¤ä¸ºyyyy-MM-dd</p></li><li><p>dateTimeFormatï¼šè®¾ç½®å…¨å±€Date\LocalDateTimeæ ¼å¼ï¼Œé»˜è®¤ä¸ºyyyy-MM-dd HH:mm:ss</p></li><li><p>ignoreStaticFieldsï¼šæ˜¯å¦å¿½ç•¥é™æ€å­—æ®µå¯¼å‡ºï¼Œé»˜è®¤å¿½ç•¥</p></li><li><p>titleSeparatorï¼šæ ‡é¢˜åˆ†ç¦»å™¨ï¼Œç”¨äºå¤šçº§æ ‡é¢˜ï¼Œé»˜è®¤ä¸ºâ€œ-&gt;â€</p></li><li><p>|è®¾ç½®å¯¼å‡ºExcelçš„å…¬å…±å±æ€§ @ExcelColumn|Field|</p></li><li><p>titleï¼šå¯¼å‡ºæ—¶ä½¿ç”¨ï¼Œè¯¥å­—æ®µå¯¹åº”å¯¼å‡ºåˆ—æ ‡é¢˜</p></li><li><p>orderï¼šå¯¼å‡ºæ—¶ä½¿ç”¨ï¼Œè¯¥å­—æ®µå¯¹åº”çš„å¯¼å‡ºå±•ç¤ºé¡ºåºï¼Œåˆå§‹ä¸º0ï¼Œå»ºè®®æŒ‰åˆ—é¡ºåºè®¾ç½®ï¼Œå¦‚å­—æ®µé¡ºåºå°±æ˜¯åˆ—é¡ºåºï¼Œå¯ä¸è®¾ç½®</p></li><li><p>formatï¼šå¯¼å…¥å¯¼å‡ºæ—¶ä½¿ç”¨ï¼Œå½“å­—æ®µç±»å‹ä¸ºæ—¶é—´ç±»å‹ã€é‡‘é’±ç±»å‹æ—¶ç”Ÿæ•ˆï¼Œç”¨äºè®¾ç½®è¯¥æ—¶é—´ç±»å‹å­—æ®µæ ¼å¼åŒ–ï¼Œå¦‚<code>yyyy-MM-dd HH:mm:ss</code></p></li><li><p>groupsï¼šå¯¼å‡ºæ—¶ä½¿ç”¨ï¼Œå½“å‰å­—æ®µæ‰€å±åˆ†ç»„ï¼Œæ„å»ºæ—¶æ ¹æ®ä¼ å…¥çš„åˆ†ç»„é€‰æ‹©å¯¼å‡ºçš„å­—æ®µ</p></li><li><p>indexï¼šå¯¼å…¥æ—¶ä½¿ç”¨ï¼Œç”¨äºæ ‡å¿—è¯¥å­—æ®µå¯¹åº”çš„Excelåˆ—ï¼Œä»0å¼€å§‹ï¼Œä¸å…è®¸é‡å¤</p></li><li><p>defaultValueï¼šå¯¼å‡ºæ—¶ä½¿ç”¨ï¼Œè®¾ç½®å¯¼å‡ºæ—¶å­—æ®µä¸ºNullæ—¶çš„é»˜è®¤å€¼</p></li><li><p>widthï¼šå¯¼å‡ºæ—¶ä½¿ç”¨ï¼Œç”¨äºè‡ªå®šä¹‰å•å…ƒæ ¼å®½åº¦ï¼Œé…åˆAutoWidthStrategy.CUSTOM_WIDTHä½¿ç”¨</p></li><li><p>styleï¼šè‡ªå®šä¹‰æ ·å¼</p></li><li><p>è®¾ç½®å¯¼å…¥ã€å¯¼å‡ºå­—æ®µå±æ€§ @IgnoreColumn,æ’é™¤è¯¥å­—æ®µçš„å¯¼å‡º</p></li></ul><h2 id="é¡¹ç›®åœ°å€"><a href="#é¡¹ç›®åœ°å€" class="headerlink" title="é¡¹ç›®åœ°å€"></a>é¡¹ç›®åœ°å€</h2><p><a href="https://github.com/liaochong/myexcel">myexcel</a></p><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1grgj7do4e0j32yo1o04qp.jpg" alt="ä¼´æˆ‘åŒè¡Œ"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>excel</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>java8çš„streamçš„ä½¿ç”¨æ–¹æ³•</title>
    <link href="/2021/08/12/java-01/"/>
    <url>/2021/08/12/java-01/</url>
    
    <content type="html"><![CDATA[<h2 id="Streamçš„ç”±æ¥"><a href="#Streamçš„ç”±æ¥" class="headerlink" title="Streamçš„ç”±æ¥"></a>Streamçš„ç”±æ¥</h2><div class="note note-info">            <p>æˆ‘ä»¬æ­£å¸¸å¤„ç†é›†åˆé‡Œçš„æ•°æ®æ—¶ï¼Œç¬¬ä¸€æƒ³åˆ°çš„æ˜¯ä¸æ˜¯å°±æ˜¯forå¾ªç¯ï¼Œåˆ«é—®ï¼Œé—®å°±æ˜¯forå¾ªç¯å¤§æ³•ã€‚ç¡®å®ï¼Œé¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€ç»´ï¼Œè®©æˆ‘ä»¬ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„å°±æ˜¯ä¸€ä¸ªä¸€ä¸ªå¾ªç¯ç„¶åè¿›è¡Œä¸€äº›è¿‡æ»¤ï¼ŒæŸ¥æ‰¾ï¼Œåˆ†ç±»æ“ä½œã€‚åœ¨Javaæ²¡æœ‰è¿™ä¸ªæµä¹‹å‰ï¼Œå¤§å®¶ä¼™éƒ½è¿™ä¹ˆåšçš„ã€‚</p><p>ä¸ºä»€ä¹ˆJava8è¦æ¨å‡ºæµè¿™ä¸ªä¸œè¥¿å‘¢ï¼Œè‚¯å®šæ˜¯è¿™ç§æ–¹æ³•æœ‰ä¼˜è¶Šæ€§ã€‚ä¹‹å‰çš„å¾ªç¯å¤§æ³•ä»æœ€ç»ˆçš„ç»“æœæ¥çœ‹å’Œæµæ“ä½œçš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œéƒ½å¯ä»¥å®ŒæˆåŠŸèƒ½ã€‚æµçš„æ“ä½œæ¥æºäºLambdaè¡¨è¾¾å¼ï¼Œå¦‚æœæ²¡æœ‰Lambdaè¡¨è¾¾å¼ä¹Ÿä¸ä¼šæœ‰è¿™ä¸ªä¸œè¥¿ã€‚ä½¿ç”¨æµå¯ä»¥æå‡ä»£ç çš„ç®€æ´åº¦ï¼Œè¿™ä¸ªæå‡æ˜¯è´¨çš„é£è·ƒï¼Œä»¥å‰åå‡ è¡Œä»£ç ç”šè‡³æ›´å¤šï¼Œç°åœ¨å¯èƒ½åªéœ€è¦ä¸€è¡Œä»£ç å°±èƒ½å®Œæˆï¼Œè¿™æ˜¯å°±æœ‰ä¸åŒçš„æ„è§äº†ï¼Œè¯´è¿™ç§ä»£ç éš¾ä»¥ç»´æŠ¤ï¼Œæˆ‘æ„Ÿè§‰å®ŒæˆåŒæ ·çš„åŠŸèƒ½ï¼Œä»£ç è¶Šå°‘æ˜¯è¶Šå®¹æ˜“ç»´æŠ¤çš„ï¼Œä¸€ä¸ªä¸‰ç™¾è¡Œä»£ç çš„æ–¹æ³•å’Œä¸€ä¸ªä¸‰åè¡Œçš„æ–¹æ³•ï¼Œç»´æŠ¤æˆæœ¬ä¸æ˜¯ä¸€ä¸ªé‡çº§çš„ã€‚</p>          </div><h2 id="Streamæµçš„ç”¨æ³•"><a href="#Streamæµçš„ç”¨æ³•" class="headerlink" title="Streamæµçš„ç”¨æ³•"></a>Streamæµçš„ç”¨æ³•</h2><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LocalDateTimeDemoTest</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> list <span class="token operator">=</span> <span class="token function">getUserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="è¿‡æ»¤"><a href="#è¿‡æ»¤" class="headerlink" title="è¿‡æ»¤"></a>è¿‡æ»¤</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è¿‡æ»¤</span><span class="token comment">// å¹´é¾„å¤§äº10çš„</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> collect <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>user <span class="token operator">-></span> user<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// åå­—æœ€åæ˜¯2çš„</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> collect1 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>user <span class="token operator">-></span> user<span class="token punctuation">.</span><span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç»„åˆè¿‡æ»¤</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> collect2 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>user <span class="token operator">-></span> user<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>user <span class="token operator">-></span> user<span class="token punctuation">.</span><span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æŸ¥æ‰¾åä¸ºç‹0çš„ï¼Œå¦‚æœæœ‰é‡åçš„å–ç¬¬ä¸€ä¸ª,å¦‚æœä¸ºç©ºåˆ™åˆå§‹åŒ–ä¸€ä¸ª(è¿™ç§å†™æ³•ä¸»è¦æ˜¯è®©ç¨‹åºæ›´åŠ å¥å£®ï¼Œé¿å…çš„ç©ºæŒ‡é’ˆ)ã€‚</span><span class="token class-name">User</span> user1 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>user <span class="token operator">-></span> user<span class="token punctuation">.</span><span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"ç‹0"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¿™ç§ä¹Ÿæ˜¯è·å–ç¬¬ä¸€ä¸ª,è¿™ä¸ªçš„æ•ˆç‡æ¯”ä¸Šé¢çš„é«˜ï¼Œä¸€èˆ¬æŸ¥æ‰¾å”¯ä¸€æ•°æ®ï¼Œç”¨è¿™ä¸ªæ¯”è¾ƒå¿«ã€‚</span><span class="token class-name">User</span> user2 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>user <span class="token operator">-></span> user<span class="token punctuation">.</span><span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"ç‹0"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findAny</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æŒ‰å¹´é¾„ä»å°åˆ°å¤§æ’åº</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> collect7 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparing</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æŒ‰å¹´é¾„ä»å¤§åˆ°å°æ’åº</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> collect8 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparing</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reversed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="åˆ†ç»„"><a href="#åˆ†ç»„" class="headerlink" title="åˆ†ç»„"></a>åˆ†ç»„</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// åˆ†ç»„</span><span class="token comment">// ä»¥ç­çº§åˆ†ç»„, è¿”å›ä¸€ä¸ªmap,keyä¸ºéƒ¨é—¨IDï¼Œvalueä¸ºåˆ†ç»„çš„é›†åˆ</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span><span class="token punctuation">></span></span> collect3 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getGradeId</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å¤šçº§åˆ†ç»„ è¿™ä¸ªå°±æ¯”è¾ƒå¥½ç©äº†ï¼ŒMapé‡Œé¢åµŒå¥—Mapï¼Œå“ˆå“ˆå’Œä¸Šé¢ä¸€æ ·ï¼Œå…ˆä»¥ç­çº§åˆ†ç»„ï¼Œç„¶åå†æŒ‰å¹´é¾„åˆ†ç»„</span><span class="token comment">// å¤–å±‚çš„Mapçš„Keyä¸ºç­çº§IDï¼Œé‡Œé¢çš„Mapçš„Keyä¸ºå¹´é¾„ã€‚</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span><span class="token punctuation">></span><span class="token punctuation">></span></span> collect4 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getGradeId</span><span class="token punctuation">,</span> <span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// åˆ†ç»„åŠ æ±‡æ€»ï¼Œä»¥ç­çº§ä¸ºå•ä½æ€»è–ªé…¬</span><span class="token comment">// Mapçš„Key ä¸ºç­çº§IDï¼ŒValueä¸ºåˆ†è¿‡ç»„åçš„æ€»å’Œï¼Œæ³¨æ„è¿™é‡Œå–”ï¼Œ</span><span class="token comment">// ç›´æ¥ç”¨doubleæ¥è¿›è¡Œæ€»å’Œè®¡ç®—ï¼Œä¸€èˆ¬æ¥è¯´è‚¯å®šä¼šå‘ç”Ÿç²¾åº¦ä¸¢å¤±ã€‚æ‰€ä»¥è¿™ç§è¿™ç§doubleè¿ç®—ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯ä¸å¯ä»¥ç›´æ¥sumçš„</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Double</span><span class="token punctuation">></span></span> collect5 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getGradeId</span><span class="token punctuation">,</span> <span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">summingDouble</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getSalary</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="å½’æ€»"><a href="#å½’æ€»" class="headerlink" title="å½’æ€»"></a>å½’æ€»</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">    <span class="token comment">// å½’æ€»ï¼Œ</span>    <span class="token comment">// ä½•ä¸ºå½’æ€»ï¼Œå°±æ˜¯ç»“æœé›†æ˜¯ä¸€ä¸ªã€‚</span>    <span class="token comment">//æ±‚æ‰€æœ‰äººå¹´é¾„æ€»å’Œï¼ˆå¥½åƒæ²¡å•¥æ„ä¹‰ï¼Œï¼‰</span>    <span class="token keyword">int</span> sum <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// ä¹Ÿå¯ä»¥å…ˆè¿‡æ»¤ç­çº§ç¼–å·ä¸º3çš„åŒå­¦å†è¿›è¡Œå¹´é¾„æ±‚å’Œ</span>    <span class="token keyword">int</span> sum1 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>user <span class="token operator">-></span> user<span class="token punctuation">.</span><span class="token function">getGradeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ‰¾åˆ°å¹´é¾„æœ€å°çš„åŒå­¦</span>    <span class="token class-name">User</span> user <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparing</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ‰¾åˆ°å¹´é¾„æœ€å¤§çš„åŒå­¦å¹¶è¾“å‡ºæœ€å°å¹´é¾„æ˜¯å¤šå°‘ï¼ˆå¼ºè¡Œå‡‘ä»£ç ï¼Œå“ˆå“ˆï¼‰</span>    <span class="token keyword">int</span> age <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparing</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è·å–æŒ‰ç­çº§åˆ†ç»„åå¹´é¾„æ€»å’Œæœ€å°å€¼æ˜¯å¤šå°‘ï¼ˆä¹ä¸€å¬æ„Ÿè§‰å¾ˆç»•ï¼Œå®é™…æœ‰å•¥ç»•çš„,è‡ªå·±å†™äº†ä¸€ä¸‹ï¼Œç¡®å®æœ‰ç‚¹ç»•ï¼Œæ·¦ã€‚ï¼‰</span>    <span class="token comment">// å®é™…æ„ä¹‰å¾…æ–Ÿé…Œå•Šã€‚ã€‚</span>    <span class="token class-name">Integer</span> integer <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getGradeId</span><span class="token punctuation">,</span>     <span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">summingInt</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparing</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ¼”ç¤ºä¸€ä¸‹BigDecimalçš„è¿ç®—å§ï¼Œå·®ç‚¹å¿˜äº†,</span>    <span class="token comment">// å•¥ä¹Ÿä¸å¹²ç›´æ¥å°±æ˜¯ç®—é‡‘é¢æ€»å’Œ</span>    <span class="token class-name">BigDecimal</span> bigDecimal <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getMoney</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span><span class="token operator">::</span><span class="token function">add</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å…ˆè¿›è¡Œç®€å•çš„è¿‡æ»¤ï¼Œå†è¿›è¡Œè®¡ç®—</span>    <span class="token class-name">BigDecimal</span> bigDecimal1 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>user3 <span class="token operator">-></span> user3<span class="token punctuation">.</span><span class="token function">getMoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getMoney</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span><span class="token operator">::</span><span class="token function">add</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è®¡ç®—æ‰€æœ‰åŒå­¦çš„å¹´é¾„</span>    <span class="token keyword">int</span> sum2 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è®¡ç®—Doubleå‹çš„Salary,è¿™é‡Œè‚¯å®šä¼šå‘ç”Ÿç²¾åº¦ä¸¢å¤±ï¼Œå…·ä½“æ€ä¹ˆå¤„ç†ï¼Œå¤§å®¶å¯ä»¥ç™¾åº¦ä¸€ä¸‹ï¼Œæç¤ºè¦æƒ³ä¸ä¸¢ç²¾åº¦ï¼Œè‚¯å®šæ˜¯è¦ç”¨BigDecimalçš„</span>    <span class="token keyword">double</span> sum3 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapToDouble</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getSalary</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è®¡ç®—å¹´è½»å¹³å‡æ•°</span>    <span class="token class-name">Double</span> collect6 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">averagingDouble</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// çœ‹çœ‹å§“ç‹åŒå­¦æœ‰å‡ ä¸ª.</span>    <span class="token keyword">long</span> count <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>user3 <span class="token operator">-></span> user3<span class="token punctuation">.</span><span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"ç‹"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// anyMatchè¡¨ç¤ºï¼Œåˆ¤æ–­çš„æ¡ä»¶é‡Œï¼Œä»»æ„ä¸€ä¸ªå…ƒç´ æˆåŠŸï¼Œè¿”å›true</span>    <span class="token comment">// è¿™é‡Œå°±æ˜¯å¦‚æœåŒå­¦ä¸­æœ‰ä¸€ä¸ªå°äºå…­å²çš„åˆ™è¿”å›true</span>    <span class="token keyword">boolean</span> b <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">anyMatch</span><span class="token punctuation">(</span>i <span class="token operator">-></span> i<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// allMatchè¡¨ç¤ºï¼Œåˆ¤æ–­æ¡ä»¶é‡Œçš„å…ƒç´ ï¼Œæ‰€æœ‰çš„éƒ½æ˜¯ï¼Œè¿”å›true</span>    <span class="token comment">// åˆ¤æ–­åŒå­¦é‡Œé¢æ˜¯ä¸æ˜¯æ‰€æœ‰äººçš„å¹´é¾„éƒ½å°äºå…­åå²ï¼Œå¦‚æœéƒ½å°äºå…­åå²åˆ™è¿”å›true</span>    <span class="token keyword">boolean</span> b1 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">allMatch</span><span class="token punctuation">(</span>i <span class="token operator">-></span> i<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// noneMatchè·ŸallMatchç›¸åï¼Œåˆ¤æ–­æ¡ä»¶é‡Œçš„å…ƒç´ ï¼Œæ‰€æœ‰çš„éƒ½ä¸æ˜¯ï¼Œè¿”å›true</span>    <span class="token comment">// åˆ¤æ–­åŒå­¦çš„å¹´é¾„æ˜¯ä¸æ˜¯éƒ½ä¸å¤§äºå…­åå²ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå¤§äºå…­åå²  è¿”å›false</span>    <span class="token keyword">boolean</span> b2 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">noneMatch</span><span class="token punctuation">(</span>i <span class="token operator">-></span> i<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ç”¨æ¥æµ‹è¯•çš„æ•°æ®"><a href="#ç”¨æ¥æµ‹è¯•çš„æ•°æ®" class="headerlink" title="ç”¨æ¥æµ‹è¯•çš„æ•°æ®"></a>ç”¨æ¥æµ‹è¯•çš„æ•°æ®</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">    <span class="token comment">// æ¨¡æ‹Ÿæ•°æ®ç»„ï¼ŒçœŸæ˜¯æ•°æ®è¿œè¿œæ¯”è¿™å¤æ‚ï¼Œä½†æ˜¯ä½ åªéœ€è¦ç”¨å…³é”®æ•°æ®å³å¯ã€‚</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> <span class="token function">getUserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"ç‹0"</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">12.3</span><span class="token punctuation">,</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1600</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"ç‹1"</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">11.7</span><span class="token punctuation">,</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1300</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"ç‹2"</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">16.3</span><span class="token punctuation">,</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"ç‹3"</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">19.3</span><span class="token punctuation">,</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1800</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"ç‹4"</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">11.3</span><span class="token punctuation">,</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">2344</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">"ç‹5"</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">15.3</span><span class="token punctuation">,</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1120</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">"ç‹6"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">19.3</span><span class="token punctuation">,</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">9980</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token string">"ç‹7"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">111.3</span><span class="token punctuation">,</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1112</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> list<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ¨¡æ‹Ÿæ•°æ®å®ä½“ç±»"><a href="#æ¨¡æ‹Ÿæ•°æ®å®ä½“ç±»" class="headerlink" title="æ¨¡æ‹Ÿæ•°æ®å®ä½“ç±»"></a>æ¨¡æ‹Ÿæ•°æ®å®ä½“ç±»</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * ä¸»é”®Id     */</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>    <span class="token comment">/**     * ç”¨æˆ·å     */</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> userName<span class="token punctuation">;</span>    <span class="token comment">/**     * ç­çº§ID     */</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> gradeId<span class="token punctuation">;</span>    <span class="token comment">/**     * å¹´é¾„     */</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>    <span class="token comment">/**     * è–ªé…¬     */</span>    <span class="token keyword">private</span> <span class="token keyword">double</span> salary<span class="token punctuation">;</span>    <span class="token comment">/**     * å¼ºè¡Œå¢åŠ ä¸€ä¸ªé‡‘é¢ï¼Œç”¨æ¥æ¼”ç¤ºBigDecimalè¿ç®—     */</span>    <span class="token keyword">private</span> <span class="token class-name">BigDecimal</span> money<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> userName<span class="token punctuation">,</span> <span class="token keyword">int</span> gradeId<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">double</span> salary<span class="token punctuation">,</span> <span class="token class-name">BigDecimal</span> money<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>userName <span class="token operator">=</span> userName<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>gradeId <span class="token operator">=</span> gradeId<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>salary <span class="token operator">=</span> salary<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>money <span class="token operator">=</span> money<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token comment">/**  * çœç•¥get,setæ–¹æ³• */</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å°¾"><a href="#å°¾" class="headerlink" title="å°¾"></a>å°¾</h2><div class="note note-info">            <p>å…¶å®è¿™äº›æ–¹æ³•ï¼Œä¸ç”¨æ­»è®°ç¡¬èƒŒï¼Œéœ€è¦çš„æ—¶å€™æŸ¥è¯¢ä¸€ä¸‹å°±è¡Œäº†ï¼Œå½“ç”¨çš„å¤šäº†è‡ªç„¶è€Œç„¶çš„å°±è®°ä½äº†ã€‚æ­»è®°ç¡¬èƒŒï¼Œå½“æ—¶æ˜¯èƒŒä¸‹æ¥äº†ï¼Œä¸å¸¸ç”¨åˆ°çš„è¯ï¼Œä¹Ÿä¼šå¾ˆå¿«çš„é—å¿˜ã€‚</p><p>å®é™…ä¸Šåœ¨æŸ¥è¯¢æ•°æ®è¿™æ–¹é¢ï¼Œsqlæ˜¯å…¨çƒç¬¬ä¸€çš„ã€‚ä¸è¦å°çœ‹ä»»ä½•ä¸€æ¬¾æ•°æ®åº“è½¯ä»¶ã€‚æ•°æ®åº“è½¯ä»¶ï¼Œå¯ä»¥è¯´æ˜¯äººç±»æ™ºæ…§çš„ç»“æ™¶ï¼Œæ˜¯ä¸€ç¾¤æ™ºå•†é¡¶å°–çš„äººï¼Œå¹¶å°†æ•°æ®ç»“æ„å’Œç®—æ³•ç”¨åˆ°æè‡´æ‰å¼€å‘å‡ºæ¥çš„ä¸œè¥¿ã€‚ä¸€ä¸ªå‡ ç™¾å…†çš„ä½“ç§¯çš„æ•°æ®åº“è½¯ä»¶å¯ä»¥æ¯«ä¸è´¹åŠ›çš„ç®¡ç†å¤§äºè‡ªèº«å‡ ç™¾å€ä½“ç§¯çš„æ•°æ®ã€‚è¿™ç§èƒ½åŠ›æ˜¯çœŸæ­£ç¼–ç¨‹çš„ç¾ä¸½ã€‚</p><p>æˆ‘åœ¨æ•´ç†è¿™ä¸ªæµçš„æ“ä½œæ—¶ï¼Œå¦‚æœæˆ‘ä»¬æŠŠé›†åˆçœ‹æˆæ•°æ®åº“é‡Œçš„ä¸€è¡Œè¡Œæ•°æ®ï¼ŒJavaè¿™ä¸ªå¯¹é›†åˆçš„æµå›ºç„¶å¼ºå¤§ï¼Œå¯å’ŒSQLä¸€æ¯”ï¼Œä¹Ÿèƒ½ç†è§£ï¼Œæ¯•ç«Ÿé—»é“æœ‰å…ˆåï¼Œæœ¯ä¸šæœ‰ä¸“æ”»ã€‚</p>          </div><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gl42sgpf56j32yo1o0kjl.jpg" alt="å¡å°”è²å¨…"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>stream</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¸©æŸ”çš„å“²æ€</title>
    <link href="/2021/08/11/gossip-01/"/>
    <url>/2021/08/11/gossip-01/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>æ‰“ç®—ä¸¥æ ¼åŒºåˆ†å¼€æ¥ç¢ç¢å¿µå’ŒæŠ€æœ¯æ€§çš„åšå®¢ï¼Œä¸è¦æ­£å„¿å…«ç»æŠ€æœ¯åšå®¢é‡Œé¢æ··æ‚ç€å…¶ä»–å¥‡å¥‡æ€ªæ€ªçš„æ–‡å­—ï¼ŒæŠ€æœ¯ å˜›ï¼Œçº¯ç²¹ä¸€ç‚¹ï¼Œä¸æ˜¯ä»€ä¹ˆåäº‹å•¦ï¼Œç¢ç¢å¿µï¼Œä¹Ÿçº¯ç¢ä¸€ç‚¹å’¯ã€‚</p>          </div><h2 id="ä¸»"><a href="#ä¸»" class="headerlink" title="ä¸»"></a>ä¸»</h2><div class="note note-info">            <p>æ¯•ç«Ÿä¹Ÿæ²¡ä»€ä¹ˆå¥½æ¯•ç«Ÿçš„ï¼Œå¤§å­¦æœŸé—´çš„ä¸€äº›çç¢ã€‚</p><p>åˆä¸Šå¤§å­¦ï¼Œå½“æ—¶æˆ‘çš„æˆç»©å¹¶ä¸ç†æƒ³ï¼Œç”¨å¹¶ä¸ç†æƒ³æ˜¯ä¸ºäº†è‡ªå·±ç»™è‡ªå·±ç•™ä¸€ç‚¹é¢å­ã€‚æŠ¥è€ƒä¸“ä¸šçš„æ—¶å€™ï¼Œå—åˆ°ä¸çŸ¥é“å“ªä½å®¶é•¿çš„æ’ºæ‡ï¼Œä¸€è¾¹ç¨€é‡Œç³Šæ¶‚ï¼Œä¸€éæ˜æ˜ç™½ç™½çš„æŠ¥äº†åœŸæœ¨ç›¸å…³çš„ä¸“ä¸šï¼Œäº‹å®è¯æ˜æˆ‘ä¸æ„Ÿå…´è¶£åŠ äººäººéƒ½å­¦çš„çš„ä¸œè¥¿æˆ‘çœŸçš„å¾ˆéš¾å­¦å¾—è¿›å»ï¼Œäºæ˜¯æˆ‘è¯¾ä¸Šçš„ä¸å¤šï¼ŒæŒ‚ç§‘ä¹Ÿå¾ˆä¸¥é‡ï¼Œä¸è¿‡è€ƒè™‘æˆ‘æ˜¯ä¸“ç§‘ï¼Œæˆ‘æœ‰å •è½çš„èµ„æœ¬ï¼Œè¾…å¯¼å‘˜ä¹Ÿä¸è‡³äºè·Ÿä¸€ä¸ªä¸“ç§‘ç”Ÿè¿‡ä¸å»ï¼Œå¤§å­¦é‡Œé¢çœ‹é‡çš„åˆä¸ä»…ä»…æ˜¯æˆç»©ã€‚å½“ç„¶å…¶ä»–çš„æ–¹é¢å’Œæˆ‘çš„æˆç»©ä¹Ÿæ˜¯å¹³åˆ†ç§‹è‰²ğŸ˜…ğŸ˜…ï¼Œä¸å¥½å¤šè¯´ï¼Œåæ­£ä»å°åˆ°å¤§ï¼Œå®¶é•¿è¶Šæ˜¯æœŸå¾…ä»€ä¹ˆæˆ‘å°±è¶Šä¼šæç ¸ï¼Œæˆ‘æ€»æ˜¯è¯´è‡ªå·±ä»€ä¹ˆå›é€†ï¼Œå…¶å®ä¸æ˜¯å›é€†ï¼Œåªæ˜¯æˆ‘çš„æŠ—å‹èƒ½åŠ›å®åœ¨ä¸å¼ºï¼Œèº«ä¸Šä¸€æœ‰å‹åŠ›ï¼Œæˆ‘å°±åšä¸å¥½äº‹æƒ…äº†ã€‚ä¹Ÿåœ¨ç»ƒä¹ å•¦ï¼Œæ³°å±±å´©äºå‰é¢ä¸æ”¹è‰²æˆ‘èƒ½åšåˆ°ï¼Œå¯å¿ƒçš„ç °ç °çš„è·³ï¼Œæˆ‘æ§åˆ¶ä¸ä½ã€‚</p><p>åœ¨å¤§å­¦ä¹‹å‰ï¼Œæœ‰è€³é—»å¤§å­¦ä¸­çš„å„ç§å­¦ç”Ÿç»„ç»‡è²Œä¼¼æŒºæœ‰è¶£çš„ï¼Œå¤§å­¦é‡Œæˆ‘åŠ äº†ä¸€ä¸ªå­¦ç”Ÿä¼šï¼Œåšä¸€ä¸ªç®€ç®€å•å•çš„ç°å……ï¼ˆç°å®ç”Ÿæ´»å……å®çš„äººï¼‰ï¼Œä¸å·®çš„äººå“ï¼ŒåŠ ä¸Šæ­£å¸¸çš„å¤–å½¢ï¼ŒåŠ ä¸Šéå¸¸èƒ½å­å­ï¼Œæ‰€ä»¥æˆ‘çš„å¥³äººç¼˜ä¸ç®—å·®ï¼Œæˆ‘åœ¨å¤§å­¦é‡Œæˆ‘ç”šè‡³è¿ç­ä¸Šçš„åŒå­¦çš„åå­—éƒ½æ²¡è®°å…¨ï¼Œä½†æ˜¯æˆ‘å´è®°ä½äº†éƒ¨é—¨ä¸­çš„æ¯ä¸ªäººã€‚ä¸€èµ·ç»å†äº†ä¸¤å±Šè¿åŠ¨ä¼šï¼Œå‚ä¸ç»„ç»‡äº†å¤§å¤§å°å°çš„æ´»åŠ¨ï¼Œä¸€èµ·ä¸ºéƒ¨é—¨åº†ç”Ÿï¼Œéƒ¨é—¨åˆå¹¶æ”¹ååä½†åŸç­äººé©¬åŠé›†åˆç‚¹è¿˜åœ¨çš„çªƒå–œï¼Œä¸€èµ·èšé¤ï¼Œä¸€èµ·åœ¨æ“åœºä¸Šç©è€ï¼Œè¿™æ˜¯æˆ‘åœ¨å¤§å­¦é‡Œæœ€å®è´µçš„å›å¿†äº†ã€‚</p><p>å¤§ä¸€æˆ‘æ˜¯éƒ¨å‘˜ï¼Œå¤§äºŒæˆ‘æ˜¯éƒ¨é•¿ï¼Œå¤§ä¸‰æˆ‘ä¾¿å°±æ²¡æœ‰è¿‡å¤šçš„å‚ä¸å­¦ç”Ÿä¼šäº†ï¼Œå› ä¸ºæˆ‘è¦æ¯•ä¸šäº†ï¼Œæˆ‘å¿…é¡»è¦èŠ±ç‚¹æ—¶é—´æ€è€ƒæˆ‘æ¯•ä¸šäº†åšä»€ä¹ˆï¼Œæ˜¯æœ¬ä¸“ä¸šè¿˜æ˜¯å­¦ä¹ è‡ªå·±æƒ³å­¦çš„ï¼Œå‰ä¸¤å¹´çš„å‚åŠ éƒ¨é—¨æ´»åŠ¨ï¼Œæœ€åä¸€å¹´çš„æ€è€ƒï¼Œæœ‰äº†è¿™äº›äº‹æƒ…æˆ‘å¹¶æ²¡æœ‰åœ¨å®¿èˆé‡Œé¢å¾…å¾ˆé•¿æ—¶é—´ï¼Œå¤§å­¦çš„å®¿èˆæ˜¯æ»‹ç”Ÿé¢“åºŸçš„æ¸©åºŠï¼Œæœ€åçš„æœ€åè¿·èŒ«è¿‡ï¼Œä½†ä¹Ÿæœ€ç»ˆèµ°ä¸Šäº†æ­£é€”.</p><p>è¯´åˆ°è¿™é‡Œï¼Œæˆ‘åº”è¯¥éœ€è¦æ„Ÿè°¢ç”Ÿå‘½ä¸­çš„ä¸€ä¸ªäººï¼Œè¦ä¸æ˜¯å¥¹çš„å‡ºç°åˆæ¶ˆå¤±ï¼Œæˆ‘å¯èƒ½ä¹Ÿä¸ä¼šé™ä¸‹å¿ƒæ¥åšå®šè‡ªå·±çš„é€‰æ‹©ã€‚è¿‡ç¨‹æˆ–å–œæˆ–æ‚²å·²ç»ä¸é‡è¦äº†ï¼Œè¯´å¾—è¿‡å»çš„ç»“å±€ï¼Œæœ€åã€‚è°¢è°¢ï¼</p>          </div><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gn29xi0hq6j328f1cknpe.jpg" alt="é¬¼åˆ€"></p>]]></content>
    
    
    <categories>
      
      <category>ç¢ç¢å¿µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ–°çš„å¼€å§‹</title>
    <link href="/2021/08/10/other-01/"/>
    <url>/2021/08/10/other-01/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸»"><a href="#ä¸»" class="headerlink" title="ä¸»"></a>ä¸»</h2><div class="note note-info">            <p>æµæ°´è´¦ä¸€æ ·çš„åšå®¢å¹¶ä¸ä¼šç»™äººç•™ä¸‹çˆ±å­¦ä¹ ä»¥åŠçˆ±è®°å½•çš„å°è±¡ï¼Œåè€Œæ˜¯å‡åˆ†é¡¹ï¼Œè¯·åŠ¡å¿…è®¤çœŸå¯¹å¾…è‡ªå·±çš„æ¯ä¸€ç¯‡åšå®¢ï¼Œå¦‚æœä½ æƒ³è¢«äººé˜…è¯»çš„è¯ã€‚</p><p>è®°äºï¼š2021-08-10æ™š11ç‚¹æ•´</p>          </div><div class="note note-primary">            <p>ç”Ÿæ´»éœ€è¦å®šæœŸæ•´ç†ï¼Œåšå®¢ä¹Ÿéœ€è¦å®šæœŸæ•´ç†ï¼Œå®ç¼ºå‹¿æ»¥ï¼Œæ–­èˆç¦»ä¸€ç›´æ˜¯æˆ‘çš„äººç”Ÿç®´è¨€ã€‚</p><p>ä»¥å†™åšå®¢ä¾‹ï¼Œæˆ‘å®é™…ä¸Šæˆ‘ä¹ŸèŠ±äº†æ—¶é—´å†™åšå®¢ï¼Œå†™äº†ä¸€äº›æµæ°´è´¦ä¸€æ ·çš„åšå®¢ï¼Œæœ‰æ„ä¹‰å˜›ï¼Œè‚¯å®šæœ‰æ„ä¹‰ï¼Œä½†æ˜¯æ²¡æœ‰å¤ªå¤§çš„æ„ä¹‰ï¼Œä½†æ˜¯è¿™äº›æµæ°´è´¦ä¸€æ ·çš„åšå®¢å®ƒä¹Ÿä¼šå ç”¨äº†æˆ‘çš„æ—¶é—´ï¼Œæˆ‘çš„ç²¾åŠ›ï¼Œäººçš„ç²¾åŠ›æ˜¯æœ‰é™çš„ï¼Œæˆ‘å¯èƒ½å°±æ²¡æœ‰ç²¾åŠ›å†™å‡ºè‡ªå·±å–œæ¬¢çš„åšå®¢ã€‚</p><p>æƒ³èµ·ä»¥å‰çš„ä¸€ä¸ªé“ç†ï¼Œå¦‚æœä½ æ•·è¡äº†ç”Ÿæ´»ä¸­å¾ˆå¤šçš„å°äº‹ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬çš„å…³æ³¨ç‚¹å¯èƒ½å°±ä¸æ˜¯æ¯ä»¶å°äº‹çš„ç»“æœä¸Šï¼Œå…³æ³¨ç‚¹åœ¨è€Œæ˜¯æˆ‘ä»¬æ²¡æœ‰æ—¶é—´å»åšå¤§äº‹äº†ã€‚</p>          </div><h2 id="å°"><a href="#å°" class="headerlink" title="å°"></a>å°</h2><p><img src="https://cdn.ipfsscan.io/weibo/large/005NNTS5ly1gtc325zazej32yo1o0b29.jpg" alt="è‹±é›„è”ç›ŸLOLæ˜Ÿç±æ­Œå§¬ KDA ALL OUT åŒäºº è¨å‹’èŠ¬å¦®"></p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚æ–‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
